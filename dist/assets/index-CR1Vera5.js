(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var zf={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function dT(){if(_y)return ql;_y=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:a,type:s,key:d,ref:u!==void 0?u:null,props:h}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var vy;function mT(){return vy||(vy=1,zf.exports=dT()),zf.exports}var At=mT(),Bf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function gT(){if(Ey)return bt;Ey=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,W={};function H(V,Z,st){this.props=V,this.context=Z,this.refs=W,this.updater=st||k}H.prototype.isReactComponent={},H.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},H.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function nt(){}nt.prototype=H.prototype;function tt(V,Z,st){this.props=V,this.context=Z,this.refs=W,this.updater=st||k}var rt=tt.prototype=new nt;rt.constructor=tt,Q(rt,H.prototype),rt.isPureReactComponent=!0;var St=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},Ot=Object.prototype.hasOwnProperty;function O(V,Z,st,et,dt,wt){return st=wt.ref,{$$typeof:a,type:V,key:Z,ref:st!==void 0?st:null,props:wt}}function b(V,Z){return O(V.type,Z,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function N(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return Z[st]})}var M=/\/+/g;function U(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):Z.toString(36)}function C(){}function xe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function se(V,Z,st,et,dt){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var vt=!1;if(V===null)vt=!0;else switch(wt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(V.$$typeof){case a:case e:vt=!0;break;case T:return vt=V._init,se(vt(V._payload),Z,st,et,dt)}}if(vt)return dt=dt(V),vt=et===""?"."+U(V,0):et,St(dt)?(st="",vt!=null&&(st=vt.replace(M,"$&/")+"/"),se(dt,Z,st,"",function(Ln){return Ln})):dt!=null&&(w(dt)&&(dt=b(dt,st+(dt.key==null||V&&V.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+vt)),Z.push(dt)),1;vt=0;var Ce=et===""?".":et+":";if(St(V))for(var Zt=0;Zt<V.length;Zt++)et=V[Zt],wt=Ce+U(et,Zt),vt+=se(et,Z,st,wt,dt);else if(Zt=D(V),typeof Zt=="function")for(V=Zt.call(V),Zt=0;!(et=V.next()).done;)et=et.value,wt=Ce+U(et,Zt++),vt+=se(et,Z,st,wt,dt);else if(wt==="object"){if(typeof V.then=="function")return se(xe(V),Z,st,et,dt);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return vt}function G(V,Z,st){if(V==null)return V;var et=[],dt=0;return se(V,et,"","",function(wt){return Z.call(st,wt,dt++)}),et}function at(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Bt(){}return bt.Children={map:G,forEach:function(V,Z,st){G(V,function(){Z.apply(this,arguments)},st)},count:function(V){var Z=0;return G(V,function(){Z++}),Z},toArray:function(V){return G(V,function(Z){return Z})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},bt.Component=H,bt.Fragment=i,bt.Profiler=u,bt.PureComponent=tt,bt.StrictMode=s,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,bt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ht.H.useMemoCache(V)}},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cloneElement=function(V,Z,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var et=Q({},V.props),dt=V.key,wt=void 0;if(Z!=null)for(vt in Z.ref!==void 0&&(wt=void 0),Z.key!==void 0&&(dt=""+Z.key),Z)!Ot.call(Z,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Z.ref===void 0||(et[vt]=Z[vt]);var vt=arguments.length-2;if(vt===1)et.children=st;else if(1<vt){for(var Ce=Array(vt),Zt=0;Zt<vt;Zt++)Ce[Zt]=arguments[Zt+2];et.children=Ce}return O(V.type,dt,void 0,void 0,wt,et)},bt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},bt.createElement=function(V,Z,st){var et,dt={},wt=null;if(Z!=null)for(et in Z.key!==void 0&&(wt=""+Z.key),Z)Ot.call(Z,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(dt[et]=Z[et]);var vt=arguments.length-2;if(vt===1)dt.children=st;else if(1<vt){for(var Ce=Array(vt),Zt=0;Zt<vt;Zt++)Ce[Zt]=arguments[Zt+2];dt.children=Ce}if(V&&V.defaultProps)for(et in vt=V.defaultProps,vt)dt[et]===void 0&&(dt[et]=vt[et]);return O(V,wt,void 0,void 0,null,dt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:g,render:V}},bt.isValidElement=w,bt.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:at}},bt.memo=function(V,Z){return{$$typeof:p,type:V,compare:Z===void 0?null:Z}},bt.startTransition=function(V){var Z=ht.T,st={};ht.T=st;try{var et=V(),dt=ht.S;dt!==null&&dt(st,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Bt,ft)}catch(wt){ft(wt)}finally{ht.T=Z}},bt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},bt.use=function(V){return ht.H.use(V)},bt.useActionState=function(V,Z,st){return ht.H.useActionState(V,Z,st)},bt.useCallback=function(V,Z){return ht.H.useCallback(V,Z)},bt.useContext=function(V){return ht.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,Z){return ht.H.useDeferredValue(V,Z)},bt.useEffect=function(V,Z,st){var et=ht.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(V,Z)},bt.useId=function(){return ht.H.useId()},bt.useImperativeHandle=function(V,Z,st){return ht.H.useImperativeHandle(V,Z,st)},bt.useInsertionEffect=function(V,Z){return ht.H.useInsertionEffect(V,Z)},bt.useLayoutEffect=function(V,Z){return ht.H.useLayoutEffect(V,Z)},bt.useMemo=function(V,Z){return ht.H.useMemo(V,Z)},bt.useOptimistic=function(V,Z){return ht.H.useOptimistic(V,Z)},bt.useReducer=function(V,Z,st){return ht.H.useReducer(V,Z,st)},bt.useRef=function(V){return ht.H.useRef(V)},bt.useState=function(V){return ht.H.useState(V)},bt.useSyncExternalStore=function(V,Z,st){return ht.H.useSyncExternalStore(V,Z,st)},bt.useTransition=function(){return ht.H.useTransition()},bt.version="19.1.1",bt}var Ty;function Rd(){return Ty||(Ty=1,Bf.exports=gT()),Bf.exports}var Y=Rd(),kf={exports:{}},jl={},qf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function pT(){return Ay||(Ay=1,(function(a){function e(G,at){var ft=G.length;G.push(at);t:for(;0<ft;){var Bt=ft-1>>>1,V=G[Bt];if(0<u(V,at))G[Bt]=at,G[ft]=V,ft=Bt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var at=G[0],ft=G.pop();if(ft!==at){G[0]=ft;t:for(var Bt=0,V=G.length,Z=V>>>1;Bt<Z;){var st=2*(Bt+1)-1,et=G[st],dt=st+1,wt=G[dt];if(0>u(et,ft))dt<V&&0>u(wt,et)?(G[Bt]=wt,G[dt]=ft,Bt=dt):(G[Bt]=et,G[st]=ft,Bt=st);else if(dt<V&&0>u(wt,ft))G[Bt]=wt,G[dt]=ft,Bt=dt;else break t}}return at}function u(G,at){var ft=G.sortIndex-at.sortIndex;return ft!==0?ft:G.id-at.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],p=[],T=1,S=null,D=3,k=!1,Q=!1,W=!1,H=!1,nt=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function St(G){for(var at=i(p);at!==null;){if(at.callback===null)s(p);else if(at.startTime<=G)s(p),at.sortIndex=at.expirationTime,e(y,at);else break;at=i(p)}}function ht(G){if(W=!1,St(G),!Q)if(i(y)!==null)Q=!0,Ot||(Ot=!0,U());else{var at=i(p);at!==null&&se(ht,at.startTime-G)}}var Ot=!1,O=-1,b=5,w=-1;function N(){return H?!0:!(a.unstable_now()-w<b)}function M(){if(H=!1,Ot){var G=a.unstable_now();w=G;var at=!0;try{t:{Q=!1,W&&(W=!1,tt(O),O=-1),k=!0;var ft=D;try{e:{for(St(G),S=i(y);S!==null&&!(S.expirationTime>G&&N());){var Bt=S.callback;if(typeof Bt=="function"){S.callback=null,D=S.priorityLevel;var V=Bt(S.expirationTime<=G);if(G=a.unstable_now(),typeof V=="function"){S.callback=V,St(G),at=!0;break e}S===i(y)&&s(y),St(G)}else s(y);S=i(y)}if(S!==null)at=!0;else{var Z=i(p);Z!==null&&se(ht,Z.startTime-G),at=!1}}break t}finally{S=null,D=ft,k=!1}at=void 0}}finally{at?U():Ot=!1}}}var U;if(typeof rt=="function")U=function(){rt(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,xe=C.port2;C.port1.onmessage=M,U=function(){xe.postMessage(null)}}else U=function(){nt(M,0)};function se(G,at){O=nt(function(){G(a.unstable_now())},at)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return D},a.unstable_next=function(G){switch(D){case 1:case 2:case 3:var at=3;break;default:at=D}var ft=D;D=at;try{return G()}finally{D=ft}},a.unstable_requestPaint=function(){H=!0},a.unstable_runWithPriority=function(G,at){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=D;D=G;try{return at()}finally{D=ft}},a.unstable_scheduleCallback=function(G,at,ft){var Bt=a.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Bt+ft:Bt):ft=Bt,G){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ft+V,G={id:T++,callback:at,priorityLevel:G,startTime:ft,expirationTime:V,sortIndex:-1},ft>Bt?(G.sortIndex=ft,e(p,G),i(y)===null&&G===i(p)&&(W?(tt(O),O=-1):W=!0,se(ht,ft-Bt))):(G.sortIndex=V,e(y,G),Q||k||(Q=!0,Ot||(Ot=!0,U()))),G},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(G){var at=D;return function(){var ft=D;D=at;try{return G.apply(this,arguments)}finally{D=ft}}}})(jf)),jf}var Sy;function yT(){return Sy||(Sy=1,qf.exports=pT()),qf.exports}var Hf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function _T(){if(by)return Qe;by=1;var a=Rd();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(y,p,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:y,containerInfo:p,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(y,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return h(y,p,null,T)},Qe.flushSync=function(y){var p=d.T,T=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=T,s.d.f()}},Qe.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Qe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Qe.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin),D=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:k}):T==="script"&&s.d.X(y,{crossOrigin:S,integrity:D,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Qe.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Qe.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin);s.d.L(y,T,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Qe.preloadModule=function(y,p){if(typeof y=="string")if(p){var T=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Qe.requestFormReset=function(y){s.d.r(y)},Qe.unstable_batchedUpdates=function(y,p){return y(p)},Qe.useFormState=function(y,p,T){return d.H.useFormState(y,p,T)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var Ry;function vT(){if(Ry)return Hf.exports;Ry=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Hf.exports=_T(),Hf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function ET(){if(wy)return jl;wy=1;var a=yT(),e=Rd(),i=vT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===r){v=!0,r=c,l=f;break}if(E===l){v=!0,l=c,r=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===r){v=!0,r=f,l=c;break}if(E===l){v=!0,l=f,r=c;break}E=E.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),nt=Symbol.for("react.provider"),tt=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case H:return"Profiler";case W:return"StrictMode";case ht:return"Suspense";case Ot:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case rt:return(t.displayName||"Context")+".Provider";case tt:return(t._context.displayName||"Context")+".Consumer";case St:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:xe(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return xe(t(n))}catch{}}return null}var se=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Bt=[],V=-1;function Z(t){return{current:t}}function st(t){0>V||(t.current=Bt[V],Bt[V]=null,V--)}function et(t,n){V++,Bt[V]=t.current,t.current=n}var dt=Z(null),wt=Z(null),vt=Z(null),Ce=Z(null);function Zt(t,n){switch(et(vt,n),et(wt,t),et(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Qp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Qp(n),t=Yp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}st(dt),et(dt,t)}function Ln(){st(dt),st(wt),st(vt)}function qi(t){t.memoizedState!==null&&et(Ce,t);var n=dt.current,r=Yp(n,t.type);n!==r&&(et(wt,t),et(dt,r))}function ui(t){wt.current===t&&(st(dt),st(wt)),Ce.current===t&&(st(Ce),Ll._currentValue=ft)}var Dr=Object.prototype.hasOwnProperty,Vr=a.unstable_scheduleCallback,Ir=a.unstable_cancelCallback,Ms=a.unstable_shouldYield,pu=a.unstable_requestPaint,mn=a.unstable_now,Pc=a.unstable_getCurrentPriorityLevel,xs=a.unstable_ImmediatePriority,Ea=a.unstable_UserBlockingPriority,Nr=a.unstable_NormalPriority,zc=a.unstable_LowPriority,Ta=a.unstable_IdlePriority,Us=a.log,yu=a.unstable_setDisableYieldValue,le=null,Ht=null;function an(t){if(typeof Us=="function"&&yu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(le,t)}catch{}}var Ge=Math.clz32?Math.clz32:Or,_u=Math.log,Bc=Math.LN2;function Or(t){return t>>>=0,t===0?32:31-(_u(t)/Bc|0)|0}var Mr=256,xr=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Aa(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Vn(l):(v&=E,v!==0?c=Vn(v):r||(r=E&~t,r!==0&&(c=Vn(r))))):(E=l&~f,E!==0?c=Vn(E):v!==0?c=Vn(v):r||(r=l&~t,r!==0&&(c=Vn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Ur(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ls(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ps(){var t=Mr;return Mr<<=1,(Mr&4194048)===0&&(Mr=256),t}function zs(){var t=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),t}function oi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ci(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bs(t,n,r,l,c,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(r=v&~r;0<r;){var F=31-Ge(r),X=1<<F;E[F]=0,R[F]=-1;var B=z[F];if(B!==null)for(z[F]=null,F=0;F<B.length;F++){var q=B[F];q!==null&&(q.lane&=-536870913)}r&=~X}l!==0&&Pn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Pn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ge(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function ks(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ge(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Sa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hi(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:fy(t.type))}function vu(t,n){var r=at.p;try{return at.p=t,n()}finally{at.p=r}}var ee=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ee,me="__reactProps$"+ee,gn="__reactContainer$"+ee,qs="__reactEvents$"+ee,kc="__reactListeners$"+ee,Gi="__reactHandles$"+ee,Eu="__reactResources$"+ee,Lr="__reactMarker$"+ee;function Fi(t){delete t[Ee],delete t[me],delete t[qs],delete t[kc],delete t[Gi]}function hi(t){var n=t[Ee];if(n)return n;for(var r=t.parentNode;r;){if(n=r[gn]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Zp(t);t!==null;){if(r=t[Ee])return r;t=Zp(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[Ee]||t[gn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function $e(t){var n=t[Eu];return n||(n=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[Lr]=!0}var js=new Set,ba={};function In(t,n){fi(t,n),fi(t+"Capture",n)}function fi(t,n){for(ba[t]=n,t=0;t<n.length;t++)js.add(n[t])}var Tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Au={},Pr={};function Su(t){return Dr.call(Pr,t)?!0:Dr.call(Au,t)?!1:Tu.test(t)?Pr[t]=!0:(Au[t]=!0,!1)}function Qi(t,n,r){if(Su(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function kn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ue(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var zr,bu;function di(t){if(zr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);zr=n&&n[1]||"",bu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zr+t+bu}var Ra=!1;function wa(t,n){if(!t||Ra)return"";Ra=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var B=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){B=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){B=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var R=v.split(`
`),z=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===z.length)for(l=R.length-1,c=z.length-1;1<=l&&0<=c&&R[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==z[c]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Ra=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?di(r):""}function Hs(t){switch(t.tag){case 26:case 27:case 5:return di(t.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return wa(t.type,!1);case 11:return wa(t.type.render,!1);case 1:return wa(t.type,!0);case 31:return di("Activity");default:return""}}function Ca(t){try{var n="";do n+=Hs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qc(t){var n=Gs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Da(t){t._valueTracker||(t._valueTracker=qc(t))}function Fs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Gs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Br(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jc=/[\n"\\]/g;function ge(t){return t.replace(jc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,r,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Yi(t,v,Ze(n)):r!=null?Yi(t,v,Ze(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ze(E):t.removeAttribute("name")}function kr(t,n,r,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ze(r):"",n=n!=null?""+Ze(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Yi(t,n,r){n==="number"&&Br(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function mi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ze(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ze(r):""}function qr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ze(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||jr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Qs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Ru(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ru(t,f,n[f])}function Ys(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(t){return Gc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gi=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pi=null,yi=null;function Ks(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[me]||null;if(!c)throw Error(s(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Fs(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&mi(t,!!r.multiple,n,!1)}}}var qn=!1;function wu(t,n,r){if(qn)return t(n,r);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(pi!==null||yi!==null)&&(Eo(),pi&&(n=pi,t=yi,yi=pi=null,Ks(n),t)))for(n=0;n<t.length;n++)Ks(t[n])}}function Hr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(Nn)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{_n=!1}var jn=null,Ki=null,_i=null;function Xs(){if(_i)return _i;var t,n=Ki,r=n.length,l,c="value"in jn?jn.value:jn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===c[f-l];l++);return _i=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function $s(){return!1}function De(t){function n(r,l,c,f,v){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:$s,this.isPropagationStopped=$s,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=De(qt),Fr=T({},qt,{view:0,detail:0}),Cu=De(Fr),Na,Oa,Fn,Qr=T({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Na=t.screenX-Fn.screenX,Oa=t.screenY-Fn.screenY):Oa=Na=0,Fn=t),Na)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),vn=De(Qr),Du=T({},Qr,{dataTransfer:0}),Fc=De(Du),Yr=T({},Fr,{relatedTarget:0}),Ma=De(Yr),Zs=T({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=De(Zs),Vu=T({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ua=De(Vu),Qc=T({},qt,{data:0}),Js=De(Qc),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ws(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Nu[t])?!!n[t]:!1}function Xr(){return Ws}var Ou=T({},Fr,{key:function(t){if(t.key){var n=Kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),La=De(Ou),Mu=T({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=De(Mu),vi=T({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),xu=De(vi),Uu=T({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lu=De(Uu),Pu=T({},Qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pa=De(Pu),Je=T({},qt,{newState:0,oldState:0}),zu=De(Je),Bu=[9,13,27,32],Qn=Nn&&"CompositionEvent"in window,o=null;Nn&&"documentMode"in document&&(o=document.documentMode);var m=Nn&&"TextEvent"in window&&!o,_=Nn&&(!Qn||o&&8<o&&11>=o),A=" ",L=!1;function j(t,n){switch(t){case"keyup":return Bu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function Te(t,n){switch(t){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(L=!0,A);case"textInput":return t=n.data,t===A&&L?null:t;default:return null}}function xt(t,n){if(Mt)return t==="compositionend"||!Qn&&j(t,n)?(t=Xs(),_i=Ki=jn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function Ei(t,n,r,l){pi?yi?yi.push(l):yi=[l]:pi=l,n=wo(n,"onChange"),0<n.length&&(r=new Ia("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Le=null,Yn=null;function el(t){qp(t,0)}function ku(t){var n=Bn(t);if(Fs(n))return t}function um(t,n){if(t==="change")return n}var om=!1;if(Nn){var Yc;if(Nn){var Kc="oninput"in document;if(!Kc){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),Kc=typeof cm.oninput=="function"}Yc=Kc}else Yc=!1;om=Yc&&(!document.documentMode||9<document.documentMode)}function hm(){Le&&(Le.detachEvent("onpropertychange",fm),Yn=Le=null)}function fm(t){if(t.propertyName==="value"&&ku(Yn)){var n=[];Ei(n,Yn,t,yn(t)),wu(el,n)}}function HE(t,n,r){t==="focusin"?(hm(),Le=n,Yn=r,Le.attachEvent("onpropertychange",fm)):t==="focusout"&&hm()}function GE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(Yn)}function FE(t,n){if(t==="click")return ku(n)}function QE(t,n){if(t==="input"||t==="change")return ku(n)}function YE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:YE;function nl(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Dr.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function dm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mm(t,n){var r=dm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=dm(r)}}function gm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?gm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function pm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Br(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Br(t.document)}return n}function Xc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var KE=Nn&&"documentMode"in document&&11>=document.documentMode,za=null,$c=null,il=null,Zc=!1;function ym(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zc||za==null||za!==Br(l)||(l=za,"selectionStart"in l&&Xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=wo($c,"onSelect"),0<l.length&&(n=new Ia("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=za)))}function $r(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ba={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Jc={},_m={};Nn&&(_m=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Zr(t){if(Jc[t])return Jc[t];if(!Ba[t])return t;var n=Ba[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in _m)return Jc[t]=n[r];return t}var vm=Zr("animationend"),Em=Zr("animationiteration"),Tm=Zr("animationstart"),XE=Zr("transitionrun"),$E=Zr("transitionstart"),ZE=Zr("transitioncancel"),Am=Zr("transitionend"),Sm=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function On(t,n){Sm.set(t,n),In(n,[t])}var bm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var r=bm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ca(n)},bm.set(t,n),n)}return{value:t,source:n,stack:Ca(n)}}var Tn=[],ka=0,th=0;function qu(){for(var t=ka,n=th=ka=0;n<t;){var r=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&Rm(r,c,f)}}function ju(t,n,r,l){Tn[ka++]=t,Tn[ka++]=n,Tn[ka++]=r,Tn[ka++]=l,th|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function eh(t,n,r,l){return ju(t,n,r,l),Hu(t)}function qa(t,n){return ju(t,null,null,n),Hu(t)}function Rm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ge(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Hu(t){if(50<Dl)throw Dl=0,uf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ja={};function JE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,r,l){return new JE(t,n,r,l)}function nh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ti(t,n){var r=t.alternate;return r===null?(r=un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function wm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Gu(t,n,r,l,c,f){var v=0;if(l=t,typeof t=="function")nh(t)&&(v=1);else if(typeof t=="string")v=tT(t,r,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=un(31,r,n,c),t.elementType=w,t.lanes=f,t;case Q:return Jr(r.children,c,f,n);case W:v=8,c|=24;break;case H:return t=un(12,r,n,c|2),t.elementType=H,t.lanes=f,t;case ht:return t=un(13,r,n,c),t.elementType=ht,t.lanes=f,t;case Ot:return t=un(19,r,n,c),t.elementType=Ot,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nt:case rt:v=10;break t;case tt:v=9;break t;case St:v=11;break t;case O:v=14;break t;case b:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=un(v,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Jr(t,n,r,l){return t=un(7,t,l,n),t.lanes=r,t}function ih(t,n,r){return t=un(6,t,null,n),t.lanes=r,t}function rh(t,n,r){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ha=[],Ga=0,Fu=null,Qu=0,An=[],Sn=0,Wr=null,Ai=1,Si="";function ta(t,n){Ha[Ga++]=Qu,Ha[Ga++]=Fu,Fu=t,Qu=n}function Cm(t,n,r){An[Sn++]=Ai,An[Sn++]=Si,An[Sn++]=Wr,Wr=t;var l=Ai;t=Si;var c=32-Ge(l)-1;l&=~(1<<c),r+=1;var f=32-Ge(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Ai=1<<32-Ge(n)+c|r<<c|l,Si=f+t}else Ai=1<<f|r<<c|l,Si=t}function ah(t){t.return!==null&&(ta(t,1),Cm(t,1,0))}function sh(t){for(;t===Fu;)Fu=Ha[--Ga],Ha[Ga]=null,Qu=Ha[--Ga],Ha[Ga]=null;for(;t===Wr;)Wr=An[--Sn],An[Sn]=null,Si=An[--Sn],An[Sn]=null,Ai=An[--Sn],An[Sn]=null}var We=null,ue=null,kt=!1,ea=null,Kn=!1,lh=Error(s(519));function na(t){var n=Error(s(418,""));throw sl(En(n,t)),lh}function Dm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[me]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<Il.length;r++)Vt(Il[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),kr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Da(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),qr(n,l.value,l.defaultValue,l.children),Da(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Fp(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=Co),n=!0):n=!1,n||na(t)}function Vm(t){for(We=t.return;We;)switch(We.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:We=We.return}}function rl(t){if(t!==We)return!1;if(!kt)return Vm(t),kt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||bf(t.type,t.memoizedProps)),r=!r),r&&ue&&na(t),Vm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ue=xn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ue=null}}else n===27?(n=ue,cr(t.type)?(t=Df,Df=null,ue=t):ue=n):ue=We?xn(t.stateNode.nextSibling):null;return!0}function al(){ue=We=null,kt=!1}function Im(){var t=ea;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),ea=null),t}function sl(t){ea===null?ea=[t]:ea.push(t)}var uh=Z(null),ia=null,bi=null;function Xi(t,n,r){et(uh,n._currentValue),n._currentValue=r}function Ri(t){t._currentValue=uh.current,st(uh)}function oh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function ch(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),oh(f.return,r,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),oh(v,r,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function ll(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=c.type;ln(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ce.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}c=c.return}t!==null&&ch(n,t,r,l),n.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ra(t){ia=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Fe(t){return Nm(ia,t)}function Ku(t,n){return ia===null&&ra(t),Nm(t,n)}function Nm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},bi===null){if(t===null)throw Error(s(308));bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else bi=bi.next=n;return r}var WE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},t0=a.unstable_scheduleCallback,e0=a.unstable_NormalPriority,Se={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hh(){return{controller:new WE,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&t0(e0,function(){t.controller.abort()})}var ol=null,fh=0,Fa=0,Qa=null;function n0(t,n){if(ol===null){var r=ol=[];fh=0,Fa=gf(),Qa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return fh++,n.then(Om,Om),n}function Om(){if(--fh===0&&ol!==null){Qa!==null&&(Qa.status="fulfilled");var t=ol;ol=null,Fa=0,Qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function i0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Mm=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&n0(t,n),Mm!==null&&Mm(t,n)};var aa=Z(null);function dh(){var t=aa.current;return t!==null?t:Jt.pooledCache}function Xu(t,n){n===null?et(aa,aa.current):et(aa,n.pool)}function xm(){var t=dh();return t===null?null:{parent:Se._currentValue,pool:t}}var cl=Error(s(460)),Um=Error(s(474)),$u=Error(s(542)),mh={then:function(){}};function Lm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zu(){}function Pm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Zu,Zu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bm(t),t;default:if(typeof n.status=="string")n.then(Zu,Zu);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bm(t),t}throw hl=n,cl}}var hl=null;function zm(){if(hl===null)throw Error(s(459));var t=hl;return hl=null,t}function Bm(t){if(t===cl||t===$u)throw Error(s(483))}var $i=!1;function gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ph(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ji(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Hu(t),Rm(t,null,r),n}return ju(t,l,n,r),Hu(t)}function fl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ks(t,r)}}function yh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var _h=!1;function dl(){if(_h){var t=Qa;if(t!==null)throw t}}function ml(t,n,r,l){_h=!1;var c=t.updateQueue;$i=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,z=R.next;R.next=null,v===null?f=z:v.next=z,v=R;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var X=c.baseState;v=0,F=z=R=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ut&B)===B:(l&B)===B){B!==0&&B===Fa&&(_h=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,gt=E;B=n;var Xt=r;switch(gt.tag){case 1:if(_t=gt.payload,typeof _t=="function"){X=_t.call(Xt,X,B);break t}X=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=gt.payload,B=typeof _t=="function"?_t.call(Xt,X,B):_t,B==null)break t;X=T({},X,B);break t;case 2:$i=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,R=X):F=F.next=q,v|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);F===null&&(R=X),c.baseState=R,c.firstBaseUpdate=z,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),sr|=v,t.lanes=v,t.memoizedState=X}}function km(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function qm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)km(r[t],n)}var Ya=Z(null),Ju=Z(0);function jm(t,n){t=Oi,et(Ju,t),et(Ya,n),Oi=t|n.baseLanes}function vh(){et(Ju,Oi),et(Ya,Ya.current)}function Eh(){Oi=Ju.current,st(Ya),st(Ju)}var Wi=0,Rt=null,Yt=null,pe=null,Wu=!1,Ka=!1,sa=!1,to=0,gl=0,Xa=null,r0=0;function he(){throw Error(s(321))}function Th(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function Ah(t,n,r,l,c,f){return Wi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Rg:wg,sa=!1,f=r(l,c),sa=!1,Ka&&(f=Gm(n,r,l,c)),Hm(t),f}function Hm(t){G.H=so;var n=Yt!==null&&Yt.next!==null;if(Wi=0,pe=Yt=Rt=null,Wu=!1,gl=0,Xa=null,n)throw Error(s(300));t===null||Ie||(t=t.dependencies,t!==null&&Yu(t)&&(Ie=!0))}function Gm(t,n,r,l){Rt=t;var c=0;do{if(Ka&&(Xa=null),gl=0,Ka=!1,25<=c)throw Error(s(301));if(c+=1,pe=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=h0,f=n(r,l)}while(Ka);return f}function a0(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?pl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function Sh(){var t=to!==0;return to=0,t}function bh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Rh(t){if(Wu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wu=!1}Wi=0,pe=Yt=Rt=null,Ka=!1,gl=to=0,Xa=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Rt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Yt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=pe===null?Rt.memoizedState:pe.next;if(n!==null)pe=n,Yt=t;else{if(t===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},pe===null?Rt.memoizedState=pe=t:pe=pe.next=t}return pe}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var n=gl;return gl+=1,Xa===null&&(Xa=[]),t=Pm(Xa,t,n),n=Rt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Rg:wg),t}function eo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===rt)return Fe(t)}throw Error(s(438,String(t)))}function Ch(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=wh(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function wi(t,n){return typeof n=="function"?n(t):n}function no(t){var n=ye();return Dh(n,Yt,t)}function Dh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,R=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ut&X)===X:(Wi&X)===X){var B=z.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Fa&&(F=!0);else if((Wi&B)===B){z=z.next,B===Fa&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=X,v=f):R=R.next=X,Rt.lanes|=B,sr|=B;X=z.action,sa&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else B={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=B,v=f):R=R.next=B,Rt.lanes|=X,sr|=X;z=z.next}while(z!==null&&z!==n);if(R===null?v=f:R.next=E,!ln(f,t.memoizedState)&&(Ie=!0,F&&(r=Qa,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Vh(t){var n=ye(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);ln(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Fm(t,n,r){var l=Rt,c=ye(),f=kt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!ln((Yt||c).memoizedState,r);v&&(c.memoizedState=r,Ie=!0),c=c.queue;var E=Km.bind(null,l,c,t);if(yl(2048,8,E,[t]),c.getSnapshot!==n||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,$a(9,io(),Ym.bind(null,l,c,r,n),null),Jt===null)throw Error(s(349));f||(Wi&124)!==0||Qm(l,n,r)}return r}function Qm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=wh(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Ym(t,n,r,l){n.value=r,n.getSnapshot=l,Xm(n)&&$m(t)}function Km(t,n,r){return r(function(){Xm(n)&&$m(t)})}function Xm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function $m(t){var n=qa(t,2);n!==null&&dn(n,t,2)}function Ih(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),sa){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},n}function Zm(t,n,r,l){return t.baseState=r,Dh(t,Yt,typeof l=="function"?l:wi)}function s0(t,n,r,l,c){if(ao(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Jm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Jm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,v={};G.T=v;try{var E=r(c,l),R=G.S;R!==null&&R(v,E),Wm(t,n,E)}catch(z){Nh(t,n,z)}finally{G.T=f}}else try{f=r(c,l),Wm(t,n,f)}catch(z){Nh(t,n,z)}}function Wm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){tg(t,n,l)},function(l){return Nh(t,n,l)}):tg(t,n,r)}function tg(t,n,r){n.status="fulfilled",n.value=r,eg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Jm(t,r)))}function Nh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,eg(n),n=n.next;while(n!==l)}t.action=null}function eg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ng(t,n){return n}function ig(t,n){if(kt){var r=Jt.formState;if(r!==null){t:{var l=Rt;if(kt){if(ue){e:{for(var c=ue,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ue=xn(c.nextSibling),l=c.data==="F!";break t}}na(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ng,lastRenderedState:n},r.queue=l,r=Ag.bind(null,Rt,l),l.dispatch=r,l=Ih(!1),f=Lh.bind(null,Rt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=s0.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function rg(t){var n=ye();return ag(n,Yt,t)}function ag(t,n,r){if(n=Dh(t,n,ng)[0],t=no(wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=pl(n)}catch(v){throw v===cl?$u:v}else l=n;n=ye();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,$a(9,io(),l0.bind(null,c,r),null)),[l,f,t]}function l0(t,n){t.action=n}function sg(t){var n=ye(),r=Yt;if(r!==null)return ag(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function $a(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=wh(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function io(){return{destroy:void 0,resource:void 0}}function lg(){return ye().memoizedState}function ro(t,n,r,l){var c=tn();l=l===void 0?null:l,Rt.flags|=t,c.memoizedState=$a(1|n,io(),r,l)}function yl(t,n,r,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&Th(l,Yt.memoizedState.deps)?c.memoizedState=$a(n,f,r,l):(Rt.flags|=t,c.memoizedState=$a(1|n,f,r,l))}function ug(t,n){ro(8390656,8,t,n)}function og(t,n){yl(2048,8,t,n)}function cg(t,n){return yl(4,2,t,n)}function hg(t,n){return yl(4,4,t,n)}function fg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function dg(t,n,r){r=r!=null?r.concat([t]):null,yl(4,4,fg.bind(null,n,t),r)}function Oh(){}function mg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Th(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function gg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Th(n,l[1]))return l[0];if(l=t(),sa){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l}function Mh(t,n,r){return r===void 0||(Wi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=_p(),Rt.lanes|=t,sr|=t,r)}function pg(t,n,r,l){return ln(r,n)?r:Ya.current!==null?(t=Mh(t,r,l),ln(t,n)||(Ie=!0),t):(Wi&42)===0?(Ie=!0,t.memoizedState=r):(t=_p(),Rt.lanes|=t,sr|=t,n)}function yg(t,n,r,l,c){var f=at.p;at.p=f!==0&&8>f?f:8;var v=G.T,E={};G.T=E,Lh(t,!1,n,r);try{var R=c(),z=G.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=i0(R,l);_l(t,n,F,fn(t))}else _l(t,n,l,fn(t))}catch(X){_l(t,n,{then:function(){},status:"rejected",reason:X},fn())}finally{at.p=f,G.T=v}}function u0(){}function xh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=_g(t).queue;yg(t,c,n,ft,r===null?u0:function(){return vg(t),r(l)})}function _g(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function vg(t){var n=_g(t).next.queue;_l(t,n,{},fn())}function Uh(){return Fe(Ll)}function Eg(){return ye().memoizedState}function Tg(){return ye().memoizedState}function o0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=Zi(r);var l=Ji(n,t,r);l!==null&&(dn(l,n,r),fl(l,n,r)),n={cache:hh()},t.payload=n;return}n=n.return}}function c0(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ao(t)?Sg(n,r):(r=eh(t,n,r,l),r!==null&&(dn(r,t,l),bg(r,n,l)))}function Ag(t,n,r){var l=fn();_l(t,n,r,l)}function _l(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ao(t))Sg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,v))return ju(t,n,c,0),Jt===null&&qu(),!1}catch{}finally{}if(r=eh(t,n,c,l),r!==null)return dn(r,t,l),bg(r,n,l),!0}return!1}function Lh(t,n,r,l){if(l={lane:2,revertLane:gf(),action:l,hasEagerState:!1,eagerState:null,next:null},ao(t)){if(n)throw Error(s(479))}else n=eh(t,r,l,2),n!==null&&dn(n,t,2)}function ao(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Sg(t,n){Ka=Wu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function bg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ks(t,r)}}var so={readContext:Fe,use:eo,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Rg={readContext:Fe,use:eo,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:Fe,useEffect:ug,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ro(4194308,4,fg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ro(4194308,4,t,n)},useInsertionEffect:function(t,n){ro(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(sa){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(sa){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=c0.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ih(t);var n=t.queue,r=Ag.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Oh,useDeferredValue:function(t,n){var r=tn();return Mh(r,t,n)},useTransition:function(){var t=Ih(!1);return t=yg.bind(null,Rt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=tn();if(kt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(Ut&124)!==0||Qm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,ug(Km.bind(null,l,f,t),[t]),l.flags|=2048,$a(9,io(),Ym.bind(null,l,f,r,n),null),r},useId:function(){var t=tn(),n=Jt.identifierPrefix;if(kt){var r=Si,l=Ai;r=(l&~(1<<32-Ge(l)-1)).toString(32)+r,n=""+n+"R"+r,r=to++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=r0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Uh,useFormState:ig,useActionState:ig,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Lh.bind(null,Rt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ch,useCacheRefresh:function(){return tn().memoizedState=o0.bind(null,Rt)}},wg={readContext:Fe,use:eo,useCallback:mg,useContext:Fe,useEffect:og,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:gg,useReducer:no,useRef:lg,useState:function(){return no(wi)},useDebugValue:Oh,useDeferredValue:function(t,n){var r=ye();return pg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=no(wi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:pl(t),n]},useSyncExternalStore:Fm,useId:Eg,useHostTransitionStatus:Uh,useFormState:rg,useActionState:rg,useOptimistic:function(t,n){var r=ye();return Zm(r,Yt,t,n)},useMemoCache:Ch,useCacheRefresh:Tg},h0={readContext:Fe,use:eo,useCallback:mg,useContext:Fe,useEffect:og,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:gg,useReducer:Vh,useRef:lg,useState:function(){return Vh(wi)},useDebugValue:Oh,useDeferredValue:function(t,n){var r=ye();return Yt===null?Mh(r,t,n):pg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Vh(wi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:pl(t),n]},useSyncExternalStore:Fm,useId:Eg,useHostTransitionStatus:Uh,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var r=ye();return Yt!==null?Zm(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ch,useCacheRefresh:Tg},Za=null,vl=0;function lo(t){var n=vl;return vl+=1,Za===null&&(Za=[]),Pm(Za,t,n)}function El(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function uo(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Cg(t){var n=t._init;return n(t._payload)}function Dg(t){function n(x,I){if(t){var P=x.deletions;P===null?(x.deletions=[I],x.flags|=16):P.push(I)}}function r(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function c(x,I){return x=Ti(x,I),x.index=0,x.sibling=null,x}function f(x,I,P){return x.index=P,t?(P=x.alternate,P!==null?(P=P.index,P<I?(x.flags|=67108866,I):P):(x.flags|=67108866,I)):(x.flags|=1048576,I)}function v(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,I,P,K){return I===null||I.tag!==6?(I=ih(P,x.mode,K),I.return=x,I):(I=c(I,P),I.return=x,I)}function R(x,I,P,K){var ut=P.type;return ut===Q?F(x,I,P.props.children,K,P.key):I!==null&&(I.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Cg(ut)===I.type)?(I=c(I,P.props),El(I,P),I.return=x,I):(I=Gu(P.type,P.key,P.props,null,x.mode,K),El(I,P),I.return=x,I)}function z(x,I,P,K){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=rh(P,x.mode,K),I.return=x,I):(I=c(I,P.children||[]),I.return=x,I)}function F(x,I,P,K,ut){return I===null||I.tag!==7?(I=Jr(P,x.mode,K,ut),I.return=x,I):(I=c(I,P),I.return=x,I)}function X(x,I,P){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=ih(""+I,x.mode,P),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case D:return P=Gu(I.type,I.key,I.props,null,x.mode,P),El(P,I),P.return=x,P;case k:return I=rh(I,x.mode,P),I.return=x,I;case b:var K=I._init;return I=K(I._payload),X(x,I,P)}if(se(I)||U(I))return I=Jr(I,x.mode,P,null),I.return=x,I;if(typeof I.then=="function")return X(x,lo(I),P);if(I.$$typeof===rt)return X(x,Ku(x,I),P);uo(x,I)}return null}function B(x,I,P,K){var ut=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(x,I,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case D:return P.key===ut?R(x,I,P,K):null;case k:return P.key===ut?z(x,I,P,K):null;case b:return ut=P._init,P=ut(P._payload),B(x,I,P,K)}if(se(P)||U(P))return ut!==null?null:F(x,I,P,K,null);if(typeof P.then=="function")return B(x,I,lo(P),K);if(P.$$typeof===rt)return B(x,I,Ku(x,P),K);uo(x,P)}return null}function q(x,I,P,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return x=x.get(P)||null,E(I,x,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case D:return x=x.get(K.key===null?P:K.key)||null,R(I,x,K,ut);case k:return x=x.get(K.key===null?P:K.key)||null,z(I,x,K,ut);case b:var Ct=K._init;return K=Ct(K._payload),q(x,I,P,K,ut)}if(se(K)||U(K))return x=x.get(P)||null,F(I,x,K,ut,null);if(typeof K.then=="function")return q(x,I,P,lo(K),ut);if(K.$$typeof===rt)return q(x,I,P,Ku(I,K),ut);uo(I,K)}return null}function _t(x,I,P,K){for(var ut=null,Ct=null,ct=I,pt=I=0,Oe=null;ct!==null&&pt<P.length;pt++){ct.index>pt?(Oe=ct,ct=null):Oe=ct.sibling;var zt=B(x,ct,P[pt],K);if(zt===null){ct===null&&(ct=Oe);break}t&&ct&&zt.alternate===null&&n(x,ct),I=f(zt,I,pt),Ct===null?ut=zt:Ct.sibling=zt,Ct=zt,ct=Oe}if(pt===P.length)return r(x,ct),kt&&ta(x,pt),ut;if(ct===null){for(;pt<P.length;pt++)ct=X(x,P[pt],K),ct!==null&&(I=f(ct,I,pt),Ct===null?ut=ct:Ct.sibling=ct,Ct=ct);return kt&&ta(x,pt),ut}for(ct=l(ct);pt<P.length;pt++)Oe=q(ct,x,pt,P[pt],K),Oe!==null&&(t&&Oe.alternate!==null&&ct.delete(Oe.key===null?pt:Oe.key),I=f(Oe,I,pt),Ct===null?ut=Oe:Ct.sibling=Oe,Ct=Oe);return t&&ct.forEach(function(gr){return n(x,gr)}),kt&&ta(x,pt),ut}function gt(x,I,P,K){if(P==null)throw Error(s(151));for(var ut=null,Ct=null,ct=I,pt=I=0,Oe=null,zt=P.next();ct!==null&&!zt.done;pt++,zt=P.next()){ct.index>pt?(Oe=ct,ct=null):Oe=ct.sibling;var gr=B(x,ct,zt.value,K);if(gr===null){ct===null&&(ct=Oe);break}t&&ct&&gr.alternate===null&&n(x,ct),I=f(gr,I,pt),Ct===null?ut=gr:Ct.sibling=gr,Ct=gr,ct=Oe}if(zt.done)return r(x,ct),kt&&ta(x,pt),ut;if(ct===null){for(;!zt.done;pt++,zt=P.next())zt=X(x,zt.value,K),zt!==null&&(I=f(zt,I,pt),Ct===null?ut=zt:Ct.sibling=zt,Ct=zt);return kt&&ta(x,pt),ut}for(ct=l(ct);!zt.done;pt++,zt=P.next())zt=q(ct,x,pt,zt.value,K),zt!==null&&(t&&zt.alternate!==null&&ct.delete(zt.key===null?pt:zt.key),I=f(zt,I,pt),Ct===null?ut=zt:Ct.sibling=zt,Ct=zt);return t&&ct.forEach(function(fT){return n(x,fT)}),kt&&ta(x,pt),ut}function Xt(x,I,P,K){if(typeof P=="object"&&P!==null&&P.type===Q&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case D:t:{for(var ut=P.key;I!==null;){if(I.key===ut){if(ut=P.type,ut===Q){if(I.tag===7){r(x,I.sibling),K=c(I,P.props.children),K.return=x,x=K;break t}}else if(I.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Cg(ut)===I.type){r(x,I.sibling),K=c(I,P.props),El(K,P),K.return=x,x=K;break t}r(x,I);break}else n(x,I);I=I.sibling}P.type===Q?(K=Jr(P.props.children,x.mode,K,P.key),K.return=x,x=K):(K=Gu(P.type,P.key,P.props,null,x.mode,K),El(K,P),K.return=x,x=K)}return v(x);case k:t:{for(ut=P.key;I!==null;){if(I.key===ut)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){r(x,I.sibling),K=c(I,P.children||[]),K.return=x,x=K;break t}else{r(x,I);break}else n(x,I);I=I.sibling}K=rh(P,x.mode,K),K.return=x,x=K}return v(x);case b:return ut=P._init,P=ut(P._payload),Xt(x,I,P,K)}if(se(P))return _t(x,I,P,K);if(U(P)){if(ut=U(P),typeof ut!="function")throw Error(s(150));return P=ut.call(P),gt(x,I,P,K)}if(typeof P.then=="function")return Xt(x,I,lo(P),K);if(P.$$typeof===rt)return Xt(x,I,Ku(x,P),K);uo(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,I!==null&&I.tag===6?(r(x,I.sibling),K=c(I,P),K.return=x,x=K):(r(x,I),K=ih(P,x.mode,K),K.return=x,x=K),v(x)):r(x,I)}return function(x,I,P,K){try{vl=0;var ut=Xt(x,I,P,K);return Za=null,ut}catch(ct){if(ct===cl||ct===$u)throw ct;var Ct=un(29,ct,null,x.mode);return Ct.lanes=K,Ct.return=x,Ct}finally{}}}var Ja=Dg(!0),Vg=Dg(!1),bn=Z(null),Xn=null;function tr(t){var n=t.alternate;et(be,be.current&1),et(bn,t),Xn===null&&(n===null||Ya.current!==null||n.memoizedState!==null)&&(Xn=t)}function Ig(t){if(t.tag===22){if(et(be,be.current),et(bn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else er()}function er(){et(be,be.current),et(bn,bn.current)}function Ci(t){st(bn),Xn===t&&(Xn=null),st(be)}var be=Z(0);function oo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Cf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ph(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:T({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Zi(l);c.payload=n,r!=null&&(c.callback=r),n=Ji(t,c,l),n!==null&&(dn(n,t,l),fl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Zi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Ji(t,c,l),n!==null&&(dn(n,t,l),fl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=Zi(r);l.tag=2,n!=null&&(l.callback=n),n=Ji(t,l,r),n!==null&&(dn(n,t,r),fl(n,t,r))}};function Ng(t,n,r,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!nl(r,l)||!nl(c,f):!0}function Og(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&zh.enqueueReplaceState(n,n.state,null)}function la(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=T({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var co=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Mg(t){co(t)}function xg(t){console.error(t)}function Ug(t){co(t)}function ho(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Lg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Bh(t,n,r){return r=Zi(r),r.tag=3,r.payload={element:null},r.callback=function(){ho(t,n)},r}function Pg(t){return t=Zi(t),t.tag=3,t}function zg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Lg(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Lg(n,r,l),typeof c!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function f0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ll(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Xn===null?cf():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===mh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ff(t,l,c)),!1;case 22:return r.flags|=65536,l===mh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ff(t,l,c)),!1}throw Error(s(435,r.tag))}return ff(t,l,c),cf(),!1}if(kt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==lh&&(t=Error(s(422),{cause:l}),sl(En(t,r)))):(l!==lh&&(n=Error(s(423),{cause:l}),sl(En(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,r),c=Bh(t.stateNode,l,c),yh(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=En(f,r),Cl===null?Cl=[f]:Cl.push(f),oe!==4&&(oe=2),n===null)return!0;l=En(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Bh(r.stateNode,l,t),yh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(lr===null||!lr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Pg(c),zg(c,t,r,l),yh(r,c),!1}r=r.return}while(r!==null);return!1}var Bg=Error(s(461)),Ie=!1;function Pe(t,n,r,l){n.child=t===null?Vg(n,null,r,l):Ja(n,t.child,r,l)}function kg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return ra(n),l=Ah(t,n,r,v,f,c),E=Sh(),t!==null&&!Ie?(bh(t,n,c),Di(t,n,c)):(kt&&E&&ah(n),n.flags|=1,Pe(t,n,l,c),n.child)}function qg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!nh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,jg(t,n,f,l,c)):(t=Gu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Yh(t,c)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:nl,r(v,l)&&t.ref===n.ref)return Di(t,n,c)}return n.flags|=1,t=Ti(f,l),t.ref=n.ref,t.return=n,n.child=t}function jg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(nl(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,Yh(t,c))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,Di(t,n,c)}return kh(t,n,r,l,c)}function Hg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Gg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(n,f!==null?f.cachePool:null),f!==null?jm(n,f):vh(),Ig(n);else return n.lanes=n.childLanes=536870912,Gg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Xu(n,f.cachePool),jm(n,f),er(),n.memoizedState=null):(t!==null&&Xu(n,null),vh(),er());return Pe(t,n,c,r),n.child}function Gg(t,n,r,l){var c=dh();return c=c===null?null:{parent:Se._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Xu(n,null),vh(),Ig(n),t!==null&&ll(t,n,l,!0),null}function fo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function kh(t,n,r,l,c){return ra(n),r=Ah(t,n,r,l,void 0,c),l=Sh(),t!==null&&!Ie?(bh(t,n,c),Di(t,n,c)):(kt&&l&&ah(n),n.flags|=1,Pe(t,n,r,c),n.child)}function Fg(t,n,r,l,c,f){return ra(n),n.updateQueue=null,r=Gm(n,l,r,c),Hm(t),l=Sh(),t!==null&&!Ie?(bh(t,n,f),Di(t,n,f)):(kt&&l&&ah(n),n.flags|=1,Pe(t,n,r,f),n.child)}function Qg(t,n,r,l,c){if(ra(n),n.stateNode===null){var f=ja,v=r.contextType;typeof v=="object"&&v!==null&&(f=Fe(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},gh(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?Fe(v):ja,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Ph(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&zh.enqueueReplaceState(f,f.state,null),ml(n,l,f,c),dl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=la(r,E);f.props=R;var z=f.context,F=r.contextType;v=ja,typeof F=="object"&&F!==null&&(v=Fe(F));var X=r.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==v)&&Og(n,f,l,v),$i=!1;var B=n.memoizedState;f.state=B,ml(n,l,f,c),dl(),z=n.memoizedState,E||B!==z||$i?(typeof X=="function"&&(Ph(n,r,X,l),z=n.memoizedState),(R=$i||Ng(n,r,R,l,B,z,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=v,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ph(t,n),v=n.memoizedProps,F=la(r,v),f.props=F,X=n.pendingProps,B=f.context,z=r.contextType,R=ja,typeof z=="object"&&z!==null&&(R=Fe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==X||B!==R)&&Og(n,f,l,R),$i=!1,B=n.memoizedState,f.state=B,ml(n,l,f,c),dl();var q=n.memoizedState;v!==X||B!==q||$i||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof E=="function"&&(Ph(n,r,E,l),q=n.memoizedState),(F=$i||Ng(n,r,F,l,B,q,R)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ja(n,t.child,null,c),n.child=Ja(n,null,r,c)):Pe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Di(t,n,c),t}function Yg(t,n,r,l){return al(),n.flags|=256,Pe(t,n,r,l),n.child}var qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jh(t){return{baseLanes:t,cachePool:xm()}}function Hh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Rn),t}function Kg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(c?tr(n):er(),kt){var E=ue,R;if(R=E){t:{for(R=E,E=Kn;R.nodeType!==8;){if(!E){E=null;break t}if(R=xn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Wr!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},R=un(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,We=n,ue=null,R=!0):R=!1}R||na(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Cf(E)?n.lanes=32:n.lanes=536870912,null;Ci(n)}return E=l.children,l=l.fallback,c?(er(),c=n.mode,E=mo({mode:"hidden",children:E},c),l=Jr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=jh(r),c.childLanes=Hh(t,v,r),n.memoizedState=qh,l):(tr(n),Gh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(tr(n),n.flags&=-257,n=Fh(t,n,r)):n.memoizedState!==null?(er(),n.child=t.child,n.flags|=128,n=null):(er(),c=l.fallback,E=n.mode,l=mo({mode:"visible",children:l.children},E),c=Jr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ja(n,t.child,null,r),l=n.child,l.memoizedState=jh(r),l.childLanes=Hh(t,v,r),n.memoizedState=qh,n=c);else if(tr(n),Cf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,sl({value:l,source:null,stack:null}),n=Fh(t,n,r)}else if(Ie||ll(t,n,r,!1),v=(r&t.childLanes)!==0,Ie||v){if(v=Jt,v!==null&&(l=r&-r,l=(l&42)!==0?1:ji(l),l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,qa(t,l),dn(v,t,l),Bg;E.data==="$?"||cf(),n=Fh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ue=xn(E.nextSibling),We=n,kt=!0,ea=null,Kn=!1,t!==null&&(An[Sn++]=Ai,An[Sn++]=Si,An[Sn++]=Wr,Ai=t.id,Si=t.overflow,Wr=n),n=Gh(n,l.children),n.flags|=4096);return n}return c?(er(),c=l.fallback,E=n.mode,R=t.child,z=R.sibling,l=Ti(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?c=Ti(z,c):(c=Jr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=jh(r):(R=E.cachePool,R!==null?(z=Se._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=xm(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=Hh(t,v,r),n.memoizedState=qh,l):(tr(n),r=t.child,t=r.sibling,r=Ti(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function Gh(t,n){return n=mo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function mo(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Fh(t,n,r){return Ja(n,t.child,null,r),t=Gh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Xg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),oh(t.return,n,r)}function Qh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function $g(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Pe(t,n,l.children,r),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xg(t,r,n);else if(t.tag===19)Xg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(et(be,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&oo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Qh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&oo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Qh(n,!0,r,null,f);break;case"together":Qh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Di(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),sr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ll(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Ti(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ti(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Yh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function d0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Xi(n,Se,t.memoizedState.cache),al();break;case 27:case 5:qi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Xi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(tr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Kg(t,n,r):(tr(n),t=Di(t,n,r),t!==null?t.sibling:null);tr(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ll(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return $g(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,Hg(t,n,r);case 24:Xi(n,Se,t.memoizedState.cache)}return Di(t,n,r)}function Zg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Yh(t,r)&&(n.flags&128)===0)return Ie=!1,d0(t,n,r);Ie=(t.flags&131072)!==0}else Ie=!1,kt&&(n.flags&1048576)!==0&&Cm(n,Qu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")nh(l)?(t=la(l,t),n.tag=1,n=Qg(null,n,l,t,r)):(n.tag=0,n=kh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===St){n.tag=11,n=kg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=qg(null,n,l,t,r);break t}}throw n=xe(l)||l,Error(s(306,n,""))}}return n;case 0:return kh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=la(l,n.pendingProps),Qg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ph(t,n),ml(n,l,null,r);var v=n.memoizedState;if(l=v.cache,Xi(n,Se,l),l!==f.cache&&ch(n,[Se],r,!0),dl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Yg(t,n,l,r);break t}else if(l!==c){c=En(Error(s(424)),n),sl(c),n=Yg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ue=xn(t.firstChild),We=n,kt=!0,ea=null,Kn=!0,r=Vg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(al(),l===c){n=Di(t,n,r);break t}Pe(t,n,l,r)}n=n.child}return n;case 26:return fo(t,n),t===null?(r=ey(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,t=n.pendingProps,l=Do(vt.current).createElement(r),l[Ee]=n,l[me]=t,Be(l,r,t),ce(l),n.stateNode=l):n.memoizedState=ey(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qi(n),t===null&&kt&&(l=n.stateNode=Jp(n.type,n.pendingProps,vt.current),We=n,Kn=!0,c=ue,cr(n.type)?(Df=c,ue=xn(l.firstChild)):ue=c),Pe(t,n,n.pendingProps.children,r),fo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((c=l=ue)&&(l=q0(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,We=n,ue=xn(l.firstChild),Kn=!1,c=!0):c=!1),c||na(n)),qi(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,bf(c,f)?l=null:v!==null&&bf(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=Ah(t,n,a0,null,null,r),Ll._currentValue=c),fo(t,n),Pe(t,n,l,r),n.child;case 6:return t===null&&kt&&((t=r=ue)&&(r=j0(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,We=n,ue=null,t=!0):t=!1),t||na(n)),null;case 13:return Kg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ja(n,null,l,r):Pe(t,n,l,r),n.child;case 11:return kg(t,n,n.type,n.pendingProps,r);case 7:return Pe(t,n,n.pendingProps,r),n.child;case 8:return Pe(t,n,n.pendingProps.children,r),n.child;case 12:return Pe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Xi(n,n.type,l.value),Pe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ra(n),c=Fe(c),l=l(c),n.flags|=1,Pe(t,n,l,r),n.child;case 14:return qg(t,n,n.type,n.pendingProps,r);case 15:return jg(t,n,n.type,n.pendingProps,r);case 19:return $g(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=mo(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ti(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Hg(t,n,r);case 24:return ra(n),l=Fe(Se),t===null?(c=dh(),c===null&&(c=Jt,f=hh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},gh(n),Xi(n,Se,c)):((t.lanes&r)!==0&&(ph(t,n),ml(n,null,null,r),dl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Xi(n,Se,l)):(l=f.cache,Xi(n,Se,l),l!==c.cache&&ch(n,[Se],r,!0))),Pe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Vi(t){t.flags|=4}function Jg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sy(n)){if(n=bn.current,n!==null&&((Ut&4194048)===Ut?Xn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Xn))throw hl=mh,Um;t.flags|=8192}}function go(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?zs():536870912,t.lanes|=n,ns|=n)}function Tl(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function m0(t,n,r){var l=n.pendingProps;switch(sh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ri(Se),Ln(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rl(n)?Vi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Im())),ie(n),null;case 26:return r=n.memoizedState,t===null?(Vi(n),r!==null?(ie(n),Jg(n,r)):(ie(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Vi(n),ie(n),Jg(n,r)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Vi(n),ie(n),n.flags&=-16777217),null;case 27:ui(n),r=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=dt.current,rl(n)?Dm(n):(t=Jp(c,l,r),n.stateNode=t,Vi(n))}return ie(n),null;case 5:if(ui(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(t=dt.current,rl(n))Dm(n);else{switch(c=Do(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Ee]=n,t[me]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Be(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Vi(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=vt.current,rl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Fp(t.nodeValue,r)),t||na(n)}else t=Do(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=rl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ee]=n}else al(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=Im(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ci(n),n):(Ci(n),null)}if(Ci(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),go(n,n.updateQueue),ie(n),null;case 4:return Ln(),t===null&&vf(n.stateNode.containerInfo),ie(n),null;case 10:return Ri(n.type),ie(n),null;case 19:if(st(be),c=n.memoizedState,c===null)return ie(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Tl(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=oo(t),f!==null){for(n.flags|=128,Tl(c,!1),t=f.updateQueue,n.updateQueue=t,go(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)wm(r,t),r=r.sibling;return et(be,be.current&1|2),n.child}t=t.sibling}c.tail!==null&&mn()>_o&&(n.flags|=128,l=!0,Tl(c,!1),n.lanes=4194304)}else{if(!l)if(t=oo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,go(n,t),Tl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!kt)return ie(n),null}else 2*mn()-c.renderingStartTime>_o&&r!==536870912&&(n.flags|=128,l=!0,Tl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=mn(),n.sibling=null,t=be.current,et(be,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return Ci(n),Eh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&go(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&st(aa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ri(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function g0(t,n){switch(sh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ri(Se),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ui(n),null;case 13:if(Ci(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));al()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return st(be),null;case 4:return Ln(),null;case 10:return Ri(n.type),null;case 22:case 23:return Ci(n),Eh(),t!==null&&st(aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ri(Se),null;case 25:return null;default:return null}}function Wg(t,n){switch(sh(n),n.tag){case 3:Ri(Se),Ln();break;case 26:case 27:case 5:ui(n);break;case 4:Ln();break;case 13:Ci(n);break;case 19:st(be);break;case 10:Ri(n.type);break;case 22:case 23:Ci(n),Eh(),t!==null&&st(aa);break;case 24:Ri(Se)}}function Al(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==c)}}catch(E){$t(n,n.return,E)}}function nr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var R=r,z=E;try{z()}catch(F){$t(c,R,F)}}}l=l.next}while(l!==f)}}catch(F){$t(n,n.return,F)}}function tp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{qm(n,r)}catch(l){$t(t,t.return,l)}}}function ep(t,n,r){r.props=la(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){$t(t,n,l)}}function Sl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){$t(t,n,c)}}function $n(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){$t(t,n,c)}else r.current=null}function np(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){$t(t,t.return,c)}}function Kh(t,n,r){try{var l=t.stateNode;L0(l,t.type,r,n),l[me]=n}catch(c){$t(t,t.return,c)}}function ip(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&cr(t.type)||t.tag===4}function Xh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ip(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $h(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Co));else if(l!==4&&(l===27&&cr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for($h(t,n,r),t=t.sibling;t!==null;)$h(t,n,r),t=t.sibling}function po(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&cr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(po(t,n,r),t=t.sibling;t!==null;)po(t,n,r),t=t.sibling}function rp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Be(n,l,r),n[Ee]=t,n[me]=r}catch(f){$t(t,t.return,f)}}var Ii=!1,fe=!1,Zh=!1,ap=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function p0(t,n){if(t=t.containerInfo,Af=xo,t=pm(t),Xc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,E=-1,R=-1,z=0,F=0,X=t,B=null;e:for(;;){for(var q;X!==r||c!==0&&X.nodeType!==3||(E=v+c),X!==f||l!==0&&X.nodeType!==3||(R=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(q=X.firstChild)!==null;)B=X,X=q;for(;;){if(X===t)break e;if(B===r&&++z===c&&(E=v),B===f&&++F===l&&(R=v),(q=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sf={focusedElem:t,selectionRange:r},xo=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var _t=la(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){$t(r,r.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)wf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}}function sp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ir(t,r),l&4&&Al(5,r);break;case 1:if(ir(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){$t(r,r.return,v)}else{var c=la(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(r,r.return,v)}}l&64&&tp(r),l&512&&Sl(r,r.return);break;case 3:if(ir(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{qm(t,n)}catch(v){$t(r,r.return,v)}}break;case 27:n===null&&l&4&&rp(r);case 26:case 5:ir(t,r),n===null&&l&4&&np(r),l&512&&Sl(r,r.return);break;case 12:ir(t,r);break;case 13:ir(t,r),l&4&&op(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=R0.bind(null,r),H0(t,r))));break;case 22:if(l=r.memoizedState!==null||Ii,!l){n=n!==null&&n.memoizedState!==null||fe,c=Ii;var f=fe;Ii=l,(fe=n)&&!f?rr(t,r,(r.subtreeFlags&8772)!==0):ir(t,r),Ii=c,fe=f}break;case 30:break;default:ir(t,r)}}function lp(t){var n=t.alternate;n!==null&&(t.alternate=null,lp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Fi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,en=!1;function Ni(t,n,r){for(r=r.child;r!==null;)up(t,n,r),r=r.sibling}function up(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(le,r)}catch{}switch(r.tag){case 26:fe||$n(r,n),Ni(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fe||$n(r,n);var l=ne,c=en;cr(r.type)&&(ne=r.stateNode,en=!1),Ni(t,n,r),Ol(r.stateNode),ne=l,en=c;break;case 5:fe||$n(r,n);case 6:if(l=ne,c=en,ne=null,Ni(t,n,r),ne=l,en=c,ne!==null)if(en)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{ne.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:ne!==null&&(en?(t=ne,$p(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),kl(t)):$p(ne,r.stateNode));break;case 4:l=ne,c=en,ne=r.stateNode.containerInfo,en=!0,Ni(t,n,r),ne=l,en=c;break;case 0:case 11:case 14:case 15:fe||nr(2,r,n),fe||nr(4,r,n),Ni(t,n,r);break;case 1:fe||($n(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&ep(r,n,l)),Ni(t,n,r);break;case 21:Ni(t,n,r);break;case 22:fe=(l=fe)||r.memoizedState!==null,Ni(t,n,r),fe=l;break;default:Ni(t,n,r)}}function op(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(r){$t(n,n.return,r)}}function y0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ap),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ap),n;default:throw Error(s(435,t.tag))}}function Jh(t,n){var r=y0(t);n.forEach(function(l){var c=w0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(cr(E.type)){ne=E.stateNode,en=!1;break t}break;case 5:ne=E.stateNode,en=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ne===null)throw Error(s(160));up(f,v,c),ne=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)cp(n,t),n=n.sibling}var Mn=null;function cp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),cn(t),l&4&&(nr(3,t,t.return),Al(3,t),nr(5,t,t.return));break;case 1:on(n,t),cn(t),l&512&&(fe||r===null||$n(r,r.return)),l&64&&Ii&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Mn;if(on(n,t),cn(t),l&512&&(fe||r===null||$n(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Lr]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Be(f,l,r),f[Ee]=t,ce(f),l=f;break t;case"link":var v=ry("link","href",c).get(l+(r.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),Be(f,l,r),c.head.appendChild(f);break;case"meta":if(v=ry("meta","content",c).get(l+(r.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(E,1);break e}}f=c.createElement(l),Be(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ee]=t,ce(f),l=f}t.stateNode=l}else ay(c,t.type,t.stateNode);else t.stateNode=iy(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?ay(c,t.type,t.stateNode):iy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kh(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),cn(t),l&512&&(fe||r===null||$n(r,r.return)),r!==null&&l&4&&Kh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),cn(t),l&512&&(fe||r===null||$n(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(q){$t(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Kh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Zh=!0);break;case 6:if(on(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){$t(t,t.return,q)}}break;case 3:if(No=null,c=Mn,Mn=Vo(n.containerInfo),on(n,t),Mn=c,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{kl(n.containerInfo)}catch(q){$t(t,t.return,q)}Zh&&(Zh=!1,hp(t));break;case 4:l=Mn,Mn=Vo(t.stateNode.containerInfo),on(n,t),cn(t),Mn=l;break;case 12:on(n,t),cn(t);break;case 13:on(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(af=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Jh(t,l)));break;case 22:c=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=Ii,F=fe;if(Ii=z||c,fe=F||R,on(n,t),fe=F,Ii=z,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||Ii||fe||ua(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){$t(R,R.return,q)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(q){$t(R,R.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Jh(t,r))));break;case 19:on(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Jh(t,l)));break;case 30:break;case 21:break;default:on(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(ip(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Xh(t);po(t,f,c);break;case 5:var v=r.stateNode;r.flags&32&&(pn(v,""),r.flags&=-33);var E=Xh(t);po(t,E,v);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Xh(t);$h(t,z,R);break;default:throw Error(s(161))}}catch(F){$t(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function hp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ir(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sp(t,n.alternate,n),n=n.sibling}function ua(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:nr(4,n,n.return),ua(n);break;case 1:$n(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ep(n,n.return,r),ua(n);break;case 27:Ol(n.stateNode);case 26:case 5:$n(n,n.return),ua(n);break;case 22:n.memoizedState===null&&ua(n);break;case 30:ua(n);break;default:ua(n)}t=t.sibling}}function rr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:rr(c,f,r),Al(4,f);break;case 1:if(rr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)km(R[c],E)}catch(z){$t(l,l.return,z)}}r&&v&64&&tp(f),Sl(f,f.return);break;case 27:rp(f);case 26:case 5:rr(c,f,r),r&&l===null&&v&4&&np(f),Sl(f,f.return);break;case 12:rr(c,f,r);break;case 13:rr(c,f,r),r&&v&4&&op(c,f);break;case 22:f.memoizedState===null&&rr(c,f,r),Sl(f,f.return);break;case 30:break;default:rr(c,f,r)}n=n.sibling}}function Wh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ul(r))}function tf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function Zn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fp(t,n,r,l),n=n.sibling}function fp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,r,l),c&2048&&Al(9,n);break;case 1:Zn(t,n,r,l);break;case 3:Zn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){Zn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else Zn(t,n,r,l);break;case 13:Zn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(t,n,r,l):bl(t,n):f._visibility&2?Zn(t,n,r,l):(f._visibility|=2,Wa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Wh(v,n);break;case 24:Zn(t,n,r,l),c&2048&&tf(n.alternate,n);break;default:Zn(t,n,r,l)}}function Wa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=r,R=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Wa(f,v,E,R,c),Al(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?Wa(f,v,E,R,c):bl(f,v):(F._visibility|=2,Wa(f,v,E,R,c)),c&&z&2048&&Wh(v.alternate,v);break;case 24:Wa(f,v,E,R,c),c&&z&2048&&tf(v.alternate,v);break;default:Wa(f,v,E,R,c)}n=n.sibling}}function bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:bl(r,l),c&2048&&Wh(l.alternate,l);break;case 24:bl(r,l),c&2048&&tf(l.alternate,l);break;default:bl(r,l)}n=n.sibling}}var Rl=8192;function ts(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)dp(t),t=t.sibling}function dp(t){switch(t.tag){case 26:ts(t),t.flags&Rl&&t.memoizedState!==null&&nT(Mn,t.memoizedState,t.memoizedProps);break;case 5:ts(t);break;case 3:case 4:var n=Mn;Mn=Vo(t.stateNode.containerInfo),ts(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Rl,Rl=16777216,ts(t),Rl=n):ts(t));break;default:ts(t)}}function mp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,pp(l,t)}mp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gp(t),t=t.sibling}function gp(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&nr(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,yo(t)):wl(t);break;default:wl(t)}}function yo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,pp(l,t)}mp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:nr(8,n,n.return),yo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,yo(n));break;default:yo(n)}t=t.sibling}}function pp(t,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:nr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=t;Ne!==null;){l=Ne;var c=l.sibling,f=l.return;if(lp(l),l===r){Ne=null;break t}if(c!==null){c.return=f,Ne=c;break t}Ne=f}}}var _0={getCacheForType:function(t){var n=Fe(Se),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},v0=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Dt=null,Ut=0,Ft=0,hn=null,ar=!1,es=!1,ef=!1,Oi=0,oe=0,sr=0,oa=0,nf=0,Rn=0,ns=0,Cl=null,nn=null,rf=!1,af=0,_o=1/0,vo=null,lr=null,ze=0,ur=null,is=null,rs=0,sf=0,lf=null,yp=null,Dl=0,uf=null;function fn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if(G.T!==null){var t=Fa;return t!==0?t:gf()}return Hi()}function _p(){Rn===0&&(Rn=(Ut&536870912)===0||kt?Ps():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function dn(t,n,r){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(as(t,0),or(t,Ut,Rn,!1)),ci(t,r),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(oa|=r),oe===4&&or(t,Ut,Rn,!1)),Jn(t))}function vp(t,n,r){if((Gt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Ur(t,n),c=l?A0(t,n):hf(t,n,!0),f=l;do{if(c===0){es&&!l&&or(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!E0(r)){c=hf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=Cl;var R=E.current.memoizedState.isDehydrated;if(R&&(as(E,v).flags|=256),v=hf(E,v,!1),v!==2){if(ef&&!R){E.errorRecoveryDisabledLanes|=f,oa|=f,c=4;break t}f=nn,nn=c,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){as(t,0),or(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:or(l,n,Rn,!ar);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=af+300-mn(),10<c)){if(or(l,n,Rn,!ar),Aa(l,0,!0)!==0)break t;l.timeoutHandle=Kp(Ep.bind(null,l,r,nn,vo,rf,n,Rn,oa,ns,ar,f,2,-0,0),c);break t}Ep(l,r,nn,vo,rf,n,Rn,oa,ns,ar,f,0,-0,0)}}break}while(!0);Jn(t)}function Ep(t,n,r,l,c,f,v,E,R,z,F,X,B,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:eT},dp(n),X=iT(),X!==null)){t.cancelPendingCommit=X(Cp.bind(null,t,n,f,r,l,c,v,E,R,F,1,B,q)),or(t,f,v,!z);return}Cp(t,n,f,r,l,c,v,E,R)}function E0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function or(t,n,r,l){n&=~nf,n&=~oa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ge(c),v=1<<f;l[f]=-1,c&=~v}r!==0&&Pn(t,r,n)}function Eo(){return(Gt&6)===0?(Vl(0),!1):!0}function of(){if(Dt!==null){if(Ft===0)var t=Dt.return;else t=Dt,bi=ia=null,Rh(t),Za=null,vl=0,t=Dt;for(;t!==null;)Wg(t.alternate,t),t=t.return;Dt=null}}function as(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,z0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),of(),Jt=t,Dt=r=Ti(t.current,null),Ut=n,Ft=0,hn=null,ar=!1,es=Ur(t,n),ef=!1,ns=Rn=nf=oa=sr=oe=0,nn=Cl=null,rf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ge(l),f=1<<c;n|=t[c],l&=~f}return Oi=n,qu(),r}function Tp(t,n){Rt=null,G.H=so,n===cl||n===$u?(n=zm(),Ft=3):n===Um?(n=zm(),Ft=4):Ft=n===Bg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Dt===null&&(oe=1,ho(t,En(n,t.current)))}function Ap(){var t=G.H;return G.H=so,t===null?so:t}function Sp(){var t=G.A;return G.A=_0,t}function cf(){oe=4,ar||(Ut&4194048)!==Ut&&bn.current!==null||(es=!0),(sr&134217727)===0&&(oa&134217727)===0||Jt===null||or(Jt,Ut,Rn,!1)}function hf(t,n,r){var l=Gt;Gt|=2;var c=Ap(),f=Sp();(Jt!==t||Ut!==n)&&(vo=null,as(t,n)),n=!1;var v=oe;t:do try{if(Ft!==0&&Dt!==null){var E=Dt,R=hn;switch(Ft){case 8:of(),v=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var z=Ft;if(Ft=0,hn=null,ss(t,E,R,z),r&&es){v=0;break t}break;default:z=Ft,Ft=0,hn=null,ss(t,E,R,z)}}T0(),v=oe;break}catch(F){Tp(t,F)}while(!0);return n&&t.shellSuspendCounter++,bi=ia=null,Gt=l,G.H=c,G.A=f,Dt===null&&(Jt=null,Ut=0,qu()),v}function T0(){for(;Dt!==null;)bp(Dt)}function A0(t,n){var r=Gt;Gt|=2;var l=Ap(),c=Sp();Jt!==t||Ut!==n?(vo=null,_o=mn()+500,as(t,n)):es=Ur(t,n);t:do try{if(Ft!==0&&Dt!==null){n=Dt;var f=hn;e:switch(Ft){case 1:Ft=0,hn=null,ss(t,n,f,1);break;case 2:case 9:if(Lm(f)){Ft=0,hn=null,Rp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),Jn(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Lm(f)?(Ft=0,hn=null,Rp(n)):(Ft=0,hn=null,ss(t,n,f,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var E=Dt;if(!v||sy(v)){Ft=0,hn=null;var R=E.sibling;if(R!==null)Dt=R;else{var z=E.return;z!==null?(Dt=z,To(z)):Dt=null}break e}}Ft=0,hn=null,ss(t,n,f,5);break;case 6:Ft=0,hn=null,ss(t,n,f,6);break;case 8:of(),oe=6;break t;default:throw Error(s(462))}}S0();break}catch(F){Tp(t,F)}while(!0);return bi=ia=null,G.H=l,G.A=c,Gt=r,Dt!==null?0:(Jt=null,Ut=0,qu(),oe)}function S0(){for(;Dt!==null&&!Ms();)bp(Dt)}function bp(t){var n=Zg(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,n===null?To(t):Dt=n}function Rp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Fg(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Fg(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Rh(n);default:Wg(r,n),n=Dt=wm(n,Oi),n=Zg(r,n,Oi)}t.memoizedProps=t.pendingProps,n===null?To(t):Dt=n}function ss(t,n,r,l){bi=ia=null,Rh(n),Za=null,vl=0;var c=n.return;try{if(f0(t,c,n,r,Ut)){oe=1,ho(t,En(r,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;oe=1,ho(t,En(r,t.current)),Dt=null;return}n.flags&32768?(kt||l===1?t=!0:es||(Ut&536870912)!==0?t=!1:(ar=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),wp(n,t)):To(n)}function To(t){var n=t;do{if((n.flags&32768)!==0){wp(n,ar);return}t=n.return;var r=m0(n.alternate,n,Oi);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);oe===0&&(oe=5)}function wp(t,n){do{var r=g0(t.alternate,t);if(r!==null){r.flags&=32767,Dt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=r}while(t!==null);oe=6,Dt=null}function Cp(t,n,r,l,c,f,v,E,R){t.cancelPendingCommit=null;do Ao();while(ze!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=th,Bs(t,r,f,v,E,R),t===Jt&&(Dt=Jt=null,Ut=0),is=n,ur=t,rs=r,sf=f,lf=c,yp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,C0(Nr,function(){return Op(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=at.p,at.p=2,v=Gt,Gt|=4;try{p0(t,n,r)}finally{Gt=v,at.p=c,G.T=l}}ze=1,Dp(),Vp(),Ip()}}function Dp(){if(ze===1){ze=0;var t=ur,n=is,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=at.p;at.p=2;var c=Gt;Gt|=4;try{cp(n,t);var f=Sf,v=pm(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&gm(E.ownerDocument.documentElement,E)){if(R!==null&&Xc(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var q=B.getSelection(),_t=E.textContent.length,gt=Math.min(R.start,_t),Xt=R.end===void 0?gt:Math.min(R.end,_t);!q.extend&&gt>Xt&&(v=Xt,Xt=gt,gt=v);var x=mm(E,gt),I=mm(E,Xt);if(x&&I&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==I.node||q.focusOffset!==I.offset)){var P=X.createRange();P.setStart(x.node,x.offset),q.removeAllRanges(),gt>Xt?(q.addRange(P),q.extend(I.node,I.offset)):(P.setEnd(I.node,I.offset),q.addRange(P))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}xo=!!Af,Sf=Af=null}finally{Gt=c,at.p=l,G.T=r}}t.current=n,ze=2}}function Vp(){if(ze===2){ze=0;var t=ur,n=is,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=at.p;at.p=2;var c=Gt;Gt|=4;try{sp(t,n.alternate,n)}finally{Gt=c,at.p=l,G.T=r}}ze=3}}function Ip(){if(ze===4||ze===3){ze=0,pu();var t=ur,n=is,r=rs,l=yp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,is=ur=null,Np(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(lr=null),Sa(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=at.p,at.p=2,G.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{G.T=n,at.p=c}}(rs&3)!==0&&Ao(),Jn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===uf?Dl++:(Dl=0,uf=t):Dl=0,Vl(0)}}function Np(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function Ao(t){return Dp(),Vp(),Ip(),Op()}function Op(){if(ze!==5)return!1;var t=ur,n=sf;sf=0;var r=Sa(rs),l=G.T,c=at.p;try{at.p=32>r?32:r,G.T=null,r=lf,lf=null;var f=ur,v=rs;if(ze=0,is=ur=null,rs=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,gp(f.current),fp(f,f.current,v,r),Gt=E,Vl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(le,f)}catch{}return!0}finally{at.p=c,G.T=l,Np(t,n)}}function Mp(t,n,r){n=En(r,n),n=Bh(t.stateNode,n,2),t=Ji(t,n,2),t!==null&&(ci(t,2),Jn(t))}function $t(t,n,r){if(t.tag===3)Mp(t,t,r);else for(;n!==null;){if(n.tag===3){Mp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(lr===null||!lr.has(l))){t=En(r,t),r=Pg(2),l=Ji(n,r,2),l!==null&&(zg(r,l,n,t),ci(l,2),Jn(l));break}}n=n.return}}function ff(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new v0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(ef=!0,c.add(r),t=b0.bind(null,t,n,r),n.then(t,t))}function b0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Ut&r)===r&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>mn()-af?(Gt&2)===0&&as(t,0):nf|=r,ns===Ut&&(ns=0)),Jn(t)}function xp(t,n){n===0&&(n=zs()),t=qa(t,n),t!==null&&(ci(t,n),Jn(t))}function R0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),xp(t,r)}function w0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),xp(t,r)}function C0(t,n){return Vr(t,n)}var So=null,ls=null,df=!1,bo=!1,mf=!1,ca=0;function Jn(t){t!==ls&&t.next===null&&(ls===null?So=ls=t:ls=ls.next=t),bo=!0,df||(df=!0,V0())}function Vl(t,n){if(!mf&&bo){mf=!0;do for(var r=!1,l=So;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ge(42|t)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,zp(l,f))}else f=Ut,f=Aa(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ur(l,f)||(r=!0,zp(l,f));l=l.next}while(r);mf=!1}}function D0(){Up()}function Up(){bo=df=!1;var t=0;ca!==0&&(P0()&&(t=ca),ca=0);for(var n=mn(),r=null,l=So;l!==null;){var c=l.next,f=Lp(l,n);f===0?(l.next=null,r===null?So=c:r.next=c,c===null&&(ls=r)):(r=l,(t!==0||(f&3)!==0)&&(bo=!0)),l=c}Vl(t)}function Lp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ge(f),E=1<<v,R=c[v];R===-1?((E&r)===0||(E&l)!==0)&&(c[v]=Ls(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,r=Ut,r=Aa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ir(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ur(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ir(l),Sa(r)){case 2:case 8:r=Ea;break;case 32:r=Nr;break;case 268435456:r=Ta;break;default:r=Nr}return l=Pp.bind(null,t),r=Vr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ir(l),t.callbackPriority=2,t.callbackNode=null,2}function Pp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ao()&&t.callbackNode!==r)return null;var l=Ut;return l=Aa(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(vp(t,l,n),Lp(t,mn()),t.callbackNode!=null&&t.callbackNode===r?Pp.bind(null,t):null)}function zp(t,n){if(Ao())return null;vp(t,n,!0)}function V0(){B0(function(){(Gt&6)!==0?Vr(xs,D0):Up()})}function gf(){return ca===0&&(ca=Ps()),ca}function Bp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Va(""+t)}function kp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function I0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Bp((c[me]||null).action),v=l.submitter;v&&(n=(n=v[me]||null)?Bp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Ia("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var R=v?kp(c,v):new FormData(c);xh(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=v?kp(c,v):new FormData(c),xh(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var pf=0;pf<Wc.length;pf++){var yf=Wc[pf],N0=yf.toLowerCase(),O0=yf[0].toUpperCase()+yf.slice(1);On(N0,"on"+O0)}On(vm,"onAnimationEnd"),On(Em,"onAnimationIteration"),On(Tm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(XE,"onTransitionRun"),On($E,"onTransitionStart"),On(ZE,"onTransitionCancel"),On(Am,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function qp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){co(F)}c.currentTarget=null,f=R}else for(v=0;v<l.length;v++){if(E=l[v],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){co(F)}c.currentTarget=null,f=R}}}}function Vt(t,n){var r=n[qs];r===void 0&&(r=n[qs]=new Set);var l=t+"__bubble";r.has(l)||(jp(n,t,2,!1),r.add(l))}function _f(t,n,r){var l=0;n&&(l|=4),jp(r,t,l,n)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function vf(t){if(!t[Ro]){t[Ro]=!0,js.forEach(function(r){r!=="selectionchange"&&(M0.has(r)||_f(r,!1,t),_f(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ro]||(n[Ro]=!0,_f("selectionchange",!1,n))}}function jp(t,n,r,l){switch(fy(n)){case 2:var c=sT;break;case 8:c=lT;break;default:c=Mf}r=c.bind(null,n,r,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Ef(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=hi(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=f=v;continue t}E=E.parentNode}}l=l.return}wu(function(){var z=f,F=yn(r),X=[];t:{var B=Sm.get(t);if(B!==void 0){var q=Ia,_t=t;switch(t){case"keypress":if(Hn(r)===0)break t;case"keydown":case"keyup":q=La;break;case"focusin":_t="focus",q=Ma;break;case"focusout":_t="blur",q=Ma;break;case"beforeblur":case"afterblur":q=Ma;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=xu;break;case vm:case Em:case Tm:q=xa;break;case Am:q=Lu;break;case"scroll":case"scrollend":q=Cu;break;case"wheel":q=Pa;break;case"copy":case"cut":case"paste":q=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=tl;break;case"toggle":case"beforetoggle":q=zu}var gt=(n&4)!==0,Xt=!gt&&(t==="scroll"||t==="scrollend"),x=gt?B!==null?B+"Capture":null:B;gt=[];for(var I=z,P;I!==null;){var K=I;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||x===null||(K=Hr(I,x),K!=null&&gt.push(Nl(I,K,P))),Xt)break;I=I.return}0<gt.length&&(B=new q(B,_t,null,r,F),X.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==gi&&(_t=r.relatedTarget||r.fromElement)&&(hi(_t)||_t[gn]))break t;if((q||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,q?(_t=r.relatedTarget||r.toElement,q=z,_t=_t?hi(_t):null,_t!==null&&(Xt=h(_t),gt=_t.tag,_t!==Xt||gt!==5&&gt!==27&&gt!==6)&&(_t=null)):(q=null,_t=z),q!==_t)){if(gt=vn,K="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(gt=tl,K="onPointerLeave",x="onPointerEnter",I="pointer"),Xt=q==null?B:Bn(q),P=_t==null?B:Bn(_t),B=new gt(K,I+"leave",q,r,F),B.target=Xt,B.relatedTarget=P,K=null,hi(F)===z&&(gt=new gt(x,I+"enter",_t,r,F),gt.target=P,gt.relatedTarget=Xt,K=gt),Xt=K,q&&_t)e:{for(gt=q,x=_t,I=0,P=gt;P;P=us(P))I++;for(P=0,K=x;K;K=us(K))P++;for(;0<I-P;)gt=us(gt),I--;for(;0<P-I;)x=us(x),P--;for(;I--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=us(gt),x=us(x)}gt=null}else gt=null;q!==null&&Hp(X,B,q,gt,!1),_t!==null&&Xt!==null&&Hp(X,Xt,_t,gt,!0)}}t:{if(B=z?Bn(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ut=um;else if(Ae(B))if(om)ut=QE;else{ut=GE;var Ct=HE}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ys(z.elementType)&&(ut=um):ut=FE;if(ut&&(ut=ut(t,z))){Ei(X,ut,r,F);break t}Ct&&Ct(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Yi(B,"number",B.value)}switch(Ct=z?Bn(z):window,t){case"focusin":(Ae(Ct)||Ct.contentEditable==="true")&&(za=Ct,$c=z,il=null);break;case"focusout":il=$c=za=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,ym(X,r,F);break;case"selectionchange":if(KE)break;case"keydown":case"keyup":ym(X,r,F)}var ct;if(Qn)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Mt?j(t,r)&&(pt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(_&&r.locale!=="ko"&&(Mt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Mt&&(ct=Xs()):(jn=F,Ki="value"in jn?jn.value:jn.textContent,Mt=!0)),Ct=wo(z,pt),0<Ct.length&&(pt=new Js(pt,t,null,r,F),X.push({event:pt,listeners:Ct}),ct?pt.data=ct:(ct=it(r),ct!==null&&(pt.data=ct)))),(ct=m?Te(t,r):xt(t,r))&&(pt=wo(z,"onBeforeInput"),0<pt.length&&(Ct=new Js("onBeforeInput","beforeinput",null,r,F),X.push({event:Ct,listeners:pt}),Ct.data=ct)),I0(X,t,z,r,F)}qp(X,n)})}function Nl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function wo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Hr(t,r),c!=null&&l.unshift(Nl(t,c,f)),c=Hr(t,n),c!=null&&l.push(Nl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Hp(t,n,r,l,c){for(var f=n._reactName,v=[];r!==null&&r!==l;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,c?(z=Hr(r,f),z!=null&&v.unshift(Nl(r,z,R))):c||(z=Hr(r,f),z!=null&&v.push(Nl(r,z,R)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var x0=/\r\n?/g,U0=/\u0000|\uFFFD/g;function Gp(t){return(typeof t=="string"?t:""+t).replace(x0,`
`).replace(U0,"")}function Fp(t,n){return n=Gp(n),Gp(t)===n}function Co(){}function Kt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,r,l);break;case"style":Qs(t,l,f);break;case"data":if(n!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Va(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Va(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Co);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Qi(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Hc.get(r)||r,Qi(t,r,l))}}function Tf(t,n,r,l,c,f){switch(r){case"style":Qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Co);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[me]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Qi(t,r,l)}}}function Be(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,v,r,null)}}c&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var E=f=v=c=null,R=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":c=F;break;case"type":v=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Kt(t,n,l,F,r,null)}}kr(t,f,E,R,z,v,c,!1),Da(t);return;case"select":Vt("invalid",t),l=v=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Kt(t,n,c,E,r,null)}n=f,r=v,t.multiple=!!l,n!=null?mi(t,!!l,n,!1):r!=null&&mi(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(v in r)if(r.hasOwnProperty(v)&&(E=r[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,v,E,r,null)}qr(t,l,c,f),Da(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,R,l,r,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)Vt(Il[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,z,l,r,null)}return;default:if(Ys(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&Tf(t,n,F,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Kt(t,n,E,l,r,null))}function L0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,R=null,z=null,F=null;for(q in r){var X=r[q];if(r.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(q)||Kt(t,n,q,null,l,X)}}for(var B in l){var q=l[B];if(X=r[B],l.hasOwnProperty(B)&&(q!=null||X!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==X&&Kt(t,n,B,q,l,X)}}sn(t,v,E,R,z,F,f,c);return;case"select":q=v=E=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==R&&Kt(t,n,c,f,l,R)}n=E,r=v,l=q,B!=null?mi(t,!!r,B,!1):!!l!=!!r&&(n!=null?mi(t,!!r,n,!0):mi(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=r[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(t,n,v,c,l,f)}Qt(t,B,q);return;case"option":for(var _t in r)if(B=r[_t],r.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:Kt(t,n,_t,null,l,B)}for(R in l)if(B=l[R],q=r[R],l.hasOwnProperty(R)&&B!==q&&(B!=null||q!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Kt(t,n,R,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Kt(t,n,gt,null,l,B);for(z in l)if(B=l[z],q=r[z],l.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Kt(t,n,z,B,l,q)}return;default:if(Ys(n)){for(var Xt in r)B=r[Xt],r.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&Tf(t,n,Xt,void 0,l,B);for(F in l)B=l[F],q=r[F],!l.hasOwnProperty(F)||B===q||B===void 0&&q===void 0||Tf(t,n,F,B,l,q);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Kt(t,n,x,null,l,B);for(X in l)B=l[X],q=r[X],!l.hasOwnProperty(X)||B===q||B==null&&q==null||Kt(t,n,X,B,l,q)}var Af=null,Sf=null;function Do(t){return t.nodeType===9?t:t.ownerDocument}function Qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rf=null;function P0(){var t=window.event;return t&&t.type==="popstate"?t===Rf?!1:(Rf=t,!0):(Rf=null,!1)}var Kp=typeof setTimeout=="function"?setTimeout:void 0,z0=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,B0=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(t){return Xp.resolve(null).then(t).catch(k0)}:Kp;function k0(t){setTimeout(function(){throw t})}function cr(t){return t==="head"}function $p(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var v=t.ownerDocument;if(r&1&&Ol(v.documentElement),r&2&&Ol(v.body),r&4)for(r=v.head,Ol(r),v=r.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[Lr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=E}}if(c===0){t.removeChild(f),kl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);kl(n)}function wf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":wf(r),Fi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function q0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Lr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function j0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=xn(t.nextSibling),t===null))return null;return t}function Cf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function H0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Df=null;function Zp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Jp(t,n,r){switch(n=Do(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Fi(t)}var wn=new Map,Wp=new Set;function Vo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mi=at.d;at.d={f:G0,r:F0,D:Q0,C:Y0,L:K0,m:X0,X:Z0,S:$0,M:J0};function G0(){var t=Mi.f(),n=Eo();return t||n}function F0(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?vg(n):Mi.r(t)}var os=typeof document>"u"?null:document;function ty(t,n,r){var l=os;if(l&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Wp.has(c)||(Wp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Be(n,"link",t),ce(n),l.head.appendChild(n)))}}function Q0(t){Mi.D(t),ty("dns-prefetch",t,null)}function Y0(t,n){Mi.C(t,n),ty("preconnect",t,n)}function K0(t,n,r){Mi.L(t,n,r);var l=os;if(l&&t&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ge(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ge(r.imageSizes)+'"]')):c+='[href="'+ge(t)+'"]';var f=c;switch(n){case"style":f=cs(t);break;case"script":f=hs(t)}wn.has(f)||(t=T({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ml(f))||n==="script"&&l.querySelector(xl(f))||(n=l.createElement("link"),Be(n,"link",t),ce(n),l.head.appendChild(n)))}}function X0(t,n){Mi.m(t,n);var r=os;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=hs(t)}if(!wn.has(f)&&(t=T({rel:"modulepreload",href:t},n),wn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(xl(f)))return}l=r.createElement("link"),Be(l,"link",t),ce(l),r.head.appendChild(l)}}}function $0(t,n,r){Mi.S(t,n,r);var l=os;if(l&&t){var c=$e(l).hoistableStyles,f=cs(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Ml(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},r),(r=wn.get(f))&&Vf(t,r);var R=v=l.createElement("link");ce(R),Be(R,"link",t),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Io(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function Z0(t,n){Mi.X(t,n);var r=os;if(r&&t){var l=$e(r).hoistableScripts,c=hs(t),f=l.get(c);f||(f=r.querySelector(xl(c)),f||(t=T({src:t,async:!0},n),(n=wn.get(c))&&If(t,n),f=r.createElement("script"),ce(f),Be(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function J0(t,n){Mi.M(t,n);var r=os;if(r&&t){var l=$e(r).hoistableScripts,c=hs(t),f=l.get(c);f||(f=r.querySelector(xl(c)),f||(t=T({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&If(t,n),f=r.createElement("script"),ce(f),Be(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ey(t,n,r,l){var c=(c=vt.current)?Vo(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=cs(r.href),r=$e(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=cs(r.href);var f=$e(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Ml(t)))&&!f._p&&(v.instance=f,v.state.loading=5),wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wn.set(t,r),f||W0(c,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=hs(r),r=$e(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function cs(t){return'href="'+ge(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function ny(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function W0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",r),ce(n),t.head.appendChild(n))}function hs(t){return'[src="'+ge(t)+'"]'}function xl(t){return"script[async]"+t}function iy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(r.href)+'"]');if(l)return n.instance=l,ce(l),l;var c=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),Be(l,"style",c),Io(l,r.precedence,t),n.instance=l;case"stylesheet":c=cs(r.href);var f=t.querySelector(Ml(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=ny(r),(c=wn.get(c))&&Vf(l,c),f=(t.ownerDocument||t).createElement("link"),ce(f);var v=f;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Be(f,"link",l),n.state.loading|=4,Io(f,r.precedence,t),n.instance=f;case"script":return f=hs(r.src),(c=t.querySelector(xl(f)))?(n.instance=c,ce(c),c):(l=r,(c=wn.get(f))&&(l=T({},r),If(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ce(c),Be(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Io(l,r.precedence,t));return n.instance}function Io(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function If(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var No=null;function ry(t,n,r){if(No===null){var l=new Map,c=No=new Map;c.set(r,l)}else c=No,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Lr]||f[Ee]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function ay(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function tT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function sy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ul=null;function eT(){}function nT(t,n,r){if(Ul===null)throw Error(s(475));var l=Ul;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=cs(r.href),f=t.querySelector(Ml(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Oo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,r=ny(r),(c=wn.get(c))&&Vf(r,c),f=f.createElement("link"),ce(f);var v=f;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Be(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Oo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function iT(){if(Ul===null)throw Error(s(475));var t=Ul;return t.stylesheets&&t.count===0&&Nf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Nf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Oo(){if(this.count--,this.count===0){if(this.stylesheets)Nf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mo=null;function Nf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mo=new Map,n.forEach(rT,t),Mo=null,Oo.call(t))}function rT(t,n){if(!(n.state.loading&4)){var r=Mo.get(t);if(r)var l=r.get(null);else{r=new Map,Mo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,c),r.set(v,c),this.count++,l=Oo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:rt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function aT(t,n,r,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ly(t,n,r,l,c,f,v,E,R,z,F,X){return t=new aT(t,n,r,v,E,R,z,X),n=1,f===!0&&(n|=24),f=un(3,null,null,n),t.current=f,f.stateNode=t,n=hh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},gh(f),t}function uy(t){return t?(t=ja,t):ja}function oy(t,n,r,l,c,f){c=uy(c),l.context===null?l.context=c:l.pendingContext=c,l=Zi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ji(t,l,n),r!==null&&(dn(r,t,n),fl(r,t,n))}function cy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Of(t,n){cy(t,n),(t=t.alternate)&&cy(t,n)}function hy(t){if(t.tag===13){var n=qa(t,67108864);n!==null&&dn(n,t,67108864),Of(t,67108864)}}var xo=!0;function sT(t,n,r,l){var c=G.T;G.T=null;var f=at.p;try{at.p=2,Mf(t,n,r,l)}finally{at.p=f,G.T=c}}function lT(t,n,r,l){var c=G.T;G.T=null;var f=at.p;try{at.p=8,Mf(t,n,r,l)}finally{at.p=f,G.T=c}}function Mf(t,n,r,l){if(xo){var c=xf(l);if(c===null)Ef(t,n,l,Uo,r),dy(t,l);else if(oT(c,t,n,r,l))l.stopPropagation();else if(dy(t,l),n&4&&-1<uT.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Vn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Ge(v);E.entanglements[1]|=R,v&=~R}Jn(f),(Gt&6)===0&&(_o=mn()+500,Vl(0))}}break;case 13:E=qa(f,2),E!==null&&dn(E,f,2),Eo(),Of(f,2)}if(f=xf(l),f===null&&Ef(t,n,l,Uo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Ef(t,n,l,null,r)}}function xf(t){return t=yn(t),Uf(t)}var Uo=null;function Uf(t){if(Uo=null,t=hi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uo=t,null}function fy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pc()){case xs:return 2;case Ea:return 8;case Nr:case zc:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var Lf=!1,hr=null,fr=null,dr=null,Pl=new Map,zl=new Map,mr=[],uT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dy(t,n){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Bl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&hy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function oT(t,n,r,l,c){switch(n){case"focusin":return hr=Bl(hr,t,n,r,l,c),!0;case"dragenter":return fr=Bl(fr,t,n,r,l,c),!0;case"mouseover":return dr=Bl(dr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Pl.set(f,Bl(Pl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,zl.set(f,Bl(zl.get(f)||null,t,n,r,l,c)),!0}return!1}function my(t){var n=hi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,vu(t.priority,function(){if(r.tag===13){var l=fn();l=ji(l);var c=qa(r,l);c!==null&&dn(c,r,l),Of(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=xf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);gi=l,r.target.dispatchEvent(l),gi=null}else return n=zn(r),n!==null&&hy(n),t.blockedOn=r,!1;n.shift()}return!0}function gy(t,n,r){Lo(t)&&r.delete(n)}function cT(){Lf=!1,hr!==null&&Lo(hr)&&(hr=null),fr!==null&&Lo(fr)&&(fr=null),dr!==null&&Lo(dr)&&(dr=null),Pl.forEach(gy),zl.forEach(gy)}function Po(t,n){t.blockedOn===n&&(t.blockedOn=null,Lf||(Lf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,cT)))}var zo=null;function py(t){zo!==t&&(zo=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){zo===t&&(zo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Uf(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,xh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function kl(t){function n(R){return Po(R,t)}hr!==null&&Po(hr,t),fr!==null&&Po(fr,t),dr!==null&&Po(dr,t),Pl.forEach(n),zl.forEach(n);for(var r=0;r<mr.length;r++){var l=mr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<mr.length&&(r=mr[0],r.blockedOn===null);)my(r),r.blockedOn===null&&mr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],v=c[me]||null;if(typeof f=="function")v||py(r);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[me]||null)E=v.formAction;else if(Uf(c)!==null)continue}else E=v.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),py(r)}}}function Pf(t){this._internalRoot=t}Bo.prototype.render=Pf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();oy(r,l,t,n,null,null)},Bo.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;oy(t.current,2,null,t,null,null),Eo(),n[gn]=null}};function Bo(t){this._internalRoot=t}Bo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Hi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<mr.length&&n!==0&&n<mr[r].priority;r++);mr.splice(r,0,t),r===0&&my(t)}};var yy=e.version;if(yy!=="19.1.1")throw Error(s(527,yy,"19.1.1"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var hT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{le=ko.inject(hT),Ht=ko}catch{}}return jl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var r=!1,l="",c=Mg,f=xg,v=Ug,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ly(t,1,!1,null,null,r,l,c,f,v,E,null),t[gn]=n.current,vf(t),new Pf(n)},jl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(s(299));var l=!1,c="",f=Mg,v=xg,E=Ug,R=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=ly(t,1,!0,n,r??null,l,c,f,v,E,R,z),n.context=uy(null),r=n.current,l=fn(),l=ji(l),c=Zi(l),c.callback=null,Ji(r,c,l),r=l,n.current.lanes=r,ci(n,r),Jn(n),t[gn]=n.current,vf(t),new Bo(n)},jl.version="19.1.1",jl}var Cy;function TT(){if(Cy)return kf.exports;Cy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),kf.exports=ET(),kf.exports}var AT=TT();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dy="popstate";function ST(a={}){function e(s,u){let{pathname:h,search:d,hash:g}=s.location;return ed("",{pathname:h,search:d,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(s,u){return typeof u=="string"?u:Jl(u)}return RT(e,i,null,a)}function re(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ri(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bT(){return Math.random().toString(36).substring(2,10)}function Vy(a,e){return{usr:a.state,key:a.key,idx:e}}function ed(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?ws(e):e,state:i,key:e&&e.key||s||bT()}}function Jl({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function ws(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function RT(a,e,i,s={}){let{window:u=document.defaultView,v5Compat:h=!1}=s,d=u.history,g="POP",y=null,p=T();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function T(){return(d.state||{idx:null}).idx}function S(){g="POP";let H=T(),nt=H==null?null:H-p;p=H,y&&y({action:g,location:W.location,delta:nt})}function D(H,nt){g="PUSH";let tt=ed(W.location,H,nt);p=T()+1;let rt=Vy(tt,p),St=W.createHref(tt);try{d.pushState(rt,"",St)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;u.location.assign(St)}h&&y&&y({action:g,location:W.location,delta:1})}function k(H,nt){g="REPLACE";let tt=ed(W.location,H,nt);p=T();let rt=Vy(tt,p),St=W.createHref(tt);d.replaceState(rt,"",St),h&&y&&y({action:g,location:W.location,delta:0})}function Q(H){return wT(H)}let W={get action(){return g},get location(){return a(u,d)},listen(H){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(Dy,S),y=H,()=>{u.removeEventListener(Dy,S),y=null}},createHref(H){return e(u,H)},createURL:Q,encodeLocation(H){let nt=Q(H);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:D,replace:k,go(H){return d.go(H)}};return W}function wT(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),re(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Jl(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function k_(a,e,i="/"){return CT(a,e,i,!1)}function CT(a,e,i,s){let u=typeof e=="string"?ws(e):e,h=Li(u.pathname||"/",i);if(h==null)return null;let d=q_(a);DT(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=BT(h);g=PT(d[y],p,s)}return g}function q_(a,e=[],i=[],s="",u=!1){let h=(d,g,y=u,p)=>{let T={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&y)return;re(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let S=xi([s,T.relativePath]),D=i.concat(T);d.children&&d.children.length>0&&(re(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),q_(d.children,e,D,S,y)),!(d.path==null&&!d.index)&&e.push({path:S,score:UT(S,d.index),routesMeta:D})};return a.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))h(d,g);else for(let y of j_(d.path))h(d,g,!0,y)}),e}function j_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,u=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return u?[h,""]:[h];let d=j_(s.join("/")),g=[];return g.push(...d.map(y=>y===""?h:[h,y].join("/"))),u&&g.push(...d),g.map(y=>a.startsWith("/")&&y===""?"/":y)}function DT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:LT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var VT=/^:[\w-]+$/,IT=3,NT=2,OT=1,MT=10,xT=-2,Iy=a=>a==="*";function UT(a,e){let i=a.split("/"),s=i.length;return i.some(Iy)&&(s+=xT),e&&(s+=NT),i.filter(u=>!Iy(u)).reduce((u,h)=>u+(VT.test(h)?IT:h===""?OT:MT),s)}function LT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,u)=>s===e[u])?a[a.length-1]-e[e.length-1]:0}function PT(a,e,i=!1){let{routesMeta:s}=a,u={},h="/",d=[];for(let g=0;g<s.length;++g){let y=s[g],p=g===s.length-1,T=h==="/"?e:e.slice(h.length)||"/",S=nc({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},T),D=y.route;if(!S&&p&&i&&!s[s.length-1].route.index&&(S=nc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},T)),!S)return null;Object.assign(u,S.params),d.push({params:u,pathname:xi([h,S.pathname]),pathnameBase:HT(xi([h,S.pathnameBase])),route:D}),S.pathnameBase!=="/"&&(h=xi([h,S.pathnameBase]))}return d}function nc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=zT(a.path,a.caseSensitive,a.end),u=e.match(i);if(!u)return null;let h=u[0],d=h.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:s.reduce((p,{paramName:T,isOptional:S},D)=>{if(T==="*"){let Q=g[D]||"";d=h.slice(0,h.length-Q.length).replace(/(.)\/+$/,"$1")}const k=g[D];return S&&!k?p[T]=void 0:p[T]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:h,pathnameBase:d,pattern:a}}function zT(a,e=!1,i=!0){ri(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],u="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),u+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":a!==""&&a!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,e?void 0:"i"),s]}function BT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Li(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function kT(a,e="/"){let{pathname:i,search:s="",hash:u=""}=typeof a=="string"?ws(a):a;return{pathname:i?i.startsWith("/")?i:qT(i,e):e,search:GT(s),hash:FT(u)}}function qT(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Gf(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jT(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function H_(a){let e=jT(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function G_(a,e,i,s=!1){let u;typeof a=="string"?u=ws(a):(u={...a},re(!u.pathname||!u.pathname.includes("?"),Gf("?","pathname","search",u)),re(!u.pathname||!u.pathname.includes("#"),Gf("#","pathname","hash",u)),re(!u.search||!u.search.includes("#"),Gf("#","search","hash",u)));let h=a===""||u.pathname==="",d=h?"/":u.pathname,g;if(d==null)g=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let D=d.split("/");for(;D[0]==="..";)D.shift(),S-=1;u.pathname=D.join("/")}g=S>=0?e[S]:"/"}let y=kT(u,g),p=d&&d!=="/"&&d.endsWith("/"),T=(h||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(p||T)&&(y.pathname+="/"),y}var xi=a=>a.join("/").replace(/\/\/+/g,"/"),HT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),GT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,FT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function QT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var F_=["POST","PUT","PATCH","DELETE"];new Set(F_);var YT=["GET",...F_];new Set(YT);var Cs=Y.createContext(null);Cs.displayName="DataRouter";var Tc=Y.createContext(null);Tc.displayName="DataRouterState";Y.createContext(!1);var Q_=Y.createContext({isTransitioning:!1});Q_.displayName="ViewTransition";var KT=Y.createContext(new Map);KT.displayName="Fetchers";var XT=Y.createContext(null);XT.displayName="Await";var li=Y.createContext(null);li.displayName="Navigation";var uu=Y.createContext(null);uu.displayName="Location";var ki=Y.createContext({outlet:null,matches:[],isDataRoute:!1});ki.displayName="Route";var wd=Y.createContext(null);wd.displayName="RouteError";function $T(a,{relative:e}={}){re(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Y.useContext(li),{hash:u,pathname:h,search:d}=cu(a,{relative:e}),g=h;return i!=="/"&&(g=h==="/"?i:xi([i,h])),s.createHref({pathname:g,search:d,hash:u})}function ou(){return Y.useContext(uu)!=null}function ga(){return re(ou(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(uu).location}var Y_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K_(a){Y.useContext(li).static||Y.useLayoutEffect(a)}function ZT(){let{isDataRoute:a}=Y.useContext(ki);return a?c1():JT()}function JT(){re(ou(),"useNavigate() may be used only in the context of a <Router> component.");let a=Y.useContext(Cs),{basename:e,navigator:i}=Y.useContext(li),{matches:s}=Y.useContext(ki),{pathname:u}=ga(),h=JSON.stringify(H_(s)),d=Y.useRef(!1);return K_(()=>{d.current=!0}),Y.useCallback((y,p={})=>{if(ri(d.current,Y_),!d.current)return;if(typeof y=="number"){i.go(y);return}let T=G_(y,JSON.parse(h),u,p.relative==="path");a==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:xi([e,T.pathname])),(p.replace?i.replace:i.push)(T,p.state,p)},[e,i,h,u,a])}Y.createContext(null);function cu(a,{relative:e}={}){let{matches:i}=Y.useContext(ki),{pathname:s}=ga(),u=JSON.stringify(H_(i));return Y.useMemo(()=>G_(a,JSON.parse(u),s,e==="path"),[a,u,s,e])}function WT(a,e){return X_(a,e)}function X_(a,e,i,s,u){re(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=Y.useContext(li),{matches:d}=Y.useContext(ki),g=d[d.length-1],y=g?g.params:{},p=g?g.pathname:"/",T=g?g.pathnameBase:"/",S=g&&g.route;{let tt=S&&S.path||"";$_(p,!S||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let D=ga(),k;if(e){let tt=typeof e=="string"?ws(e):e;re(T==="/"||tt.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),k=tt}else k=D;let Q=k.pathname||"/",W=Q;if(T!=="/"){let tt=T.replace(/^\//,"").split("/");W="/"+Q.replace(/^\//,"").split("/").slice(tt.length).join("/")}let H=k_(a,{pathname:W});ri(S||H!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),ri(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let nt=r1(H&&H.map(tt=>Object.assign({},tt,{params:Object.assign({},y,tt.params),pathname:xi([T,h.encodeLocation?h.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?T:xi([T,h.encodeLocation?h.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),d,i,s,u);return e&&nt?Y.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},nt):nt}function t1(){let a=o1(),e=QT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:h},"ErrorBoundary")," or"," ",Y.createElement("code",{style:h},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),i?Y.createElement("pre",{style:u},i):null,d)}var e1=Y.createElement(t1,null),n1=class extends Y.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.unstable_onError?this.props.unstable_onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?Y.createElement(ki.Provider,{value:this.props.routeContext},Y.createElement(wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function i1({routeContext:a,match:e,children:i}){let s=Y.useContext(Cs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(ki.Provider,{value:a},i)}function r1(a,e=[],i=null,s=null,u=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let h=a,d=i?.errors;if(d!=null){let p=h.findIndex(T=>T.route.id&&d?.[T.route.id]!==void 0);re(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),h=h.slice(0,Math.min(h.length,p+1))}let g=!1,y=-1;if(i)for(let p=0;p<h.length;p++){let T=h[p];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=p),T.route.id){let{loaderData:S,errors:D}=i,k=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!D||D[T.route.id]===void 0);if(T.route.lazy||k){g=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((p,T,S)=>{let D,k=!1,Q=null,W=null;i&&(D=d&&T.route.id?d[T.route.id]:void 0,Q=T.route.errorElement||e1,g&&(y<0&&S===0?($_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,W=null):y===S&&(k=!0,W=T.route.hydrateFallbackElement||null)));let H=e.concat(h.slice(0,S+1)),nt=()=>{let tt;return D?tt=Q:k?tt=W:T.route.Component?tt=Y.createElement(T.route.Component,null):T.route.element?tt=T.route.element:tt=p,Y.createElement(i1,{match:T,routeContext:{outlet:p,matches:H,isDataRoute:i!=null},children:tt})};return i&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?Y.createElement(n1,{location:i.location,revalidation:i.revalidation,component:Q,error:D,children:nt(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):nt()},null)}function Cd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a1(a){let e=Y.useContext(Cs);return re(e,Cd(a)),e}function s1(a){let e=Y.useContext(Tc);return re(e,Cd(a)),e}function l1(a){let e=Y.useContext(ki);return re(e,Cd(a)),e}function Dd(a){let e=l1(a),i=e.matches[e.matches.length-1];return re(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function u1(){return Dd("useRouteId")}function o1(){let a=Y.useContext(wd),e=s1("useRouteError"),i=Dd("useRouteError");return a!==void 0?a:e.errors?.[i]}function c1(){let{router:a}=a1("useNavigate"),e=Dd("useNavigate"),i=Y.useRef(!1);return K_(()=>{i.current=!0}),Y.useCallback(async(u,h={})=>{ri(i.current,Y_),i.current&&(typeof u=="number"?a.navigate(u):await a.navigate(u,{fromRouteId:e,...h}))},[a,e])}var Ny={};function $_(a,e,i){!e&&!Ny[a]&&(Ny[a]=!0,ri(!1,i))}Y.memo(h1);function h1({routes:a,future:e,state:i,unstable_onError:s}){return X_(a,void 0,i,s,e)}function nd(a){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function f1({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:u,static:h=!1}){re(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=Y.useMemo(()=>({basename:d,navigator:u,static:h,future:{}}),[d,u,h]);typeof i=="string"&&(i=ws(i));let{pathname:y="/",search:p="",hash:T="",state:S=null,key:D="default"}=i,k=Y.useMemo(()=>{let Q=Li(y,d);return Q==null?null:{location:{pathname:Q,search:p,hash:T,state:S,key:D},navigationType:s}},[d,y,p,T,S,D,s]);return ri(k!=null,`<Router basename="${d}"> is not able to match the URL "${y}${p}${T}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:Y.createElement(li.Provider,{value:g},Y.createElement(uu.Provider,{children:e,value:k}))}function d1({children:a,location:e}){return WT(id(a),e)}function id(a,e=[]){let i=[];return Y.Children.forEach(a,(s,u)=>{if(!Y.isValidElement(s))return;let h=[...e,u];if(s.type===Y.Fragment){i.push.apply(i,id(s.props.children,h));return}re(s.type===nd,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=id(s.props.children,h)),i.push(d)}),i}var Ko="get",Xo="application/x-www-form-urlencoded";function Ac(a){return a!=null&&typeof a.tagName=="string"}function m1(a){return Ac(a)&&a.tagName.toLowerCase()==="button"}function g1(a){return Ac(a)&&a.tagName.toLowerCase()==="form"}function p1(a){return Ac(a)&&a.tagName.toLowerCase()==="input"}function y1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function _1(a,e){return a.button===0&&(!e||e==="_self")&&!y1(a)}var qo=null;function v1(){if(qo===null)try{new FormData(document.createElement("form"),0),qo=!1}catch{qo=!0}return qo}var E1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ff(a){return a!=null&&!E1.has(a)?(ri(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xo}"`),null):a}function T1(a,e){let i,s,u,h,d;if(g1(a)){let g=a.getAttribute("action");s=g?Li(g,e):null,i=a.getAttribute("method")||Ko,u=Ff(a.getAttribute("enctype"))||Xo,h=new FormData(a)}else if(m1(a)||p1(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||g.getAttribute("action");if(s=y?Li(y,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||Ko,u=Ff(a.getAttribute("formenctype"))||Ff(g.getAttribute("enctype"))||Xo,h=new FormData(g,a),!v1()){let{name:p,type:T,value:S}=a;if(T==="image"){let D=p?`${p}.`:"";h.append(`${D}x`,"0"),h.append(`${D}y`,"0")}else p&&h.append(p,S)}}else{if(Ac(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ko,s=null,u=Xo,d=a}return h&&u==="text/plain"&&(d=h,h=void 0),{action:s,method:i.toLowerCase(),encType:u,formData:h,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vd(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function A1(a,e,i){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Li(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function S1(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b1(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function R1(a,e,i){let s=await Promise.all(a.map(async u=>{let h=e.routes[u.route.id];if(h){let d=await S1(h,i);return d.links?d.links():[]}return[]}));return V1(s.flat(1).filter(b1).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Oy(a,e,i,s,u,h){let d=(y,p)=>i[p]?y.route.id!==i[p].route.id:!0,g=(y,p)=>i[p].pathname!==y.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==y.params["*"];return h==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):h==="data"?e.filter((y,p)=>{let T=s.routes[y.route.id];if(!T||!T.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function w1(a,e,{includeHydrateFallback:i}={}){return C1(a.map(s=>{let u=e.routes[s.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function C1(a){return[...new Set(a)]}function D1(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function V1(a,e){let i=new Set;return new Set(e),a.reduce((s,u)=>{let h=JSON.stringify(D1(u));return i.has(h)||(i.add(h),s.push({key:h,link:u})),s},[])}function Z_(){let a=Y.useContext(Cs);return Vd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function I1(){let a=Y.useContext(Tc);return Vd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Id=Y.createContext(void 0);Id.displayName="FrameworkContext";function J_(){let a=Y.useContext(Id);return Vd(a,"You must render this element inside a <HydratedRouter> element"),a}function N1(a,e){let i=Y.useContext(Id),[s,u]=Y.useState(!1),[h,d]=Y.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:T,onTouchStart:S}=e,D=Y.useRef(null);Y.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let W=nt=>{nt.forEach(tt=>{d(tt.isIntersecting)})},H=new IntersectionObserver(W,{threshold:.5});return D.current&&H.observe(D.current),()=>{H.disconnect()}}},[a]),Y.useEffect(()=>{if(s){let W=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(W)}}},[s]);let k=()=>{u(!0)},Q=()=>{u(!1),d(!1)};return i?a!=="intent"?[h,D,{}]:[h,D,{onFocus:Hl(g,k),onBlur:Hl(y,Q),onMouseEnter:Hl(p,k),onMouseLeave:Hl(T,Q),onTouchStart:Hl(S,k)}]:[!1,D,{}]}function Hl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function O1({page:a,...e}){let{router:i}=Z_(),s=Y.useMemo(()=>k_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?Y.createElement(x1,{page:a,matches:s,...e}):null}function M1(a){let{manifest:e,routeModules:i}=J_(),[s,u]=Y.useState([]);return Y.useEffect(()=>{let h=!1;return R1(a,e,i).then(d=>{h||u(d)}),()=>{h=!0}},[a,e,i]),s}function x1({page:a,matches:e,...i}){let s=ga(),{manifest:u,routeModules:h}=J_(),{basename:d}=Z_(),{loaderData:g,matches:y}=I1(),p=Y.useMemo(()=>Oy(a,e,y,u,s,"data"),[a,e,y,u,s]),T=Y.useMemo(()=>Oy(a,e,y,u,s,"assets"),[a,e,y,u,s]),S=Y.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let Q=new Set,W=!1;if(e.forEach(nt=>{let tt=u.routes[nt.route.id];!tt||!tt.hasLoader||(!p.some(rt=>rt.route.id===nt.route.id)&&nt.route.id in g&&h[nt.route.id]?.shouldRevalidate||tt.hasClientLoader?W=!0:Q.add(nt.route.id))}),Q.size===0)return[];let H=A1(a,d,"data");return W&&Q.size>0&&H.searchParams.set("_routes",e.filter(nt=>Q.has(nt.route.id)).map(nt=>nt.route.id).join(",")),[H.pathname+H.search]},[d,g,s,u,p,e,a,h]),D=Y.useMemo(()=>w1(T,u),[T,u]),k=M1(T);return Y.createElement(Y.Fragment,null,S.map(Q=>Y.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...i})),D.map(Q=>Y.createElement("link",{key:Q,rel:"modulepreload",href:Q,...i})),k.map(({key:Q,link:W})=>Y.createElement("link",{key:Q,nonce:i.nonce,...W})))}function U1(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var W_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W_&&(window.__reactRouterVersion="7.8.2")}catch{}function L1({basename:a,children:e,window:i}){let s=Y.useRef();s.current==null&&(s.current=ST({window:i,v5Compat:!0}));let u=s.current,[h,d]=Y.useState({action:u.action,location:u.location}),g=Y.useCallback(y=>{Y.startTransition(()=>d(y))},[d]);return Y.useLayoutEffect(()=>u.listen(g),[u,g]),Y.createElement(f1,{basename:a,children:e,location:h.location,navigationType:h.action,navigator:u})}var tv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ic=Y.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:u,reloadDocument:h,replace:d,state:g,target:y,to:p,preventScrollReset:T,viewTransition:S,...D},k){let{basename:Q}=Y.useContext(li),W=typeof p=="string"&&tv.test(p),H,nt=!1;if(typeof p=="string"&&W&&(H=p,W_))try{let w=new URL(window.location.href),N=p.startsWith("//")?new URL(w.protocol+p):new URL(p),M=Li(N.pathname,Q);N.origin===w.origin&&M!=null?p=M+N.search+N.hash:nt=!0}catch{ri(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let tt=$T(p,{relative:u}),[rt,St,ht]=N1(s,D),Ot=k1(p,{replace:d,state:g,target:y,preventScrollReset:T,relative:u,viewTransition:S});function O(w){e&&e(w),w.defaultPrevented||Ot(w)}let b=Y.createElement("a",{...D,...ht,href:H||tt,onClick:nt||h?e:O,ref:U1(k,St),target:y,"data-discover":!W&&i==="render"?"true":void 0});return rt&&!W?Y.createElement(Y.Fragment,null,b,Y.createElement(O1,{page:tt})):b});ic.displayName="Link";var P1=Y.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:u=!1,style:h,to:d,viewTransition:g,children:y,...p},T){let S=cu(d,{relative:p.relative}),D=ga(),k=Y.useContext(Tc),{navigator:Q,basename:W}=Y.useContext(li),H=k!=null&&F1(S)&&g===!0,nt=Q.encodeLocation?Q.encodeLocation(S).pathname:S.pathname,tt=D.pathname,rt=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(tt=tt.toLowerCase(),rt=rt?rt.toLowerCase():null,nt=nt.toLowerCase()),rt&&W&&(rt=Li(rt,W)||rt);const St=nt!=="/"&&nt.endsWith("/")?nt.length-1:nt.length;let ht=tt===nt||!u&&tt.startsWith(nt)&&tt.charAt(St)==="/",Ot=rt!=null&&(rt===nt||!u&&rt.startsWith(nt)&&rt.charAt(nt.length)==="/"),O={isActive:ht,isPending:Ot,isTransitioning:H},b=ht?e:void 0,w;typeof s=="function"?w=s(O):w=[s,ht?"active":null,Ot?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let N=typeof h=="function"?h(O):h;return Y.createElement(ic,{...p,"aria-current":b,className:w,ref:T,style:N,to:d,viewTransition:g},typeof y=="function"?y(O):y)});P1.displayName="NavLink";var z1=Y.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:u,state:h,method:d=Ko,action:g,onSubmit:y,relative:p,preventScrollReset:T,viewTransition:S,...D},k)=>{let Q=H1(),W=G1(g,{relative:p}),H=d.toLowerCase()==="get"?"get":"post",nt=typeof g=="string"&&tv.test(g),tt=rt=>{if(y&&y(rt),rt.defaultPrevented)return;rt.preventDefault();let St=rt.nativeEvent.submitter,ht=St?.getAttribute("formmethod")||d;Q(St||rt.currentTarget,{fetcherKey:e,method:ht,navigate:i,replace:u,state:h,relative:p,preventScrollReset:T,viewTransition:S})};return Y.createElement("form",{ref:k,method:H,action:W,onSubmit:s?y:tt,...D,"data-discover":!nt&&a==="render"?"true":void 0})});z1.displayName="Form";function B1(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ev(a){let e=Y.useContext(Cs);return re(e,B1(a)),e}function k1(a,{target:e,replace:i,state:s,preventScrollReset:u,relative:h,viewTransition:d}={}){let g=ZT(),y=ga(),p=cu(a,{relative:h});return Y.useCallback(T=>{if(_1(T,e)){T.preventDefault();let S=i!==void 0?i:Jl(y)===Jl(p);g(a,{replace:S,state:s,preventScrollReset:u,relative:h,viewTransition:d})}},[y,g,p,i,s,e,a,u,h,d])}var q1=0,j1=()=>`__${String(++q1)}__`;function H1(){let{router:a}=ev("useSubmit"),{basename:e}=Y.useContext(li),i=u1();return Y.useCallback(async(s,u={})=>{let{action:h,method:d,encType:g,formData:y,body:p}=T1(s,e);if(u.navigate===!1){let T=u.fetcherKey||j1();await a.fetch(T,i,u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||d,formEncType:u.encType||g,flushSync:u.flushSync})}else await a.navigate(u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||d,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:i,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,e,i])}function G1(a,{relative:e}={}){let{basename:i}=Y.useContext(li),s=Y.useContext(ki);re(s,"useFormAction must be used inside a RouteContext");let[u]=s.matches.slice(-1),h={...cu(a||".",{relative:e})},d=ga();if(a==null){h.search=d.search;let g=new URLSearchParams(h.search),y=g.getAll("index");if(y.some(T=>T==="")){g.delete("index"),y.filter(S=>S).forEach(S=>g.append("index",S));let T=g.toString();h.search=T?`?${T}`:""}}return(!a||a===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:xi([i,h.pathname])),Jl(h)}function F1(a,{relative:e}={}){let i=Y.useContext(Q_);re(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ev("useViewTransitionState"),u=cu(a,{relative:e});if(!i.isTransitioning)return!1;let h=Li(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Li(i.nextLocation.pathname,s)||i.nextLocation.pathname;return nc(u.pathname,d)!=null||nc(u.pathname,h)!=null}const Q1="/websitelogo2.png";function Y1(){return At.jsx("nav",{className:"navbar",children:At.jsxs("div",{className:"nav-left",children:[At.jsx("img",{src:Q1,alt:"Logo",className:"logo"}),At.jsx(ic,{to:"/",children:"Home"}),At.jsx(ic,{to:"/music",children:"Music"})]})})}function K1(){return At.jsxs("div",{className:"home-container",children:[At.jsx("div",{className:"home-left",children:At.jsx("h1",{children:"Welcome to my blog"})}),At.jsxs("div",{className:"home-right",children:[At.jsx("img",{src:"/me.jpg",alt:"Me",className:"profile-pic"}),At.jsx("p",{children:"hi, Im Olivia! this is my personal blog where I post about music, websites I like, and projects I'm working on."})]})]})}const X1=()=>{};var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let u=a.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},$1=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const u=a[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=a[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=a[i++],d=a[i++],g=a[i++],y=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<a.length;u+=3){const h=a[u],d=u+1<a.length,g=d?a[u+1]:0,y=u+2<a.length,p=y?a[u+2]:0,T=h>>2,S=(h&3)<<4|g>>4;let D=(g&15)<<2|p>>6,k=p&63;y||(k=64,d||(D=64)),s.push(i[T],i[S],i[D],i[k])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(nv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):$1(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<a.length;){const h=i[a.charAt(u++)],g=u<a.length?i[a.charAt(u)]:0;++u;const p=u<a.length?i[a.charAt(u)]:64;++u;const S=u<a.length?i[a.charAt(u)]:64;if(++u,h==null||g==null||p==null||S==null)throw new Z1;const D=h<<2|g>>4;if(s.push(D),p!==64){const k=g<<4&240|p>>2;if(s.push(k),S!==64){const Q=p<<6&192|S;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J1=function(a){const e=nv(a);return iv.encodeByteArray(e,!0)},rc=function(a){return J1(a).replace(/\./g,"")},W1=function(a){try{return iv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=()=>tA().__FIREBASE_DEFAULTS__,nA=()=>{if(typeof process>"u"||typeof My>"u")return;const a=My.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},iA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&W1(a[1]);return e&&JSON.parse(e)},Nd=()=>{try{return X1()||eA()||nA()||iA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},rA=a=>Nd()?.emulatorHosts?.[a],aA=a=>{const e=rA(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},rv=()=>Nd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lA(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[rc(JSON.stringify(i)),rc(JSON.stringify(d)),""].join(".")}const Yl={};function oA(){const a={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?a.emulator.push(e):a.prod.push(e);return a}function cA(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let xy=!1;function hA(a,e){if(typeof window>"u"||typeof document>"u"||!Od(window.location.host)||Yl[a]===e||Yl[a]||xy)return;Yl[a]=e;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",h=oA().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,k){D.setAttribute("width","24"),D.setAttribute("id",k),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function p(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{xy=!0,d()},D}function T(D,k){D.setAttribute("id",k),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=cA(s),k=i("text"),Q=document.getElementById(k)||document.createElement("span"),W=i("learnmore"),H=document.getElementById(W)||document.createElement("a"),nt=i("preprendIcon"),tt=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const rt=D.element;g(rt),T(H,W);const St=p();y(tt,nt),rt.append(tt,Q,H,St),document.body.appendChild(rt)}h?(Q.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dA(){const a=Nd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mA(){return!dA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gA(){try{return typeof indexedDB=="object"}catch{return!1}}function pA(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="FirebaseError";class Ds extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=yA,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,av.prototype.create)}}class av{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?_A(h,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ds(u,g,s)}}function _A(a,e){return a.replace(vA,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const vA=/\{\$([^}]+)}/g;function ac(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=a[u],d=e[u];if(Uy(h)&&Uy(d)){if(!ac(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function Uy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(a){return a&&a._delegate?a._delegate:a}class tu{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new sA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AA(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(u)}return u}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&e(h,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TA(a){return a===ha?void 0:a}function AA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new EA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pt||(Pt={}));const bA={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},RA=Pt.INFO,wA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},CA=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),u=wA[e];if(u)console[u](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sv{constructor(e){this.name=e,this._logLevel=RA,this._logHandler=CA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const DA=(a,e)=>e.some(i=>a instanceof i);let Ly,Py;function VA(){return Ly||(Ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IA(){return Py||(Py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lv=new WeakMap,rd=new WeakMap,uv=new WeakMap,Qf=new WeakMap,Md=new WeakMap;function NA(a){const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(yr(a.result)),u()},d=()=>{s(a.error),u()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&lv.set(i,a)}).catch(()=>{}),Md.set(e,a),e}function OA(a){if(rd.has(a))return;const e=new Promise((i,s)=>{const u=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});rd.set(a,e)}let ad={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return rd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||uv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return yr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function MA(a){ad=a(ad)}function xA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Yf(this),e,...i);return uv.set(s,e.sort?e.sort():[e]),yr(s)}:IA().includes(a)?function(...e){return a.apply(Yf(this),e),yr(lv.get(this))}:function(...e){return yr(a.apply(Yf(this),e))}}function UA(a){return typeof a=="function"?xA(a):(a instanceof IDBTransaction&&OA(a),DA(a,VA())?new Proxy(a,ad):a)}function yr(a){if(a instanceof IDBRequest)return NA(a);if(Qf.has(a))return Qf.get(a);const e=UA(a);return e!==a&&(Qf.set(a,e),Md.set(e,a)),e}const Yf=a=>Md.get(a);function LA(a,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(a,e),g=yr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(yr(d.result),y.oldVersion,y.newVersion,yr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),u&&y.addEventListener("versionchange",p=>u(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const PA=["get","getKey","getAll","getAllKeys","count"],zA=["put","add","delete","clear"],Kf=new Map;function zy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Kf.get(e))return Kf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=zA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||PA.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,u?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),u&&y.done]))[0]};return Kf.set(e,h),h}MA(a=>({...a,get:(e,i,s)=>zy(e,i)||a.get(e,i,s),has:(e,i)=>!!zy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(kA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function kA(a){return a.getComponent()?.type==="VERSION"}const sd="@firebase/app",By="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new sv("@firebase/app"),qA="@firebase/app-compat",jA="@firebase/analytics-compat",HA="@firebase/analytics",GA="@firebase/app-check-compat",FA="@firebase/app-check",QA="@firebase/auth",YA="@firebase/auth-compat",KA="@firebase/database",XA="@firebase/data-connect",$A="@firebase/database-compat",ZA="@firebase/functions",JA="@firebase/functions-compat",WA="@firebase/installations",tS="@firebase/installations-compat",eS="@firebase/messaging",nS="@firebase/messaging-compat",iS="@firebase/performance",rS="@firebase/performance-compat",aS="@firebase/remote-config",sS="@firebase/remote-config-compat",lS="@firebase/storage",uS="@firebase/storage-compat",oS="@firebase/firestore",cS="@firebase/ai",hS="@firebase/firestore-compat",fS="firebase",dS="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="[DEFAULT]",mS={[sd]:"fire-core",[qA]:"fire-core-compat",[HA]:"fire-analytics",[jA]:"fire-analytics-compat",[FA]:"fire-app-check",[GA]:"fire-app-check-compat",[QA]:"fire-auth",[YA]:"fire-auth-compat",[KA]:"fire-rtdb",[XA]:"fire-data-connect",[$A]:"fire-rtdb-compat",[ZA]:"fire-fn",[JA]:"fire-fn-compat",[WA]:"fire-iid",[tS]:"fire-iid-compat",[eS]:"fire-fcm",[nS]:"fire-fcm-compat",[iS]:"fire-perf",[rS]:"fire-perf-compat",[aS]:"fire-rc",[sS]:"fire-rc-compat",[lS]:"fire-gcs",[uS]:"fire-gcs-compat",[oS]:"fire-fst",[hS]:"fire-fst-compat",[cS]:"fire-vertex","fire-js":"fire-js",[fS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,gS=new Map,ud=new Map;function ky(a,e){try{a.container.addComponent(e)}catch(i){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function lc(a){const e=a.name;if(ud.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;ud.set(e,a);for(const i of sc.values())ky(i,a);for(const i of gS.values())ky(i,a);return!0}function pS(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function yS(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new av("app","Firebase",_S);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new tu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=dS;function ov(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:ld,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw _r.create("bad-app-name",{appName:String(u)});if(i||(i=rv()),!i)throw _r.create("no-options");const h=sc.get(u);if(h){if(ac(i,h.options)&&ac(s,h.config))return h;throw _r.create("duplicate-app",{appName:u})}const d=new SA(u);for(const y of ud.values())d.addComponent(y);const g=new vS(i,s,d);return sc.set(u,g),g}function TS(a=ld){const e=sc.get(a);if(!e&&a===ld&&rv())return ov();if(!e)throw _r.create("no-app",{appName:a});return e}function ps(a,e,i){let s=mS[a]??a;i&&(s+=`-${i}`);const u=s.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(d.join(" "));return}lc(new tu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="firebase-heartbeat-database",SS=1,eu="firebase-heartbeat-store";let Xf=null;function cv(){return Xf||(Xf=LA(AS,SS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(eu)}catch(i){console.warn(i)}}}}).catch(a=>{throw _r.create("idb-open",{originalErrorMessage:a.message})})),Xf}async function bS(a){try{const i=(await cv()).transaction(eu),s=await i.objectStore(eu).get(hv(a));return await i.done,s}catch(e){if(e instanceof Ds)Pi.warn(e.message);else{const i=_r.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(i.message)}}}async function qy(a,e){try{const s=(await cv()).transaction(eu,"readwrite");await s.objectStore(eu).put(e,hv(a)),await s.done}catch(i){if(i instanceof Ds)Pi.warn(i.message);else{const s=_r.create("idb-set",{originalErrorMessage:i?.message});Pi.warn(s.message)}}}function hv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=1024,wS=30;class CS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new VS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>wS){const u=IS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jy(),{heartbeatsToSend:i,unsentEntries:s}=DS(this._heartbeatsCache.heartbeats),u=rc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Pi.warn(e),""}}}function jy(){return new Date().toISOString().substring(0,10)}function DS(a,e=RS){const i=[];let s=a.slice();for(const u of a){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Hy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Hy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class VS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gA()?pA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Hy(a){return rc(JSON.stringify({version:2,heartbeats:a})).length}function IS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(a){lc(new tu("platform-logger",e=>new BA(e),"PRIVATE")),lc(new tu("heartbeat",e=>new CS(e),"PRIVATE")),ps(sd,By,a),ps(sd,By,"esm2020"),ps("fire-js","")}NS("");var OS="firebase",MS="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(OS,MS,"app");var Gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vr,fv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,b){function w(){}w.prototype=b.prototype,O.D=b.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(N,M,U){for(var C=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)C[xe-2]=arguments[xe];return b.prototype[M].apply(N,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,b,w){w||(w=0);var N=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)N[M]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(M=0;16>M;++M)N[M]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=O.g[0],w=O.g[1],M=O.g[2];var U=O.g[3],C=b+(U^w&(M^U))+N[0]+3614090360&4294967295;b=w+(C<<7&4294967295|C>>>25),C=U+(M^b&(w^M))+N[1]+3905402710&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(w^U&(b^w))+N[2]+606105819&4294967295,M=U+(C<<17&4294967295|C>>>15),C=w+(b^M&(U^b))+N[3]+3250441966&4294967295,w=M+(C<<22&4294967295|C>>>10),C=b+(U^w&(M^U))+N[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=U+(M^b&(w^M))+N[5]+1200080426&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(w^U&(b^w))+N[6]+2821735955&4294967295,M=U+(C<<17&4294967295|C>>>15),C=w+(b^M&(U^b))+N[7]+4249261313&4294967295,w=M+(C<<22&4294967295|C>>>10),C=b+(U^w&(M^U))+N[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=U+(M^b&(w^M))+N[9]+2336552879&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(w^U&(b^w))+N[10]+4294925233&4294967295,M=U+(C<<17&4294967295|C>>>15),C=w+(b^M&(U^b))+N[11]+2304563134&4294967295,w=M+(C<<22&4294967295|C>>>10),C=b+(U^w&(M^U))+N[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=U+(M^b&(w^M))+N[13]+4254626195&4294967295,U=b+(C<<12&4294967295|C>>>20),C=M+(w^U&(b^w))+N[14]+2792965006&4294967295,M=U+(C<<17&4294967295|C>>>15),C=w+(b^M&(U^b))+N[15]+1236535329&4294967295,w=M+(C<<22&4294967295|C>>>10),C=b+(M^U&(w^M))+N[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^M&(b^w))+N[6]+3225465664&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^w&(U^b))+N[11]+643717713&4294967295,M=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(M^U))+N[0]+3921069994&4294967295,w=M+(C<<20&4294967295|C>>>12),C=b+(M^U&(w^M))+N[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^M&(b^w))+N[10]+38016083&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^w&(U^b))+N[15]+3634488961&4294967295,M=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(M^U))+N[4]+3889429448&4294967295,w=M+(C<<20&4294967295|C>>>12),C=b+(M^U&(w^M))+N[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^M&(b^w))+N[14]+3275163606&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^w&(U^b))+N[3]+4107603335&4294967295,M=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(M^U))+N[8]+1163531501&4294967295,w=M+(C<<20&4294967295|C>>>12),C=b+(M^U&(w^M))+N[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^M&(b^w))+N[2]+4243563512&4294967295,U=b+(C<<9&4294967295|C>>>23),C=M+(b^w&(U^b))+N[7]+1735328473&4294967295,M=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(M^U))+N[12]+2368359562&4294967295,w=M+(C<<20&4294967295|C>>>12),C=b+(w^M^U)+N[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^M)+N[8]+2272392833&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^w)+N[11]+1839030562&4294967295,M=U+(C<<16&4294967295|C>>>16),C=w+(M^U^b)+N[14]+4259657740&4294967295,w=M+(C<<23&4294967295|C>>>9),C=b+(w^M^U)+N[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^M)+N[4]+1272893353&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^w)+N[7]+4139469664&4294967295,M=U+(C<<16&4294967295|C>>>16),C=w+(M^U^b)+N[10]+3200236656&4294967295,w=M+(C<<23&4294967295|C>>>9),C=b+(w^M^U)+N[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^M)+N[0]+3936430074&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^w)+N[3]+3572445317&4294967295,M=U+(C<<16&4294967295|C>>>16),C=w+(M^U^b)+N[6]+76029189&4294967295,w=M+(C<<23&4294967295|C>>>9),C=b+(w^M^U)+N[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^M)+N[12]+3873151461&4294967295,U=b+(C<<11&4294967295|C>>>21),C=M+(U^b^w)+N[15]+530742520&4294967295,M=U+(C<<16&4294967295|C>>>16),C=w+(M^U^b)+N[2]+3299628645&4294967295,w=M+(C<<23&4294967295|C>>>9),C=b+(M^(w|~U))+N[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~M))+N[7]+1126891415&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~w))+N[14]+2878612391&4294967295,M=U+(C<<15&4294967295|C>>>17),C=w+(U^(M|~b))+N[5]+4237533241&4294967295,w=M+(C<<21&4294967295|C>>>11),C=b+(M^(w|~U))+N[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~M))+N[3]+2399980690&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~w))+N[10]+4293915773&4294967295,M=U+(C<<15&4294967295|C>>>17),C=w+(U^(M|~b))+N[1]+2240044497&4294967295,w=M+(C<<21&4294967295|C>>>11),C=b+(M^(w|~U))+N[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~M))+N[15]+4264355552&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~w))+N[6]+2734768916&4294967295,M=U+(C<<15&4294967295|C>>>17),C=w+(U^(M|~b))+N[13]+1309151649&4294967295,w=M+(C<<21&4294967295|C>>>11),C=b+(M^(w|~U))+N[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~M))+N[11]+3174756917&4294967295,U=b+(C<<10&4294967295|C>>>22),C=M+(b^(U|~w))+N[2]+718787259&4294967295,M=U+(C<<15&4294967295|C>>>17),C=w+(U^(M|~b))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var w=b-this.blockSize,N=this.B,M=this.h,U=0;U<b;){if(M==0)for(;U<=w;)u(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<b;)if(N[M++]=O.charCodeAt(U++),M==this.blockSize){u(this,N),M=0;break}}else for(;U<b;)if(N[M++]=O[U++],M==this.blockSize){u(this,N),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var w=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=w&255,w/=256;for(this.u(O),O=Array(16),b=w=0;4>b;++b)for(var N=0;32>N;N+=8)O[w++]=this.g[b]>>>N&255;return O};function h(O,b){var w=g;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=b(O)}function d(O,b){this.h=b;for(var w=[],N=!0,M=O.length-1;0<=M;M--){var U=O[M]|0;N&&U==b||(w[M]=U,N=!1)}this.g=w}var g={};function y(O){return-128<=O&&128>O?h(O,function(b){return new d([b|0],0>b?-1:0)}):new d([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return H(p(-O));for(var b=[],w=1,N=0;O>=w;N++)b[N]=O/w|0,w*=4294967296;return new d(b,0)}function T(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return H(T(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=p(Math.pow(b,8)),N=S,M=0;M<O.length;M+=8){var U=Math.min(8,O.length-M),C=parseInt(O.substring(M,M+U),b);8>U?(U=p(Math.pow(b,U)),N=N.j(U).add(p(C))):(N=N.j(w),N=N.add(p(C)))}return N}var S=y(0),D=y(1),k=y(16777216);a=d.prototype,a.m=function(){if(W(this))return-H(this).m();for(var O=0,b=1,w=0;w<this.g.length;w++){var N=this.i(w);O+=(0<=N?N:4294967296+N)*b,b*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Q(this))return"0";if(W(this))return"-"+H(this).toString(O);for(var b=p(Math.pow(O,6)),w=this,N="";;){var M=St(w,b).g;w=nt(w,M.j(b));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=M,Q(w))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Q(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function W(O){return O.h==-1}a.l=function(O){return O=nt(this,O),W(O)?-1:Q(O)?0:1};function H(O){for(var b=O.g.length,w=[],N=0;N<b;N++)w[N]=~O.g[N];return new d(w,~O.h).add(D)}a.abs=function(){return W(this)?H(this):this},a.add=function(O){for(var b=Math.max(this.g.length,O.g.length),w=[],N=0,M=0;M<=b;M++){var U=N+(this.i(M)&65535)+(O.i(M)&65535),C=(U>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);N=C>>>16,U&=65535,C&=65535,w[M]=C<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function nt(O,b){return O.add(H(b))}a.j=function(O){if(Q(this)||Q(O))return S;if(W(this))return W(O)?H(this).j(H(O)):H(H(this).j(O));if(W(O))return H(this.j(H(O)));if(0>this.l(k)&&0>O.l(k))return p(this.m()*O.m());for(var b=this.g.length+O.g.length,w=[],N=0;N<2*b;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<O.g.length;M++){var U=this.i(N)>>>16,C=this.i(N)&65535,xe=O.i(M)>>>16,se=O.i(M)&65535;w[2*N+2*M]+=C*se,tt(w,2*N+2*M),w[2*N+2*M+1]+=U*se,tt(w,2*N+2*M+1),w[2*N+2*M+1]+=C*xe,tt(w,2*N+2*M+1),w[2*N+2*M+2]+=U*xe,tt(w,2*N+2*M+2)}for(N=0;N<b;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=b;N<2*b;N++)w[N]=0;return new d(w,0)};function tt(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function rt(O,b){this.g=O,this.h=b}function St(O,b){if(Q(b))throw Error("division by zero");if(Q(O))return new rt(S,S);if(W(O))return b=St(H(O),b),new rt(H(b.g),H(b.h));if(W(b))return b=St(O,H(b)),new rt(H(b.g),b.h);if(30<O.g.length){if(W(O)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var w=D,N=b;0>=N.l(O);)w=ht(w),N=ht(N);var M=Ot(w,1),U=Ot(N,1);for(N=Ot(N,2),w=Ot(w,2);!Q(N);){var C=U.add(N);0>=C.l(O)&&(M=M.add(w),U=C),N=Ot(N,1),w=Ot(w,1)}return b=nt(O,M.j(b)),new rt(M,b)}for(M=S;0<=O.l(b);){for(w=Math.max(1,Math.floor(O.m()/b.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=p(w),C=U.j(b);W(C)||0<C.l(O);)w-=N,U=p(w),C=U.j(b);Q(U)&&(U=D),M=M.add(U),O=nt(O,C)}return new rt(M,O)}a.A=function(O){return St(this,O).h},a.and=function(O){for(var b=Math.max(this.g.length,O.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)&O.i(N);return new d(w,this.h&O.h)},a.or=function(O){for(var b=Math.max(this.g.length,O.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)|O.i(N);return new d(w,this.h|O.h)},a.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)^O.i(N);return new d(w,this.h^O.h)};function ht(O){for(var b=O.g.length+1,w=[],N=0;N<b;N++)w[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(w,O.h)}function Ot(O,b){var w=b>>5;b%=32;for(var N=O.g.length-w,M=[],U=0;U<N;U++)M[U]=0<b?O.i(U+w)>>>b|O.i(U+w+1)<<32-b:O.i(U+w);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,fv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=T,vr=d}).apply(typeof Gy<"u"?Gy:typeof self<"u"?self:typeof window<"u"?window:{});var jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dv,Gl,mv,$o,od,gv,pv,yv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,_){return o==Array.prototype||o==Object.prototype||(o[m]=_.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof jo=="object"&&jo];for(var m=0;m<o.length;++m){var _=o[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var _=s;o=o.split(".");for(var A=0;A<o.length-1;A++){var L=o[A];if(!(L in _))break t;_=_[L]}o=o[o.length-1],A=_[o],m=m(A),m!=A&&m!=null&&e(_,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var _=0,A=!1,L={next:function(){if(!A&&_<o.length){var j=_++;return{value:m(j,o[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function p(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function T(o,m,_){return o.call.apply(o.bind,arguments)}function S(o,m,_){if(!o)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function D(o,m,_){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:S,D.apply(null,arguments)}function k(o,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),o.apply(this,A)}}function Q(o,m){function _(){}_.prototype=m.prototype,o.aa=m.prototype,o.prototype=new _,o.prototype.constructor=o,o.Qb=function(A,L,j){for(var it=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)it[Mt-2]=arguments[Mt];return m.prototype[L].apply(A,it)}}function W(o){const m=o.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=o[A];return _}return[]}function H(o,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(y(A)){const L=o.length||0,j=A.length||0;o.length=L+j;for(let it=0;it<j;it++)o[L+it]=A[it]}else o.push(A)}}class nt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(o){return/^[\s\xa0]*$/.test(o)}function rt(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function St(o){return St[" "](o),o}St[" "]=function(){};var ht=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function Ot(o,m,_){for(const A in o)m.call(_,o[A],A,o)}function O(o,m){for(const _ in o)m.call(void 0,o[_],_,o)}function b(o){const m={};for(const _ in o)m[_]=o[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,m){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)o[_]=A[_];for(let j=0;j<w.length;j++)_=w[j],Object.prototype.hasOwnProperty.call(A,_)&&(o[_]=A[_])}}function M(o){var m=1;o=o.split(":");const _=[];for(;0<m&&o.length;)_.push(o.shift()),m--;return o.length&&_.push(o.join(":")),_}function U(o){g.setTimeout(()=>{throw o},0)}function C(){var o=Bt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class xe{constructor(){this.h=this.g=null}add(m,_){const A=se.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new nt(()=>new G,o=>o.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ft=!1,Bt=new xe,V=()=>{const o=g.Promise.resolve(void 0);at=()=>{o.then(Z)}};var Z=()=>{for(var o;o=C();){try{o.h.call(o.g)}catch(_){U(_)}var m=se;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ft=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var dt=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return o})();function wt(o,m){if(et.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var _=this.type=o.type,A=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(ht){t:{try{St(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=o.fromElement:_=="mouseout"&&(m=o.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:vt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&wt.aa.h.call(this)}}Q(wt,et);var vt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Ln(o,m,_,A,L){this.listener=o,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function qi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ui(o){this.src=o,this.g={},this.h=0}ui.prototype.add=function(o,m,_,A,L){var j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);var it=Vr(o,m,A,L);return-1<it?(m=o[it],_||(m.fa=!1)):(m=new Ln(m,this.src,j,!!A,L),m.fa=_,o.push(m)),m};function Dr(o,m){var _=m.type;if(_ in o.g){var A=o.g[_],L=Array.prototype.indexOf.call(A,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(A,L,1),j&&(qi(m),o.g[_].length==0&&(delete o.g[_],o.h--))}}function Vr(o,m,_,A){for(var L=0;L<o.length;++L){var j=o[L];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==A)return L}return-1}var Ir="closure_lm_"+(1e6*Math.random()|0),Ms={};function pu(o,m,_,A,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)pu(o,m[j],_,A,L);return null}return _=yu(_),o&&o[Ce]?o.K(m,_,p(A)?!!A.capture:!1,L):mn(o,m,_,!1,A,L)}function mn(o,m,_,A,L,j){if(!m)throw Error("Invalid event type");var it=p(L)?!!L.capture:!!L,Mt=Ta(o);if(Mt||(o[Ir]=Mt=new ui(o)),_=Mt.add(m,_,A,it,j),_.proxy)return _;if(A=Pc(),_.proxy=A,A.src=o,A.listener=_,o.addEventListener)dt||(L=it),L===void 0&&(L=!1),o.addEventListener(m.toString(),A,L);else if(o.attachEvent)o.attachEvent(Nr(m.toString()),A);else if(o.addListener&&o.removeListener)o.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Pc(){function o(_){return m.call(o.src,o.listener,_)}const m=zc;return o}function xs(o,m,_,A,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)xs(o,m[j],_,A,L);else A=p(A)?!!A.capture:!!A,_=yu(_),o&&o[Ce]?(o=o.i,m=String(m).toString(),m in o.g&&(j=o.g[m],_=Vr(j,_,A,L),-1<_&&(qi(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete o.g[m],o.h--)))):o&&(o=Ta(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Vr(m,_,A,L)),(_=-1<o?m[o]:null)&&Ea(_))}function Ea(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Ce])Dr(m.i,o);else{var _=o.type,A=o.proxy;m.removeEventListener?m.removeEventListener(_,A,o.capture):m.detachEvent?m.detachEvent(Nr(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Ta(m))?(Dr(_,o),_.h==0&&(_.src=null,m[Ir]=null)):qi(o)}}}function Nr(o){return o in Ms?Ms[o]:Ms[o]="on"+o}function zc(o,m){if(o.da)o=!0;else{m=new wt(m,this);var _=o.listener,A=o.ha||o.src;o.fa&&Ea(o),o=_.call(A,m)}return o}function Ta(o){return o=o[Ir],o instanceof ui?o:null}var Us="__closure_events_fn_"+(1e9*Math.random()>>>0);function yu(o){return typeof o=="function"?o:(o[Us]||(o[Us]=function(m){return o.handleEvent(m)}),o[Us])}function le(){st.call(this),this.i=new ui(this),this.M=this,this.F=null}Q(le,st),le.prototype[Ce]=!0,le.prototype.removeEventListener=function(o,m,_,A){xs(this,o,m,_,A)};function Ht(o,m){var _,A=o.F;if(A)for(_=[];A;A=A.F)_.push(A);if(o=o.M,A=m.type||m,typeof m=="string")m=new et(m,o);else if(m instanceof et)m.target=m.target||o;else{var L=m;m=new et(A,o),N(m,L)}if(L=!0,_)for(var j=_.length-1;0<=j;j--){var it=m.g=_[j];L=an(it,A,!0,m)&&L}if(it=m.g=o,L=an(it,A,!0,m)&&L,L=an(it,A,!1,m)&&L,_)for(j=0;j<_.length;j++)it=m.g=_[j],L=an(it,A,!1,m)&&L}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var _=o.g[m],A=0;A<_.length;A++)qi(_[A]);delete o.g[m],o.h--}}this.F=null},le.prototype.K=function(o,m,_,A){return this.i.add(String(o),m,!1,_,A)},le.prototype.L=function(o,m,_,A){return this.i.add(String(o),m,!0,_,A)};function an(o,m,_,A){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var it=m[j];if(it&&!it.da&&it.capture==_){var Mt=it.listener,Te=it.ha||it.src;it.fa&&Dr(o.i,it),L=Mt.call(Te,A)!==!1&&L}}return L&&!A.defaultPrevented}function Ge(o,m,_){if(typeof o=="function")_&&(o=D(o,_));else if(o&&typeof o.handleEvent=="function")o=D(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function _u(o){o.g=Ge(()=>{o.g=null,o.i&&(o.i=!1,_u(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Bc extends st{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(o){st.call(this),this.h=o,this.g={}}Q(Or,st);var Mr=[];function xr(o){Ot(o.g,function(m,_){this.g.hasOwnProperty(_)&&Ea(m)},o),o.g={}}Or.prototype.N=function(){Or.aa.N.call(this),xr(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=g.JSON.stringify,Aa=g.JSON.parse,Ur=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ls(){}Ls.prototype.h=null;function Ps(o){return o.h||(o.h=o.i())}function zs(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ci(){et.call(this,"d")}Q(ci,et);function Bs(){et.call(this,"c")}Q(Bs,et);var Pn={},ks=null;function ji(){return ks=ks||new le}Pn.La="serverreachability";function Sa(o){et.call(this,Pn.La,o)}Q(Sa,et);function Hi(o){const m=ji();Ht(m,new Sa(m))}Pn.STAT_EVENT="statevent";function vu(o,m){et.call(this,Pn.STAT_EVENT,o),this.stat=m}Q(vu,et);function ee(o){const m=ji();Ht(m,new vu(m,o))}Pn.Ma="timingevent";function Ee(o,m){et.call(this,Pn.Ma,o),this.size=m}Q(Ee,et);function me(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function qs(o,m,_,A,L,j){o.info(function(){if(o.g)if(j)for(var it="",Mt=j.split("&"),Te=0;Te<Mt.length;Te++){var xt=Mt[Te].split("=");if(1<xt.length){var Ve=xt[0];xt=xt[1];var Ae=Ve.split("_");it=2<=Ae.length&&Ae[1]=="type"?it+(Ve+"="+xt+"&"):it+(Ve+"=redacted&")}}else it=null;else it=j;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+_+`
`+it})}function kc(o,m,_,A,L,j,it){o.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+_+`
`+j+" "+it})}function Gi(o,m,_,A){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lr(o,_)+(A?" "+A:"")})}function Eu(o,m){o.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function Lr(o,m){if(!o.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(o=0;o<_.length;o++)if(Array.isArray(_[o])){var A=_[o];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var it=1;it<L.length;it++)L[it]=""}}}}return Vn(_)}catch{return m}}var Fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Bn(){}Q(Bn,Ls),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},zn=new Bn;function $e(o,m,_,A){this.j=o,this.i=m,this.l=_,this.R=A||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var js={},ba={};function In(o,m,_){o.L=1,o.v=qr(sn(m)),o.m=_,o.P=!0,fi(o,null)}function fi(o,m){o.F=Date.now(),Pr(o),o.A=sn(o.v);var _=o.A,A=o.R;Array.isArray(A)||(A=[String(A)]),Ks(_.i,"t",A),o.C=0,_=o.j.J,o.h=new ce,o.g=Lu(o.j,_?m:null,!o.m),0<o.O&&(o.M=new Bc(D(o.Y,o,o.g),o.O)),m=o.U,_=o.g,A=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Mr[0]=L.toString()),L=Mr);for(var j=0;j<L.length;j++){var it=pu(_,L[j],A||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=o.H?b(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Hi(),qs(o.i,o.u,o.A,o.l,o.R,o.m)}$e.prototype.ca=function(o){o=o.target;const m=this.M;m&&vn(o)==3?m.j():this.Y(o)},$e.prototype.Y=function(o){try{if(o==this.g)t:{const Ae=vn(this.g);var m=this.g.Ba();const Ei=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||Du(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Ei?Hi(3):Hi(2)),Qi(this);var _=this.g.Z();this.X=_;e:if(Tu(this)){var A=Du(this.g);o="";var L=A.length,j=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),kn(this);var it="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(A[m],{stream:!(j&&m==L-1)});A.length=0,this.h.g+=o,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=_==200,kc(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Te=this.g;if((Mt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(Mt)){var xt=Mt;break e}}xt=null}if(_=xt)Gi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zr(this,_);else{this.o=!1,this.s=3,ee(12),Ue(this),kn(this);break t}}if(this.P){_=!0;let Le;for(;!this.J&&this.C<it.length;)if(Le=Au(this,it),Le==ba){Ae==4&&(this.s=4,ee(14),_=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==js){this.s=4,ee(15),Gi(this.i,this.l,it,"[Invalid Chunk]"),_=!1;break}else Gi(this.i,this.l,Le,null),zr(this,Le);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||it.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)Gi(this.i,this.l,it,"[Invalid Chunked Response]"),Ue(this),kn(this);else if(0<it.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),Xr(Ve),Ve.M=!0,ee(11))}}else Gi(this.i,this.l,it,null),zr(this,it);Ae==4&&Ue(this),this.o&&!this.J&&(Ae==4?Mu(this.j,this):(this.o=!1,Pr(this)))}else Fc(this.g),_==400&&0<it.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ue(this),kn(this)}}}catch{}finally{}};function Tu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Au(o,m){var _=o.C,A=m.indexOf(`
`,_);return A==-1?ba:(_=Number(m.substring(_,A)),isNaN(_)?js:(A+=1,A+_>m.length?ba:(m=m.slice(A,A+_),o.C=A+_,m)))}$e.prototype.cancel=function(){this.J=!0,Ue(this)};function Pr(o){o.S=Date.now()+o.I,Su(o,o.I)}function Su(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=me(D(o.ba,o),m)}function Qi(o){o.B&&(g.clearTimeout(o.B),o.B=null)}$e.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Eu(this.i,this.A),this.L!=2&&(Hi(),ee(17)),Ue(this),this.s=2,kn(this)):Su(this,this.S-o)};function kn(o){o.j.G==0||o.J||Mu(o.j,o)}function Ue(o){Qi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,xr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function zr(o,m){try{var _=o.j;if(_.G!=0&&(_.g==o||Hs(_.h,o))){if(!o.K&&Hs(_.h,o)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<o.F)La(_),xa(_);else break t;Ws(_),ee(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=me(D(_.Za,_),6e3));if(1>=wa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else vi(_,11)}else if((o.K||_.g==o)&&La(_),!tt(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let xt=L[m];if(_.T=xt[0],xt=xt[1],_.G==2)if(xt[0]=="c"){_.K=xt[1],_.ia=xt[2];const Ve=xt[3];Ve!=null&&(_.la=Ve,_.j.info("VER="+_.la));const Ae=xt[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const Ei=xt[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(A=1.5*Ei,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Le=o.g;if(Le){const Yn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var j=A.h;j.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ca(j,j.h),j.h=null))}if(A.D){const el=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(A.ya=el,Qt(A.I,A.D,el))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-o.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var it=o;if(A.qa=Uu(A,A.J?A.ia:null,A.W),it.K){Ze(A.h,it);var Mt=it,Te=A.L;Te&&(Mt.I=Te),Mt.B&&(Qi(Mt),Pr(Mt)),A.g=it}else Nu(A);0<_.i.length&&Ua(_)}else xt[0]!="stop"&&xt[0]!="close"||vi(_,7);else _.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?vi(_,7):Zs(_):xt[0]!="noop"&&_.l&&_.l.ta(xt),_.v=0)}}Hi(4)}catch{}}var bu=class{constructor(o,m){this.g=o,this.map=m}};function di(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ra(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function wa(o){return o.h?1:o.g?o.g.size:0}function Hs(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ca(o,m){o.g?o.g.add(m):o.h=m}function Ze(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}di.prototype.cancel=function(){if(this.i=Gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Gs(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const _ of o.g.values())m=m.concat(_.D);return m}return W(o.i)}function qc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(y(o)){for(var m=[],_=o.length,A=0;A<_;A++)m.push(o[A]);return m}m=[],_=0;for(A in o)m[_++]=o[A];return m}function Da(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(y(o)||typeof o=="string"){var m=[];o=o.length;for(var _=0;_<o;_++)m.push(_);return m}m=[],_=0;for(const A in o)m[_++]=A;return m}}}function Fs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(y(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var _=Da(o),A=qc(o),L=A.length,j=0;j<L;j++)m.call(void 0,A[j],_&&_[j],o)}var Br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jc(o,m){if(o){o=o.split("&");for(var _=0;_<o.length;_++){var A=o[_].indexOf("="),L=null;if(0<=A){var j=o[_].substring(0,A);L=o[_].substring(A+1)}else j=o[_];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ge(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ge){this.h=o.h,kr(this,o.j),this.o=o.o,this.g=o.g,Yi(this,o.s),this.l=o.l;var m=o.i,_=new gi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),mi(this,_),this.m=o.m}else o&&(m=String(o).match(Br))?(this.h=!1,kr(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),Yi(this,m[4]),this.l=pn(m[5]||"",!0),mi(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}ge.prototype.toString=function(){var o=[],m=this.j;m&&o.push(jr(m,Qs,!0),":");var _=this.g;return(_||m=="file")&&(o.push("//"),(m=this.o)&&o.push(jr(m,Qs,!0),"@"),o.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&o.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&o.push("/"),o.push(jr(_,_.charAt(0)=="/"?Hc:Ys,!0))),(_=this.i.toString())&&o.push("?",_),(_=this.m)&&o.push("#",jr(_,Va)),o.join("")};function sn(o){return new ge(o)}function kr(o,m,_){o.j=_?pn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Yi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function mi(o,m,_){m instanceof gi?(o.i=m,wu(o.i,o.h)):(_||(m=jr(m,Gc)),o.i=new gi(m,o.h))}function Qt(o,m,_){o.i.set(m,_)}function qr(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function pn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function jr(o,m,_){return typeof o=="string"?(o=encodeURI(o).replace(m,Ru),_&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Ru(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Qs=/[#\/\?@]/g,Ys=/[#\?:]/g,Hc=/[#\?]/g,Gc=/[#\?@]/g,Va=/#/g;function gi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function yn(o){o.g||(o.g=new Map,o.h=0,o.i&&jc(o.i,function(m,_){o.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=gi.prototype,a.add=function(o,m){yn(this),this.i=null,o=qn(this,o);var _=this.g.get(o);return _||this.g.set(o,_=[]),_.push(m),this.h+=1,this};function pi(o,m){yn(o),m=qn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function yi(o,m){return yn(o),m=qn(o,m),o.g.has(m)}a.forEach=function(o,m){yn(this),this.g.forEach(function(_,A){_.forEach(function(L){o.call(m,L,A,this)},this)},this)},a.na=function(){yn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const L=o[A];for(let j=0;j<L.length;j++)_.push(m[A])}return _},a.V=function(o){yn(this);let m=[];if(typeof o=="string")yi(this,o)&&(m=m.concat(this.g.get(qn(this,o))));else{o=Array.from(this.g.values());for(let _=0;_<o.length;_++)m=m.concat(o[_])}return m},a.set=function(o,m){return yn(this),this.i=null,o=qn(this,o),yi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},a.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Ks(o,m,_){pi(o,m),0<_.length&&(o.i=null,o.g.set(qn(o,m),W(_)),o.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const j=encodeURIComponent(String(A)),it=this.V(A);for(A=0;A<it.length;A++){var L=j;it[A]!==""&&(L+="="+encodeURIComponent(String(it[A]))),o.push(L)}}return this.i=o.join("&")};function qn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function wu(o,m){m&&!o.j&&(yn(o),o.i=null,o.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(pi(this,A),Ks(this,L,_))},o)),o.j=m}function Hr(o,m){const _=new gn;if(g.Image){const A=new Image;A.onload=k(_n,_,"TestLoadImage: loaded",!0,m,A),A.onerror=k(_n,_,"TestLoadImage: error",!1,m,A),A.onabort=k(_n,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=k(_n,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=o}else m(!1)}function Nn(o,m){const _=new gn,A=new AbortController,L=setTimeout(()=>{A.abort(),_n(_,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:A.signal}).then(j=>{clearTimeout(L),j.ok?_n(_,"TestPingServer: ok",!0,m):_n(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),_n(_,"TestPingServer: error",!1,m)})}function _n(o,m,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function Gr(){this.g=new Ur}function jn(o,m,_){const A=_||"";try{Fs(o,function(L,j){let it=L;p(L)&&(it=Vn(L)),m.push(A+j+"="+encodeURIComponent(it))})}catch(L){throw m.push(A+"type="+encodeURIComponent("_badmap")),L}}function Ki(o){this.l=o.Ub||null,this.j=o.eb||!1}Q(Ki,Ls),Ki.prototype.g=function(){return new _i(this.l,this.j)},Ki.prototype.i=(function(o){return function(){return o}})({});function _i(o,m){le.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(_i,le),a=_i.prototype,a.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},a.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},a.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}a.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Hn(this):Gn(this),this.readyState==3&&Xs(this)}},a.Ra=function(o){this.g&&(this.response=this.responseText=o,Hn(this))},a.Qa=function(o){this.g&&(this.response=o,Hn(this))},a.ga=function(){this.g&&Hn(this)};function Hn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}a.setRequestHeader=function(o,m){this.u.append(o,m)},a.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,o.push(_[0]+": "+_[1]),_=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function $s(o){let m="";return Ot(o,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function De(o,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=$s(_),typeof o=="string"?_!=null&&encodeURIComponent(String(_)):Qt(o,m,_))}function qt(o){le.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(qt,le);var Ia=/^https?$/i,Fr=["POST","PUT"];a=qt.prototype,a.Ha=function(o){this.J=o},a.ea=function(o,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Ps(this.o):Ps(zn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(j){Cu(this,j);return}if(o=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())_.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Fr,m,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,it]of _)this.g.setRequestHeader(j,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qr(this),this.u=!0,this.g.send(o),this.u=!1}catch(j){Cu(this,j)}};function Cu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Na(o),Fn(o)}function Na(o){o.A||(o.A=!0,Ht(o,"complete"),Ht(o,"error"))}a.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ht(this,"complete"),Ht(this,"abort"),Fn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},a.bb=function(){Oa(this)};function Oa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||vn(o)!=4||o.Z()!=2)){if(o.u&&vn(o)==4)Ge(o.Ea,0,o);else if(Ht(o,"readystatechange"),vn(o)==4){o.h=!1;try{const it=o.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=it===0){var L=String(o.D).match(Br)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),A=!Ia.test(L?L.toLowerCase():"")}_=A}if(_)Ht(o,"complete"),Ht(o,"success");else{o.m=6;try{var j=2<vn(o)?o.g.statusText:""}catch{j=""}o.l=j+" ["+o.Z()+"]",Na(o)}}finally{Fn(o)}}}}function Fn(o,m){if(o.g){Qr(o);const _=o.g,A=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Ht(o,"ready");try{_.onreadystatechange=A}catch{}}}function Qr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}a.isActive=function(){return!!this.g};function vn(o){return o.g?o.g.readyState:0}a.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Aa(m)}};function Du(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Fc(o){const m={};o=(o.g&&2<=vn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<o.length;A++){if(tt(o[A]))continue;var _=M(o[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[L]||[];m[L]=j,j.push(_)}O(m,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(o,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[o]||m}function Ma(o){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,o),this.cb=Yr("retryDelaySeedMs",1e4,o),this.Wa=Yr("forwardChannelMaxRetries",2,o),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new di(o&&o.concurrentRequestLimit),this.Da=new Gr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ma.prototype,a.la=8,a.G=1,a.connect=function(o,m,_,A){ee(0),this.W=o,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Uu(this,null,this.W),Ua(this)};function Zs(o){if(Vu(o),o.G==3){var m=o.U++,_=sn(o.I);if(Qt(_,"SID",o.K),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),Kr(o,_),m=new $e(o,o.j,m),m.L=2,m.v=qr(sn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Lu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Pr(m)}xu(o)}function xa(o){o.g&&(Xr(o),o.g.cancel(),o.g=null)}function Vu(o){xa(o),o.u&&(g.clearTimeout(o.u),o.u=null),La(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Ua(o){if(!Ra(o.h)&&!o.s){o.s=!0;var m=o.Ga;at||V(),ft||(at(),ft=!0),Bt.add(m,o),o.B=0}}function Qc(o,m){return wa(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=me(D(o.Ga,o,m),tl(o,o.B)),o.B++,!0)}a.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new $e(this,this.j,o);let j=this.o;if(this.S&&(j?(j=b(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Iu(this,L,m),_=sn(this.I),Qt(_,"RID",o),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),Kr(this,_),j&&(this.O?m="headers="+encodeURIComponent(String($s(j)))+"&"+m:this.m&&De(_,this.m,j)),Ca(this.h,L),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",m),Qt(_,"SID","null"),L.T=!0,In(L,_,null)):In(L,_,m),this.G=2}}else this.G==3&&(o?Js(this,o):this.i.length==0||Ra(this.h)||Js(this))};function Js(o,m){var _;m?_=m.l:_=o.U++;const A=sn(o.I);Qt(A,"SID",o.K),Qt(A,"RID",_),Qt(A,"AID",o.T),Kr(o,A),o.m&&o.o&&De(A,o.m,o.o),_=new $e(o,o.j,_,o.B+1),o.m===null&&(_.H=o.o),m&&(o.i=m.D.concat(o.i)),m=Iu(o,_,1e3),_.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ca(o.h,_),In(_,A,m)}function Kr(o,m){o.H&&Ot(o.H,function(_,A){Qt(m,A,_)}),o.l&&Fs({},function(_,A){Qt(m,A,_)})}function Iu(o,m,_){_=Math.min(o.i.length,_);var A=o.l?D(o.l.Na,o.l,o):null;t:{var L=o.i;let j=-1;for(;;){const it=["count="+_];j==-1?0<_?(j=L[0].g,it.push("ofs="+j)):j=0:it.push("ofs="+j);let Mt=!0;for(let Te=0;Te<_;Te++){let xt=L[Te].g;const Ve=L[Te].map;if(xt-=j,0>xt)j=Math.max(0,L[Te].g-100),Mt=!1;else try{jn(Ve,it,"req"+xt+"_")}catch{A&&A(Ve)}}if(Mt){A=it.join("&");break t}}}return o=o.i.splice(0,_),m.D=o,A}function Nu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;at||V(),ft||(at(),ft=!0),Bt.add(m,o),o.v=0}}function Ws(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=me(D(o.Fa,o),tl(o,o.v)),o.v++,!0)}a.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=me(D(this.ab,this),o)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),xa(this),Ou(this))};function Xr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function Ou(o){o.g=new $e(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=sn(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),Kr(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var _=o.g;o=o.ia,_.L=1,_.v=qr(sn(m)),_.m=null,_.P=!0,fi(_,o)}a.Za=function(){this.C!=null&&(this.C=null,xa(this),Ws(this),ee(19))};function La(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Mu(o,m){var _=null;if(o.g==m){La(o),Xr(o),o.g=null;var A=2}else if(Hs(o.h,m))_=m.D,Ze(o.h,m),A=1;else return;if(o.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;A=ji(),Ht(A,new Ee(A,_)),Ua(o)}else Nu(o);else if(L=m.s,L==3||L==0&&0<m.X||!(A==1&&Qc(o,m)||A==2&&Ws(o)))switch(_&&0<_.length&&(m=o.h,m.i=m.i.concat(_)),L){case 1:vi(o,5);break;case 4:vi(o,10);break;case 3:vi(o,6);break;default:vi(o,2)}}}function tl(o,m){let _=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(_*=2),_*m}function vi(o,m){if(o.j.info("Error code "+m),m==2){var _=D(o.fb,o),A=o.Xa;const L=!A;A=new ge(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||kr(A,"https"),qr(A),L?Hr(A.toString(),_):Nn(A.toString(),_)}else ee(2);o.G=0,o.l&&o.l.sa(m),xu(o),Vu(o)}a.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function xu(o){if(o.G=0,o.ka=[],o.l){const m=Gs(o.h);(m.length!=0||o.i.length!=0)&&(H(o.ka,m),H(o.ka,o.i),o.h.i.length=0,W(o.i),o.i.length=0),o.l.ra()}}function Uu(o,m,_){var A=_ instanceof ge?sn(_):new ge(_);if(A.g!="")m&&(A.g=m+"."+A.g),Yi(A,A.s);else{var L=g.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new ge(null);A&&kr(j,A),m&&(j.g=m),L&&Yi(j,L),_&&(j.l=_),A=j}return _=o.D,m=o.ya,_&&m&&Qt(A,_,m),Qt(A,"VER",o.la),Kr(o,A),A}function Lu(o,m,_){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new Ki({eb:_})):new qt(o.pa),m.Ha(o.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}a=Pu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Pa(){}Pa.prototype.g=function(o,m){return new Je(o,m)};function Je(o,m){le.call(this),this.g=new Ma(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!tt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!tt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Qn(this)}Q(Je,le),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Zs(this.g)},Je.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var _={};_.__data__=o,o=_}else this.u&&(_={},_.__data__=Vn(o),o=_);m.i.push(new bu(m.Ya++,o)),m.G==3&&Ua(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Zs(this.g),delete this.g,Je.aa.N.call(this)};function zu(o){ci.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const _ in m){o=_;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Q(zu,ci);function Bu(){Bs.call(this),this.status=1}Q(Bu,Bs);function Qn(o){this.g=o}Q(Qn,Pu),Qn.prototype.ua=function(){Ht(this.g,"a")},Qn.prototype.ta=function(o){Ht(this.g,new zu(o))},Qn.prototype.sa=function(o){Ht(this.g,new Bu)},Qn.prototype.ra=function(){Ht(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,yv=function(){return new Pa},pv=function(){return ji()},gv=Pn,od={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,$o=Fi,hi.COMPLETE="complete",mv=hi,zs.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",le.prototype.listen=le.prototype.K,Gl=zs,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,dv=qt}).apply(typeof jo<"u"?jo:typeof self<"u"?self:typeof window<"u"?window:{});const Fy="@firebase/firestore",Qy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vs="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new sv("@firebase/firestore");function fs(){return da.logLevel}function lt(a,...e){if(da.logLevel<=Pt.DEBUG){const i=e.map(xd);da.debug(`Firestore (${Vs}): ${a}`,...i)}}function zi(a,...e){if(da.logLevel<=Pt.ERROR){const i=e.map(xd);da.error(`Firestore (${Vs}): ${a}`,...i)}}function Es(a,...e){if(da.logLevel<=Pt.WARN){const i=e.map(xd);da.warn(`Firestore (${Vs}): ${a}`,...i)}}function xd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,_v(a,s,i)}function _v(a,e,i){let s=`FIRESTORE (${Vs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw zi(s),new Error(s)}function jt(a,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,a||_v(e,u,s)}function Tt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ds{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class US{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class LS{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0,42304);let s=this.i;const u=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let h=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Er,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const y=h;e.enqueueRetryable((async()=>{await y.promise,await u(this.currentUser)}))},g=y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Er)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new vv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class PS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new PS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0,3512);const s=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const u=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Yy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=kS(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function It(a,e){return a<e?-1:a>e?1:0}function cd(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const u=a.charAt(s),h=e.charAt(s);if(u!==h)return $f(u)===$f(h)?It(u,h):$f(u)?1:-1}return It(a.length,e.length)}const qS=55296,jS=57343;function $f(a){const e=a.charCodeAt(0);return e>=qS&&e<=jS}function Ts(a,e,i){return a.length===e.length&&a.every(((s,u)=>i(s,e[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="__name__";class Wn{constructor(e,i,s){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&yt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=Wn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return It(e.length,i.length)}static compareSegments(e,i){const s=Wn.isNumericId(e),u=Wn.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):cd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class Wt extends Wn{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((u=>u.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const HS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends Wn{construct(e,i,s){return new qe(e,i,s)}static isValidIdentifier(e){return HS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ky}static keyField(){return new qe([Ky])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[u+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(h(),u++)}if(h(),d)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(Wt.fromString(e))}static fromName(e){return new mt(Wt.fromString(e).popFirst(5))}static empty(){return new mt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(a,e,i){if(!i)throw new ot(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function GS(a,e,i,s){if(e===!0&&s===!0)throw new ot(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Xy(a){if(!mt.isDocumentKey(a))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function $y(a){if(mt.isDocumentKey(a))throw new ot(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Tv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Ld(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":yt(12329,{type:typeof a})}function uc(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ld(a);throw new ot(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(a,e){const i={typeString:a};return e&&(i.value=e),i}function hu(a,e){if(!Tv(a))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const u=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(u&&typeof d!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new ot(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=-62135596800,Jy=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Jy);return new te(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Zy)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jy}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:ve("string",te._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new te(0,0))}static max(){return new Et(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function FS(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=Et.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new Ar(u,mt.empty(),e)}function QS(a){return new Ar(a.readTime,a.key,nu)}class Ar{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ar(Et.min(),mt.empty(),nu)}static max(){return new Ar(Et.max(),mt.empty(),nu)}}function YS(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(a.documentKey,e.documentKey),i!==0?i:It(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==KS)throw a;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,s)=>{i(e)}))}static reject(e){return new $(((i,s)=>{s(e)}))}static waitFor(e){return new $(((i,s)=>{let u=0,h=0,d=!1;e.forEach((g=>{++u,g.next((()=>{++h,d&&h===u&&i()}),(y=>s(y)))})),d=!0,h===u&&i()}))}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next((u=>u?$.resolve(u):s()));return i}static forEach(e,i){const s=[];return e.forEach(((u,h)=>{s.push(i.call(this,u,h))})),this.waitFor(s)}static mapArray(e,i){return new $(((s,u)=>{const h=e.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const p=y;i(e[p]).next((T=>{d[p]=T,++g,g===h&&s(d)}),(T=>u(T)))}}))}static doWhile(e,i){return new $(((s,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):s()};h()}))}}function $S(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ns(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=-1;function bc(a){return a==null}function oc(a){return a===0&&1/a==-1/0}function ZS(a){return typeof a=="number"&&Number.isInteger(a)&&!oc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="";function JS(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Wy(e)),e=WS(a.get(i),e);return Wy(e)}function WS(a,e){let i=e;const s=a.length;for(let u=0;u<s;u++){const h=a.charAt(u);switch(h){case"\0":i+="";break;case Av:i+="";break;default:i+=h}}return i}function Wy(a){return a+Av+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function pa(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Sv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ho(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ho(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ho(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ho(this.root,e,this.comparator,!0)}}class Ho{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??ke.RED,this.left=u??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new ke(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ke.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(qe.comparator)}static empty(){return new Un([])}unionWith(e){let i=new we(qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ts(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new bv("Invalid base64 string: "+h):h}})(e);return new He(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new He(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const tb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(a){if(jt(!!a,39018),typeof a=="string"){let e=0;const i=tb.exec(a);if(jt(!!i,46558,{timestamp:a}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(a.seconds),nanos:de(a.nanos)}}function de(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function br(a){return typeof a=="string"?He.fromBase64String(a):He.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="server_timestamp",wv="__type__",Cv="__previous_value__",Dv="__local_write_time__";function zd(a){return(a?.mapValue?.fields||{})[wv]?.stringValue===Rv}function Rc(a){const e=a.mapValue.fields[Cv];return zd(e)?Rc(e):e}function iu(a){const e=Sr(a.mapValue.fields[Dv].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,i,s,u,h,d,g,y,p,T){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=T}}const cc="(default)";class ru{constructor(e,i){this.projectId=e,this.database=i||cc}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===cc}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="__type__",nb="__max__",Go={mapValue:{}},Iv="__vector__",hc="value";function Rr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?zd(a)?4:rb(a)?9007199254740991:ib(a)?10:11:yt(28295,{value:a})}function ai(a,e){if(a===e)return!0;const i=Rr(a);if(i!==Rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return iu(a).isEqual(iu(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Sr(u.timestampValue),g=Sr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(u,h){return br(u.bytesValue).isEqual(br(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(u,h){return de(u.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(u.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(a,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return de(u.integerValue)===de(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=de(u.doubleValue),g=de(h.doubleValue);return d===g?oc(d)===oc(g):isNaN(d)&&isNaN(g)}return!1})(a,e);case 9:return Ts(a.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(t_(d)!==t_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ai(d[y],g[y])))return!1;return!0})(a,e);default:return yt(52216,{left:a})}}function au(a,e){return(a.values||[]).find((i=>ai(i,e)))!==void 0}function As(a,e){if(a===e)return 0;const i=Rr(a),s=Rr(e);if(i!==s)return It(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=de(h.integerValue||h.doubleValue),y=de(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(a,e);case 3:return n_(a.timestampValue,e.timestampValue);case 4:return n_(iu(a),iu(e));case 5:return cd(a.stringValue,e.stringValue);case 6:return(function(h,d){const g=br(h),y=br(d);return g.compareTo(y)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const T=It(g[p],y[p]);if(T!==0)return T}return It(g.length,y.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=It(de(h.latitude),de(d.latitude));return g!==0?g:It(de(h.longitude),de(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return i_(a.arrayValue,e.arrayValue);case 10:return(function(h,d){const g=h.fields||{},y=d.fields||{},p=g[hc]?.arrayValue,T=y[hc]?.arrayValue,S=It(p?.values?.length||0,T?.values?.length||0);return S!==0?S:i_(p,T)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Go.mapValue&&d===Go.mapValue)return 0;if(h===Go.mapValue)return 1;if(d===Go.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),p=d.fields||{},T=Object.keys(p);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const D=cd(y[S],T[S]);if(D!==0)return D;const k=As(g[y[S]],p[T[S]]);if(k!==0)return k}return It(y.length,T.length)})(a.mapValue,e.mapValue);default:throw yt(23264,{he:i})}}function n_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return It(a,e);const i=Sr(a),s=Sr(e),u=It(i.seconds,s.seconds);return u!==0?u:It(i.nanos,s.nanos)}function i_(a,e){const i=a.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=As(i[u],s[u]);if(h)return h}return It(i.length,s.length)}function Ss(a){return hd(a)}function hd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Sr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return br(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return mt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=hd(h);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${hd(i.fields[d])}`;return u+"}"})(a.mapValue):yt(61005,{value:a})}function Zo(a){switch(Rr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rc(a);return e?16+Zo(e):16;case 5:return 2*a.stringValue.length;case 6:return br(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,h)=>u+Zo(h)),0)})(a.arrayValue);case 10:case 11:return(function(s){let u=0;return pa(s.fields,((h,d)=>{u+=h.length+Zo(d)})),u})(a.mapValue);default:throw yt(13486,{value:a})}}function fd(a){return!!a&&"integerValue"in a}function Bd(a){return!!a&&"arrayValue"in a}function r_(a){return!!a&&"nullValue"in a}function a_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Jo(a){return!!a&&"mapValue"in a}function ib(a){return(a?.mapValue?.fields||{})[Vv]?.stringValue===Iv}function Kl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return pa(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Kl(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Kl(a.arrayValue.values[i]);return e}return{...a}}function rb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===nb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Jo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(i)}setAll(e){let i=qe.emptyPath(),s={},u=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=Kl(d):u.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Jo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Jo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){pa(i,((u,h)=>e[u]=h));for(const u of s)delete e[u]}clone(){return new Cn(Kl(this.value))}}function Nv(a){const e=[];return pa(a.fields,((i,s)=>{const u=new qe([i]);if(Jo(s)){const h=Nv(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)})),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,u,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Xe(e,0,Et.min(),Et.min(),Et.min(),Cn.empty(),0)}static newFoundDocument(e,i,s,u){return new Xe(e,1,i,Et.min(),s,u,0)}static newNoDocument(e,i){return new Xe(e,2,i,Et.min(),Et.min(),Cn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,Et.min(),Et.min(),Cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i){this.position=e,this.inclusive=i}}function s_(a,e,i){let s=0;for(let u=0;u<a.position.length;u++){const h=e[u],d=a.position[u];if(h.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=As(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function l_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ai(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i="asc"){this.field=e,this.dir=i}}function ab(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{}class Re extends Ov{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new lb(e,i,s):i==="array-contains"?new cb(e,s):i==="in"?new hb(e,s):i==="not-in"?new fb(e,s):i==="array-contains-any"?new db(e,s):new Re(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new ub(e,s):new ob(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(As(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(As(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends Ov{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new si(e,i)}matches(e){return Mv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mv(a){return a.op==="and"}function xv(a){return sb(a)&&Mv(a)}function sb(a){for(const e of a.filters)if(e instanceof si)return!1;return!0}function dd(a){if(a instanceof Re)return a.field.canonicalString()+a.op.toString()+Ss(a.value);if(xv(a))return a.filters.map((e=>dd(e))).join(",");{const e=a.filters.map((i=>dd(i))).join(",");return`${a.op}(${e})`}}function Uv(a,e){return a instanceof Re?(function(s,u){return u instanceof Re&&s.op===u.op&&s.field.isEqual(u.field)&&ai(s.value,u.value)})(a,e):a instanceof si?(function(s,u){return u instanceof si&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((h,d,g)=>h&&Uv(d,u.filters[g])),!0):!1})(a,e):void yt(19439)}function Lv(a){return a instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ss(i.value)}`})(a):a instanceof si?(function(i){return i.op.toString()+" {"+i.getFilters().map(Lv).join(" ,")+"}"})(a):"Filter"}class lb extends Re{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class ub extends Re{constructor(e,i){super(e,"in",i),this.keys=Pv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class ob extends Re{constructor(e,i){super(e,"not-in",i),this.keys=Pv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Pv(a,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class cb extends Re{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Bd(i)&&au(i.arrayValue,this.value)}}class hb extends Re{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&au(this.value.arrayValue,i)}}class fb extends Re{constructor(e,i){super(e,"not-in",i)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!au(this.value.arrayValue,i)}}class db extends Re{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Bd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>au(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,i=null,s=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function u_(a,e=null,i=[],s=[],u=null,h=null,d=null){return new mb(a,e,i,s,u,h,d)}function kd(a){const e=Tt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>dd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),bc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Ss(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Ss(s))).join(",")),e.Te=i}return e.Te}function qd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!ab(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Uv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!l_(a.startAt,e.startAt)&&l_(a.endAt,e.endAt)}function md(a){return mt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,i=null,s=[],u=[],h=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gb(a,e,i,s,u,h,d,g){return new wc(a,e,i,s,u,h,d,g)}function zv(a){return new wc(a)}function o_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function pb(a){return a.collectionGroup!==null}function Xl(a){const e=Tt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new dc(h,s))})),i.has(qe.keyField().canonicalString())||e.Ie.push(new dc(qe.keyField(),s))}return e.Ie}function ti(a){const e=Tt(a);return e.Ee||(e.Ee=yb(e,Xl(a))),e.Ee}function yb(a,e){if(a.limitType==="F")return u_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new dc(u.field,h)}));const i=a.endAt?new fc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new fc(a.startAt.position,a.startAt.inclusive):null;return u_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function gd(a,e,i){return new wc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Cc(a,e){return qd(ti(a),ti(e))&&a.limitType===e.limitType}function Bv(a){return`${kd(ti(a))}|lt:${a.limitType}`}function ds(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((u=>Lv(u))).join(", ")}]`),bc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((u=>Ss(u))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((u=>Ss(u))).join(",")),`Target(${s})`})(ti(a))}; limitType=${a.limitType})`}function Dc(a,e){return e.isFoundDocument()&&(function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):mt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(a,e)&&(function(s,u){for(const h of Xl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0})(a,e)&&(function(s,u){return!(s.startAt&&!(function(d,g,y){const p=s_(d,g,y);return d.inclusive?p<=0:p<0})(s.startAt,Xl(s),u)||s.endAt&&!(function(d,g,y){const p=s_(d,g,y);return d.inclusive?p>=0:p>0})(s.endAt,Xl(s),u))})(a,e)}function _b(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function kv(a){return(e,i)=>{let s=!1;for(const u of Xl(a)){const h=vb(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function vb(a,e,i){const s=a.field.isKeyField()?mt.comparator(e.key,i.key):(function(h,d,g){const y=d.data.field(h),p=g.data.field(h);return y!==null&&p!==null?As(y,p):yt(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,((i,s)=>{for(const[u,h]of s)e(u,h)}))}isEmpty(){return Sv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new ae(mt.comparator);function Bi(){return Eb}const qv=new ae(mt.comparator);function Fl(...a){let e=qv;for(const i of a)e=e.insert(i.key,i);return e}function jv(a){let e=qv;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function fa(){return $l()}function Hv(){return $l()}function $l(){return new ya((a=>a.toString()),((a,e)=>a.isEqual(e)))}const Tb=new ae(mt.comparator),Ab=new we(mt.comparator);function Nt(...a){let e=Ab;for(const i of a)e=e.add(i);return e}const Sb=new we(It);function bb(){return Sb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function Gv(a){return{integerValue:""+a}}function Rb(a,e){return ZS(e)?Gv(e):jd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function wb(a,e,i){return a instanceof mc?(function(u,h){const d={fields:{[wv]:{stringValue:Rv},[Dv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&zd(h)&&(h=Rc(h)),h&&(d.fields[Cv]=h),{mapValue:d}})(i,e):a instanceof su?Qv(a,e):a instanceof lu?Yv(a,e):(function(u,h){const d=Fv(u,h),g=c_(d)+c_(u.Ae);return fd(d)&&fd(u.Ae)?Gv(g):jd(u.serializer,g)})(a,e)}function Cb(a,e,i){return a instanceof su?Qv(a,e):a instanceof lu?Yv(a,e):i}function Fv(a,e){return a instanceof gc?(function(s){return fd(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class mc extends Vc{}class su extends Vc{constructor(e){super(),this.elements=e}}function Qv(a,e){const i=Kv(e);for(const s of a.elements)i.some((u=>ai(u,s)))||i.push(s);return{arrayValue:{values:i}}}class lu extends Vc{constructor(e){super(),this.elements=e}}function Yv(a,e){let i=Kv(e);for(const s of a.elements)i=i.filter((u=>!ai(u,s)));return{arrayValue:{values:i}}}class gc extends Vc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function c_(a){return de(a.integerValue||a.doubleValue)}function Kv(a){return Bd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Db(a,e){return a.field.isEqual(e.field)&&(function(s,u){return s instanceof su&&u instanceof su||s instanceof lu&&u instanceof lu?Ts(s.elements,u.elements,ai):s instanceof gc&&u instanceof gc?ai(s.Ae,u.Ae):s instanceof mc&&u instanceof mc})(a.transform,e.transform)}class Vb{constructor(e,i){this.version=e,this.transformResults=i}}class Ui{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wo(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Ic{}function Xv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Zv(a.key,Ui.none()):new fu(a.key,a.data,Ui.none());{const i=a.data,s=Cn.empty();let u=new we(qe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new _a(a.key,s,new Un(u.toArray()),Ui.none())}}function Ib(a,e,i){a instanceof fu?(function(u,h,d){const g=u.value.clone(),y=f_(u.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):a instanceof _a?(function(u,h,d){if(!Wo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=f_(u.fieldTransforms,h,d.transformResults),y=h.data;y.setAll($v(u)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Zl(a,e,i,s){return a instanceof fu?(function(h,d,g,y){if(!Wo(h.precondition,d))return g;const p=h.value.clone(),T=d_(h.fieldTransforms,y,d);return p.setAll(T),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(a,e,i,s):a instanceof _a?(function(h,d,g,y){if(!Wo(h.precondition,d))return g;const p=d_(h.fieldTransforms,y,d),T=d.data;return T.setAll($v(h)),T.setAll(p),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(a,e,i,s):(function(h,d,g){return Wo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,e,i)}function Nb(a,e){let i=null;for(const s of a.fieldTransforms){const u=e.data.field(s.field),h=Fv(s.transform,u||null);h!=null&&(i===null&&(i=Cn.empty()),i.set(s.field,h))}return i||null}function h_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Ts(s,u,((h,d)=>Db(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class fu extends Ic{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class _a extends Ic{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function $v(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function f_(a,e,i){const s=new Map;jt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let u=0;u<i.length;u++){const h=a[u],d=h.transform,g=e.data.field(h.field);s.set(h.field,Cb(d,g,i[u]))}return s}function d_(a,e,i){const s=new Map;for(const u of a){const h=u.transform,d=i.data.field(u.field);s.set(u.field,wb(h,d,e))}return s}class Zv extends Ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ob extends Ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&Ib(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Hv();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const y=Xv(d,g);y!==null&&s.set(u.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Nt())}isEqual(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,((i,s)=>h_(i,s)))&&Ts(this.baseMutations,e.baseMutations,((i,s)=>h_(i,s)))}}class Hd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){jt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let u=(function(){return Tb})();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new Hd(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Lt;function Lb(a){switch(a){case J.OK:return yt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return yt(15467,{code:a})}}function Jv(a){if(a===void 0)return zi("GRPC error has no .code"),J.UNKNOWN;switch(a){case _e.OK:return J.OK;case _e.CANCELLED:return J.CANCELLED;case _e.UNKNOWN:return J.UNKNOWN;case _e.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case _e.INTERNAL:return J.INTERNAL;case _e.UNAVAILABLE:return J.UNAVAILABLE;case _e.UNAUTHENTICATED:return J.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case _e.NOT_FOUND:return J.NOT_FOUND;case _e.ALREADY_EXISTS:return J.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return J.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case _e.ABORTED:return J.ABORTED;case _e.OUT_OF_RANGE:return J.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return J.UNIMPLEMENTED;case _e.DATA_LOSS:return J.DATA_LOSS;default:return yt(39323,{code:a})}}(Lt=_e||(_e={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new vr([4294967295,4294967295],0);function m_(a){const e=Pb().encode(a),i=new fv;return i.update(e),new Uint8Array(i.digest())}function g_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new vr([i,s],0),new vr([u,h],0)]}class Gd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=vr.fromNumber(this.ge)}ye(e,i,s){let u=e.add(i.multiply(vr.fromNumber(s)));return u.compare(zb)===1&&(u=new vr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=m_(e),[s,u]=g_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Gd(h,u,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=m_(e),[s,u]=g_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Nc(Et.min(),u,new ae(It),Bi(),Nt())}}class du{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new du(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i,s,u){this.be=e,this.removedTargetIds=i,this.key=s,this.De=u}}class Wv{constructor(e,i){this.targetId=e,this.Ce=i}}class tE{constructor(e,i,s=He.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class p_{constructor(){this.ve=0,this.Fe=y_(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Nt(),i=Nt(),s=Nt();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:yt(38017,{changeType:h})}})),new du(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=y_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Bb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bi(),this.Je=Fo(),this.He=Fo(),this.Ye=new ae(It)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,s=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(md(h))if(s===0){const d=new mt(h.path);this.et(i,d,Xe.newNoDocument(d,Et.min()))}else jt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=br(s).toUint8Array()}catch(y){if(y instanceof bv)return Es("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Gd(d,u,h)}catch(y){return Es(y instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&md(g.target)){const y=new mt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Xe.newNoDocument(y,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Nt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new Nc(e,i,this.Ye,this.je,s);return this.je=Bi(),this.Je=Fo(),this.He=Fo(),this.Ye=new ae(It),u}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new p_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new we(It),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new we(It),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new p_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Fo(){return new ae(mt.comparator)}function y_(){return new ae(mt.comparator)}const kb={asc:"ASCENDING",desc:"DESCENDING"},qb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jb={and:"AND",or:"OR"};class Hb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function pd(a,e){return a.useProto3Json||bc(e)?e:{value:e}}function pc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eE(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Gb(a,e){return pc(a,e.toTimestamp())}function ei(a){return jt(!!a,49232),Et.fromTimestamp((function(i){const s=Sr(i);return new te(s.seconds,s.nanos)})(a))}function Fd(a,e){return yd(a,e).canonicalString()}function yd(a,e){const i=(function(u){return new Wt(["projects",u.projectId,"databases",u.database])})(a).child("documents");return e===void 0?i:i.child(e)}function nE(a){const e=Wt.fromString(a);return jt(lE(e),10190,{key:e.toString()}),e}function _d(a,e){return Fd(a.databaseId,e.path)}function Zf(a,e){const i=nE(e);if(i.get(1)!==a.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new mt(rE(i))}function iE(a,e){return Fd(a.databaseId,e)}function Fb(a){const e=nE(a);return e.length===4?Wt.emptyPath():rE(e)}function vd(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function rE(a){return jt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function __(a,e,i){return{name:_d(a,e),fields:i.value.mapValue.fields}}function Qb(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:yt(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(p,T){return p.useProto3Json?(jt(T===void 0||typeof T=="string",58123),He.fromBase64String(T||"")):(jt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),He.fromUint8Array(T||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const T=p.code===void 0?J.UNKNOWN:Jv(p.code);return new ot(T,p.message||"")})(d);i=new tE(s,u,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Zf(a,s.document.name),h=ei(s.document.updateTime),d=s.document.createTime?ei(s.document.createTime):Et.min(),g=new Cn({mapValue:{fields:s.document.fields}}),y=Xe.newFoundDocument(u,h,d,g),p=s.targetIds||[],T=s.removedTargetIds||[];i=new tc(p,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Zf(a,s.document),h=s.readTime?ei(s.readTime):Et.min(),d=Xe.newNoDocument(u,h),g=s.removedTargetIds||[];i=new tc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Zf(a,s.document),h=s.removedTargetIds||[];i=new tc([],h,u,null)}else{if(!("filter"in e))return yt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new Ub(u,h),g=s.targetId;i=new Wv(g,d)}}return i}function Yb(a,e){let i;if(e instanceof fu)i={update:__(a,e.key,e.value)};else if(e instanceof Zv)i={delete:_d(a,e.key)};else if(e instanceof _a)i={update:__(a,e.key,e.data),updateMask:nR(e.fieldMask)};else{if(!(e instanceof Ob))return yt(16599,{Vt:e.type});i={verify:_d(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const g=d.transform;if(g instanceof mc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof su)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof lu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof gc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:Gb(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(a,e.precondition)),i}function Kb(a,e){return a&&a.length>0?(jt(e!==void 0,14353),a.map((i=>(function(u,h){let d=u.updateTime?ei(u.updateTime):ei(h);return d.isEqual(Et.min())&&(d=ei(h)),new Vb(d,u.transformResults||[])})(i,e)))):[]}function Xb(a,e){return{documents:[iE(a,e.path)]}}function $b(a,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=iE(a,u);const h=(function(p){if(p.length!==0)return sE(si.create(p,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(p){if(p.length!==0)return p.map((T=>(function(D){return{field:ms(D.field),direction:Wb(D.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:u}}function Zb(a){let e=Fb(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){jt(s===1,65062);const T=i.from[0];T.allDescendants?u=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=(function(S){const D=aE(S);return D instanceof si&&xv(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(Q){return new dc(gs(Q.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let D;return D=typeof S=="object"?S.value:S,bc(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(S){const D=!!S.before,k=S.values||[];return new fc(k,D)})(i.startAt));let p=null;return i.endAt&&(p=(function(S){const D=!S.before,k=S.values||[];return new fc(k,D)})(i.endAt)),gb(e,u,d,h,g,"F",y,p)}function Jb(a,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function aE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=gs(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=gs(i.unaryFilter.field);return Re.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=gs(i.unaryFilter.field);return Re.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gs(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Re.create(gs(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return si.create(i.compositeFilter.filters.map((s=>aE(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(a):yt(30097,{filter:a})}function Wb(a){return kb[a]}function tR(a){return qb[a]}function eR(a){return jb[a]}function ms(a){return{fieldPath:a.canonicalString()}}function gs(a){return qe.fromServerFormat(a.fieldPath)}function sE(a){return a instanceof Re?(function(i){if(i.op==="=="){if(a_(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NAN"}};if(r_(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(a_(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NAN"}};if(r_(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(i.field),op:tR(i.op),value:i.value}}})(a):a instanceof si?(function(i){const s=i.getFilters().map((u=>sE(u)));return s.length===1?s[0]:{compositeFilter:{op:eR(i.op),filters:s}}})(a):yt(54877,{filter:a})}function nR(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function lE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,i,s,u,h=Et.min(),d=Et.min(),g=He.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.yt=e}}function rR(a){const e=Zb({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?gd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.Cn=new sR}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Ar.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class sR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new we(Wt.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uE=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(uE,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bs(0)}static cr(){return new bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="LruGarbageCollector",lR=1048576;function T_([a,e],[i,s]){const u=It(a,i);return u===0?It(e,s):u}class uR{constructor(e){this.Ir=e,this.buffer=new we(T_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();T_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(E_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ns(i)?lt(E_,"Ignoring IndexedDB error during garbage collection: ",i):await Is(i)}await this.Vr(3e5)}))}}class cR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Sc.ce);const s=new uR(i);return this.mr.forEachTarget(e,(u=>s.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>s.Ar(u))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(v_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,u,h,d,g,y,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),u=this.params.maximumSequenceNumbersToCollect):u=S,d=Date.now(),this.nthSequenceNumber(e,u)))).next((S=>(s=S,g=Date.now(),this.removeTargets(e,s,i)))).next((S=>(h=S,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(p=Date.now(),fs()<=Pt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:S}))))}}function hR(a,e){return new cR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.changes=new ya((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(s=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(s!==null&&Zl(s.mutation,u,Un.empty(),te.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Nt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Nt()){const u=fa();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,s).next((h=>{let d=Fl();return h.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=fa();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Nt())))}populateOverlays(e,i,s){const u=[];return s.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,u){let h=Bi();const d=$l(),g=(function(){return $l()})();return i.forEach(((y,p)=>{const T=s.get(p.key);u.has(p.key)&&(T===void 0||T.mutation instanceof _a)?h=h.insert(p.key,p):T!==void 0?(d.set(p.key,T.mutation.getFieldMask()),Zl(T.mutation,p,T.mutation.getFieldMask(),te.now())):d.set(p.key,Un.empty())})),this.recalculateAndSaveOverlays(e,h).next((y=>(y.forEach(((p,T)=>d.set(p,T))),i.forEach(((p,T)=>g.set(p,new dR(T,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=$l();let u=new ae(((d,g)=>d-g)),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=i.get(y);if(p===null)return;let T=s.get(y)||Un.empty();T=g.applyToLocalView(p,T),s.set(y,T);const S=(u.get(g.batchId)||Nt()).add(y);u=u.insert(g.batchId,S)}))})).next((()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,T=y.value,S=Hv();T.forEach((D=>{if(!h.has(D)){const k=Xv(i.get(D),s.get(D));k!==null&&S.set(D,k),h=h.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,S))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,u){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):pb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):$.resolve(fa());let g=nu,y=h;return d.next((p=>$.forEach(p,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),h.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next((D=>{y=y.insert(T,D)}))))).next((()=>this.populateOverlays(e,p,h))).next((()=>this.computeViews(e,y,p,Nt()))).next((T=>({batchId:g,changes:jv(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((s=>{let u=Fl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,h).next((g=>$.forEach(g,(y=>{const p=(function(S,D){return new wc(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,p,s,u).next((T=>{T.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u)))).next((d=>{h.forEach(((y,p)=>{const T=p.getKey();d.get(T)===null&&(d=d.insert(T,Xe.newInvalidDocument(T)))}));let g=Fl();return d.forEach(((y,p)=>{const T=h.get(y);T!==void 0&&Zl(T.mutation,p,Un.empty(),te.now()),Dc(i,p)&&(g=g.insert(y,p))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:ei(u.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:rR(u.bundledQuery),readTime:ei(u.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.overlays=new ae(mt.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=fa();return $.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&s.set(u,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((u,h)=>{this.St(e,i,h)})),$.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const u=fa(),h=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===h&&y.largestBatchId>s&&u.set(y.getKey(),y)}return $.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new ae(((p,T)=>p-T));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let T=h.get(p.largestBatchId);T===null&&(T=fa(),h=h.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=fa(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,T)=>g.set(p,T))),!(g.size()>=u)););return $.resolve(g)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new xb(i,s));let h=this.qr.get(i);h===void 0&&(h=Nt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.Qr=new we(Me.$r),this.Ur=new we(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Me(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new mt(new Wt([])),s=new Me(i,e),u=new Me(i,e+1),h=[];return this.Ur.forEachInRange([s,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new Wt([])),s=new Me(i,e),u=new Me(i,e+1);let h=Nt();return this.Ur.forEachInRange([s,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Me(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||It(e.Yr,i.Yr)}static Kr(e,i){return It(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new we(Me.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Mb(h,i,s,u);this.mutationQueue.push(d);for(const g of u)this.Zr=this.Zr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ei(s),h=u<0?0:u;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Pd:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),u=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,u],(d=>{const g=this.Xr(d.Yr);h.push(g)})),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(It);return i.forEach((u=>{const h=new Me(u,0),d=new Me(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{s=s.add(g.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;mt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new mt(h),0);let g=new we(It);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===u&&(g=g.add(y.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const u=this.Xr(s);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(i.mutations,(u=>{const h=new Me(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Me(i,0),u=this.Zr.firstAfterOrEqual(s);return $.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.ri=e,this.docs=(function(){return new ae(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=Bi();return i.forEach((u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Xe.newInvalidDocument(u))})),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Bi();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:T}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||YS(QS(T),s)<=0||(u.has(T.key)||Dc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(e,i,s,u){yt(9500)}ii(e,i){return $.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new ER(this)}getSize(e){return $.resolve(this.size)}}class ER extends fR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(s)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.persistence=e,this.si=new ya((i=>kd(i)),qd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Qd,this.targetCount=0,this.ai=bs.ur()}forEachTarget(e,i){return this.si.forEach(((s,u)=>i(u))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new bs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)})),$.waitFor(h).next((()=>u))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),$.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),$.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Sc(0),this.li=!1,this.li=!0,this.hi=new yR,this.referenceDelegate=e(this),this.Pi=new TR(this),this.indexManager=new aR,this.remoteDocumentCache=(function(u){return new vR(u)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new iR(i),this.Ii=new gR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new pR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new _R(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const u=new AR(this.ci.next());return this.referenceDelegate.Ei(),s(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(e,i){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class AR extends XS{constructor(e){super(),this.currentSequenceNumber=e}}class Yd{constructor(e){this.persistence=e,this.Ri=new Qd,this.Vi=null}static mi(e){return new Yd(e)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const u=mt.fromPath(s);return this.gi(e,u).next((h=>{h||i.removeEntry(u,Et.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class yc{constructor(e,i){this.persistence=e,this.pi=new ya((s=>JS(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=hR(this,i)}static mi(e,i){return new yc(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((u=>s+u))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((s,u)=>this.br(e,s,u).next((h=>h?$.resolve():i(u)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,h.removeEntry(d,Et.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Zo(e.data.value)),i}br(e,i,s){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return $.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=u}static As(e,i){let s=Nt(),u=Nt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Kd(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mA()?8:$S(fA())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,u,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new SR;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,s,u){return s.documentReadCount<this.fs?(fs()<=Pt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(fs()<=Pt.DEBUG&&lt("QueryEngine","Query:",ds(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(fs()<=Pt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):$.resolve())}ys(e,i){if(o_(i))return $.resolve(null);let s=ti(i);return this.indexManager.getIndexType(e,s).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=gd(i,null,"F"),s=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Nt(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((y=>{const p=this.Ds(i,g);return this.Cs(i,p,d,y.readTime)?this.ys(e,gd(i,null,"F")):this.vs(e,p,i,y)}))))})))))}ws(e,i,s,u){return o_(i)||u.isEqual(Et.min())?$.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,u)?$.resolve(null):(fs()<=Pt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ds(i)),this.vs(e,d,i,FS(u,nu)).next((g=>g)))}))}Ds(e,i){let s=new we(kv(e));return i.forEach(((u,h)=>{Dc(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,s){return fs()<=Pt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",ds(i)),this.ps.getDocumentsMatchingQuery(e,i,Ar.min(),s)}vs(e,i,s,u){return this.ps.getDocumentsMatchingQuery(e,s,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="LocalStore",RR=3e8;class wR{constructor(e,i,s,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new ae(It),this.xs=new ya((h=>kd(h)),qd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function CR(a,e,i,s){return new wR(a,e,i,s)}async function cE(a,e){const i=Tt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next((h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],g=[];let y=Nt();for(const p of u){d.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}for(const p of h){g.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(s,y).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function DR(a,e){const i=Tt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,T){const S=p.batch,D=S.keys();let k=$.resolve();return D.forEach((Q=>{k=k.next((()=>T.getEntry(y,Q))).next((W=>{const H=p.docVersions.get(Q);jt(H!==null,48541),W.version.compareTo(H)<0&&(S.applyToRemoteDocument(W,p),W.isValidDocument()&&(W.setReadTime(p.commitVersion),T.addEntry(W)))}))})),k.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Nt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(s,u)))}))}function hE(a){const e=Tt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function VR(a,e){const i=Tt(a),s=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const g=[];e.targetChanges.forEach(((T,S)=>{const D=u.get(S);if(!D)return;g.push(i.Pi.removeMatchingKeys(h,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(h,T.addedDocuments,S))));let k=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?k=k.withResumeToken(He.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,s)),u=u.insert(S,k),(function(W,H,nt){return W.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=RR?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(D,k,T)&&g.push(i.Pi.updateTargetData(h,k))}));let y=Bi(),p=Nt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))})),g.push(IR(h,d,e.documentUpdates).next((T=>{y=T.ks,p=T.qs}))),!s.isEqual(Et.min())){const T=i.Pi.getLastRemoteSnapshotVersion(h).next((S=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));g.push(T)}return $.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,y,p))).next((()=>y))})).then((h=>(i.Ms=u,h)))}function IR(a,e,i){let s=Nt(),u=Nt();return i.forEach((h=>s=s.add(h))),e.getEntries(a,s).next((h=>{let d=Bi();return i.forEach(((g,y)=>{const p=h.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(u=u.add(g)),y.isNoDocument()&&y.version.isEqual(Et.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):lt(Xd,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:d,qs:u}}))}function NR(a,e){const i=Tt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Pd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function OR(a,e){const i=Tt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return i.Pi.getTargetData(s,e).next((h=>h?(u=h,$.resolve(u)):i.Pi.allocateTargetId(s).next((d=>(u=new pr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=i.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Ed(a,e,i){const s=Tt(a),u=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Ns(d))throw d;lt(Xd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(u.target)}function A_(a,e,i){const s=Tt(a);let u=Et.min(),h=Nt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,T){const S=Tt(y),D=S.xs.get(T);return D!==void 0?$.resolve(S.Ms.get(D)):S.Pi.getTargetData(p,T)})(s,d,ti(e)).next((g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{h=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?u:Et.min(),i?h:Nt()))).next((g=>(MR(s,_b(e),g),{documents:g,Qs:h})))))}function MR(a,e,i){let s=a.Os.get(e)||Et.min();i.forEach(((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),a.Os.set(e,s)}class S_{constructor(){this.activeTargetIds=bb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xR{constructor(){this.Mo=new S_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new S_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="ConnectivityMonitor";class R_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(b_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(b_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo=null;function Td(){return Qo===null?Qo=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qo++,"0x"+Qo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="RestConnection",LR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===cc?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(e,i,s,u,h){const d=Td(),g=this.zo(e,i.toUriEncodedString());lt(Jf,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,u,h);const{host:p}=new URL(g),T=Od(p);return this.Jo(e,g,y,s,T).then((S=>(lt(Jf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Es(Jf,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(e,i,s,u,h,d){return this.Go(e,i,s,u,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),s&&s.headers.forEach(((u,h)=>e[h]=u))}zo(e,i){const s=LR[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class BR extends PR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,h){const d=Td();return new Promise(((g,y)=>{const p=new dv;p.setWithCredentials(!0),p.listenOnce(mv.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case $o.NO_ERROR:const S=p.getResponseJson();lt(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case $o.TIMEOUT:lt(Ye,`RPC '${e}' ${d} timed out`),y(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case $o.HTTP_ERROR:const D=p.getStatus();if(lt(Ye,`RPC '${e}' ${d} failed with status:`,D,"response text:",p.getResponseText()),D>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const Q=k?.error;if(Q&&Q.status&&Q.message){const W=(function(nt){const tt=nt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(tt)>=0?tt:J.UNKNOWN})(Q.status);y(new ot(W,Q.message))}else y(new ot(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new ot(J.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{lt(Ye,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(u);lt(Ye,`RPC '${e}' ${d} sending request:`,u),p.send(i,"POST",T,s,15)}))}T_(e,i,s){const u=Td(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=yv(),g=pv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const T=h.join("");lt(Ye,`Creating RPC '${e}' stream ${u}: ${T}`,y);const S=d.createWebChannel(T,y);this.I_(S);let D=!1,k=!1;const Q=new zR({Yo:H=>{k?lt(Ye,`Not sending because RPC '${e}' stream ${u} is closed:`,H):(D||(lt(Ye,`Opening RPC '${e}' stream ${u} transport.`),S.open(),D=!0),lt(Ye,`RPC '${e}' stream ${u} sending:`,H),S.send(H))},Zo:()=>S.close()}),W=(H,nt,tt)=>{H.listen(nt,(rt=>{try{tt(rt)}catch(St){setTimeout((()=>{throw St}),0)}}))};return W(S,Gl.EventType.OPEN,(()=>{k||(lt(Ye,`RPC '${e}' stream ${u} transport opened.`),Q.o_())})),W(S,Gl.EventType.CLOSE,(()=>{k||(k=!0,lt(Ye,`RPC '${e}' stream ${u} transport closed`),Q.a_(),this.E_(S))})),W(S,Gl.EventType.ERROR,(H=>{k||(k=!0,Es(Ye,`RPC '${e}' stream ${u} transport errored. Name:`,H.name,"Message:",H.message),Q.a_(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),W(S,Gl.EventType.MESSAGE,(H=>{if(!k){const nt=H.data[0];jt(!!nt,16349);const tt=nt,rt=tt?.error||tt[0]?.error;if(rt){lt(Ye,`RPC '${e}' stream ${u} received error:`,rt);const St=rt.status;let ht=(function(b){const w=_e[b];if(w!==void 0)return Jv(w)})(St),Ot=rt.message;ht===void 0&&(ht=J.INTERNAL,Ot="Unknown error status: "+St+" with message "+rt.message),k=!0,Q.a_(new ot(ht,Ot)),S.close()}else lt(Ye,`RPC '${e}' stream ${u} received:`,nt),Q.u_(nt)}})),W(g,gv.STAT_EVENT,(H=>{H.stat===od.PROXY?lt(Ye,`RPC '${e}' stream ${u} detected buffering proxy`):H.stat===od.NOPROXY&&lt(Ye,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(a){return new Hb(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,i,s=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&lt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="PersistentStream";class dE{constructor(e,i,s,u,h,d,g,y){this.Mi=e,this.S_=s,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(zi(i.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===i&&this.G_(s,u)}),(s=>{e((()=>{const u=new ot(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(w_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(lt(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kR extends dE{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Qb(this.serializer,e),s=(function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ei(d.readTime):Et.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=vd(this.serializer),i.addTarget=(function(h,d){let g;const y=d.target;if(g=md(y)?{documents:Xb(h,y)}:{query:$b(h,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=eE(h,d.resumeToken);const p=pd(h,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=pc(h,d.snapshotVersion.toTimestamp());const p=pd(h,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const s=Jb(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=vd(this.serializer),i.removeTarget=e,this.q_(i)}}class qR extends dE{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Kb(e.writeResults,e.commitTime),s=ei(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=vd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>Yb(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{}class HR extends jR{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,yd(i,s),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(J.UNKNOWN,h.toString())}))}Ho(e,i,s,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,yd(i,s),u,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zi(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class FR{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{va(this)&&(lt(ma,"Restarting streams for network reachability change."),await(async function(y){const p=Tt(y);p.Ea.add(4),await mu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Mc(p)})(this))}))})),this.Ra=new GR(s,u)}}async function Mc(a){if(va(a))for(const e of a.da)await e(!0)}async function mu(a){for(const e of a.da)await e(!1)}function mE(a,e){const i=Tt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Wd(i)?Jd(i):Os(i).O_()&&Zd(i,e))}function $d(a,e){const i=Tt(a),s=Os(i);i.Ia.delete(e),s.O_()&&gE(i,e),i.Ia.size===0&&(s.O_()?s.L_():va(i)&&i.Ra.set("Unknown"))}function Zd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Os(a).Y_(e)}function gE(a,e){a.Va.Ue(e),Os(a).Z_(e)}function Jd(a){a.Va=new Bb({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Os(a).start(),a.Ra.ua()}function Wd(a){return va(a)&&!Os(a).x_()&&a.Ia.size>0}function va(a){return Tt(a).Ea.size===0}function pE(a){a.Va=void 0}async function QR(a){a.Ra.set("Online")}async function YR(a){a.Ia.forEach(((e,i)=>{Zd(a,e)}))}async function KR(a,e){pE(a),Wd(a)?(a.Ra.ha(e),Jd(a)):a.Ra.set("Unknown")}async function XR(a,e,i){if(a.Ra.set("Online"),e instanceof tE&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const g of h.targetIds)u.Ia.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.Ia.delete(g),u.Va.removeTarget(g))})(a,e)}catch(s){lt(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _c(a,s)}else if(e instanceof tc?a.Va.Ze(e):e instanceof Wv?a.Va.st(e):a.Va.tt(e),!i.isEqual(Et.min()))try{const s=await hE(a.localStore);i.compareTo(s)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const T=h.Ia.get(p);T&&h.Ia.set(p,T.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const T=h.Ia.get(y);if(!T)return;h.Ia.set(y,T.withResumeToken(He.EMPTY_BYTE_STRING,T.snapshotVersion)),gE(h,y);const S=new pr(T.target,y,p,T.sequenceNumber);Zd(h,S)})),h.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(s){lt(ma,"Failed to raise snapshot:",s),await _c(a,s)}}async function _c(a,e,i){if(!Ns(e))throw e;a.Ea.add(1),await mu(a),a.Ra.set("Offline"),i||(i=()=>hE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{lt(ma,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Mc(a)}))}function yE(a,e){return e().catch((i=>_c(a,i,e)))}async function xc(a){const e=Tt(a),i=wr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pd;for(;$R(e);)try{const u=await NR(e.localStore,s);if(u===null){e.Ta.length===0&&i.L_();break}s=u.batchId,ZR(e,u)}catch(u){await _c(e,u)}_E(e)&&vE(e)}function $R(a){return va(a)&&a.Ta.length<10}function ZR(a,e){a.Ta.push(e);const i=wr(a);i.O_()&&i.X_&&i.ea(e.mutations)}function _E(a){return va(a)&&!wr(a).x_()&&a.Ta.length>0}function vE(a){wr(a).start()}async function JR(a){wr(a).ra()}async function WR(a){const e=wr(a);for(const i of a.Ta)e.ea(i.mutations)}async function t2(a,e,i){const s=a.Ta.shift(),u=Hd.from(s,e,i);await yE(a,(()=>a.remoteSyncer.applySuccessfulWrite(u))),await xc(a)}async function e2(a,e){e&&wr(a).X_&&await(async function(s,u){if((function(d){return Lb(d)&&d!==J.ABORTED})(u.code)){const h=s.Ta.shift();wr(s).B_(),await yE(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u))),await xc(s)}})(a,e),_E(a)&&vE(a)}async function C_(a,e){const i=Tt(a);i.asyncQueue.verifyOperationInProgress(),lt(ma,"RemoteStore received new credentials");const s=va(i);i.Ea.add(3),await mu(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mc(i)}async function n2(a,e){const i=Tt(a);e?(i.Ea.delete(2),await Mc(i)):e||(i.Ea.add(2),await mu(i),i.Ra.set("Unknown"))}function Os(a){return a.ma||(a.ma=(function(i,s,u){const h=Tt(i);return h.sa(),new kR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(a.datastore,a.asyncQueue,{Xo:QR.bind(null,a),t_:YR.bind(null,a),r_:KR.bind(null,a),H_:XR.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Wd(a)?Jd(a):a.Ra.set("Unknown")):(await a.ma.stop(),pE(a))}))),a.ma}function wr(a){return a.fa||(a.fa=(function(i,s,u){const h=Tt(i);return h.sa(),new qR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:JR.bind(null,a),r_:e2.bind(null,a),ta:WR.bind(null,a),na:t2.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await xc(a)):(await a.fa.stop(),a.Ta.length>0&&(lt(ma,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,g=new tm(e,i,d,u,h);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(a,e){if(zi("AsyncQueue",`${e}: ${a}`),Ns(a))return new ot(J.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{static emptySet(e){return new ys(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ys;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.ga=new ae(mt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):yt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Rs{constructor(e,i,s,u,h,d,g,y,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Rs(e,i,ys.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class r2{constructor(){this.queries=V_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const u=Tt(i),h=u.queries;u.queries=V_(),h.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function V_(){return new ya((a=>Bv(a)),Cc)}async function a2(a,e){const i=Tt(a);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(s=2):(h=new i2,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=em(d,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&nm(i)}async function s2(a,e){const i=Tt(a),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function l2(a,e){const i=Tt(a);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(u)&&(s=!0);d.wa=u}}s&&nm(i)}function u2(a,e,i){const s=Tt(a),u=s.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);s.queries.delete(e)}function nm(a){a.Ca.forEach((e=>{e.next()}))}var Ad,I_;(I_=Ad||(Ad={})).Ma="default",I_.Cache="cache";class o2{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Rs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ad.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.key=e}}class TE{constructor(e){this.key=e}}class c2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nt(),this.mutatedKeys=Nt(),this.eu=kv(e),this.tu=new ys(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new D_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const y=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,p=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((T,S)=>{const D=u.get(T),k=Dc(this.query,S)?S:null,Q=!!D&&this.mutatedKeys.has(D.key),W=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let H=!1;D&&k?D.data.isEqual(k.data)?Q!==W&&(s.track({type:3,doc:k}),H=!0):this.su(D,k)||(s.track({type:2,doc:k}),H=!0,(y&&this.eu(k,y)>0||p&&this.eu(k,p)<0)&&(g=!0)):!D&&k?(s.track({type:0,doc:k}),H=!0):D&&!k&&(s.track({type:1,doc:D}),H=!0,(y||p)&&(g=!0)),H&&(k?(d=d.add(k),h=W?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(k,Q){const W=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:H})}};return W(k)-W(Q)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),u=u??!1;const g=i&&!u?this._u():[],y=this.Xa.size===0&&this.current&&!u?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new Rs(this.query,e.tu,h,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Nt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new TE(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new EE(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Nt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Rs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const im="SyncEngine";class h2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class f2{constructor(e){this.key=e,this.hu=!1}}class d2{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ya((g=>Bv(g)),Cc),this.Iu=new Map,this.Eu=new Set,this.du=new ae(mt.comparator),this.Au=new Map,this.Ru=new Qd,this.Vu={},this.mu=new Map,this.fu=bs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function m2(a,e,i=!0){const s=CE(a);let u;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await AE(s,e,i,!0),u}async function g2(a,e){const i=CE(a);await AE(i,e,!0,!1)}async function AE(a,e,i,s){const u=await OR(a.localStore,ti(e)),h=u.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await p2(a,e,h,d==="current",u.resumeToken)),a.isPrimaryClient&&i&&mE(a.remoteStore,u),g}async function p2(a,e,i,s,u){a.pu=(S,D,k)=>(async function(W,H,nt,tt){let rt=H.view.ru(nt);rt.Cs&&(rt=await A_(W.localStore,H.query,!1).then((({documents:O})=>H.view.ru(O,rt))));const St=tt&&tt.targetChanges.get(H.targetId),ht=tt&&tt.targetMismatches.get(H.targetId)!=null,Ot=H.view.applyChanges(rt,W.isPrimaryClient,St,ht);return O_(W,H.targetId,Ot.au),Ot.snapshot})(a,S,D,k);const h=await A_(a.localStore,e,!0),d=new c2(e,h.Qs),g=d.ru(h.documents),y=du.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",u),p=d.applyChanges(g,a.isPrimaryClient,y);O_(a,i,p.au);const T=new h2(e,i,d);return a.Tu.set(e,T),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),p.snapshot}async function y2(a,e,i){const s=Tt(a),u=s.Tu.get(e),h=s.Iu.get(u.targetId);if(h.length>1)return s.Iu.set(u.targetId,h.filter((d=>!Cc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await Ed(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),i&&$d(s.remoteStore,u.targetId),Sd(s,u.targetId)})).catch(Is)):(Sd(s,u.targetId),await Ed(s.localStore,u.targetId,!0))}async function _2(a,e){const i=Tt(a),s=i.Tu.get(e),u=i.Iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),$d(i.remoteStore,s.targetId))}async function v2(a,e,i){const s=w2(a);try{const u=await(function(d,g){const y=Tt(d),p=te.now(),T=g.reduce(((k,Q)=>k.add(Q.key)),Nt());let S,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let Q=Bi(),W=Nt();return y.Ns.getEntries(k,T).next((H=>{Q=H,Q.forEach(((nt,tt)=>{tt.isValidDocument()||(W=W.add(nt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(k,Q))).next((H=>{S=H;const nt=[];for(const tt of g){const rt=Nb(tt,S.get(tt.key).overlayedDocument);rt!=null&&nt.push(new _a(tt.key,rt,Nv(rt.value.mapValue),Ui.exists(!0)))}return y.mutationQueue.addMutationBatch(k,p,nt,g)})).next((H=>{D=H;const nt=H.applyToLocalDocumentSet(S,W);return y.documentOverlayCache.saveOverlays(k,H.batchId,nt)}))})).then((()=>({batchId:D.batchId,changes:jv(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),(function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new ae(It)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p})(s,u.batchId,i),await gu(s,u.changes),await xc(s.remoteStore)}catch(u){const h=em(u,"Failed to persist write");i.reject(h)}}async function SE(a,e){const i=Tt(a);try{const s=await VR(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(jt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?jt(d.hu,14607):u.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))})),await gu(i,s,e)}catch(s){await Is(s)}}function N_(a,e,i){const s=Tt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&u.push(g.snapshot)})),(function(d,g){const y=Tt(d);y.onlineState=g;let p=!1;y.queries.forEach(((T,S)=>{for(const D of S.Sa)D.va(g)&&(p=!0)})),p&&nm(y)})(s.eventManager,e),u.length&&s.Pu.H_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function E2(a,e,i){const s=Tt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Au.get(e),h=u&&u.key;if(h){let d=new ae(mt.comparator);d=d.insert(h,Xe.newNoDocument(h,Et.min()));const g=Nt().add(h),y=new Nc(Et.min(),new Map,new ae(It),d,g);await SE(s,y),s.du=s.du.remove(h),s.Au.delete(e),rm(s)}else await Ed(s.localStore,e,!1).then((()=>Sd(s,e,i))).catch(Is)}async function T2(a,e){const i=Tt(a),s=e.batch.batchId;try{const u=await DR(i.localStore,e);RE(i,s,null),bE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await gu(i,u)}catch(u){await Is(u)}}async function A2(a,e,i){const s=Tt(a);try{const u=await(function(d,g){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return y.mutationQueue.lookupMutationBatch(p,g).next((S=>(jt(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(p,S)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,T,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>y.localDocuments.getDocuments(p,T)))}))})(s.localStore,e);RE(s,e,i),bE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await gu(s,u)}catch(u){await Is(u)}}function bE(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function RE(a,e,i){const s=Tt(a);let u=s.Vu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Vu[s.currentUser.toKey()]=u}}function Sd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||wE(a,s)}))}function wE(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&($d(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),rm(a))}function O_(a,e,i){for(const s of i)s instanceof EE?(a.Ru.addReference(s.key,e),S2(a,s)):s instanceof TE?(lt(im,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||wE(a,s.key)):yt(19791,{wu:s})}function S2(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(lt(im,"New document in limbo: "+i),a.Eu.add(s),rm(a))}function rm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new mt(Wt.fromString(e)),s=a.fu.next();a.Au.set(s,new f2(i)),a.du=a.du.insert(i,s),mE(a.remoteStore,new pr(ti(zv(i.path)),s,"TargetPurposeLimboResolution",Sc.ce))}}async function gu(a,e,i){const s=Tt(a),u=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,e,i).then((p=>{if((p||i)&&s.isPrimaryClient){const T=p?!p.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(p){u.push(p);const T=Kd.As(y.targetId,p);h.push(T)}})))})),await Promise.all(d),s.Pu.H_(u),await(async function(y,p){const T=Tt(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(p,(D=>$.forEach(D.Es,(k=>T.persistence.referenceDelegate.addReference(S,D.targetId,k))).next((()=>$.forEach(D.ds,(k=>T.persistence.referenceDelegate.removeReference(S,D.targetId,k)))))))))}catch(S){if(!Ns(S))throw S;lt(Xd,"Failed to update sequence numbers: "+S)}for(const S of p){const D=S.targetId;if(!S.fromCache){const k=T.Ms.get(D),Q=k.snapshotVersion,W=k.withLastLimboFreeSnapshotVersion(Q);T.Ms=T.Ms.insert(D,W)}}})(s.localStore,h))}async function b2(a,e){const i=Tt(a);if(!i.currentUser.isEqual(e)){lt(im,"User change. New user:",e.toKey());const s=await cE(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((y=>{y.reject(new ot(J.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gu(i,s.Ls)}}function R2(a,e){const i=Tt(a),s=i.Au.get(e);if(s&&s.hu)return Nt().add(s.key);{let u=Nt();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const g=i.Tu.get(d);u=u.unionWith(g.view.nu)}return u}}function CE(a){const e=Tt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=SE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E2.bind(null,e),e.Pu.H_=l2.bind(null,e.eventManager),e.Pu.yu=u2.bind(null,e.eventManager),e}function w2(a){const e=Tt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A2.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return CR(this.persistence,new bR,e.initialUser,this.serializer)}Cu(e){return new oE(Yd.mi,this.serializer)}Du(e){return new xR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class C2 extends vc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){jt(this.persistence.referenceDelegate instanceof yc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new oR(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new oE((s=>yc.mi(s,i)),this.serializer)}}class bd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>N_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=b2.bind(null,this.syncEngine),await n2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new r2})()}createDatastore(e){const i=Oc(e.databaseInfo.databaseId),s=(function(h){return new BR(h)})(e.databaseInfo);return(function(h,d,g,y){return new HR(h,d,g,y)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,u,h,d,g){return new FR(s,u,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>N_(this.syncEngine,i,0)),(function(){return R_.v()?new R_:new UR})())}createSyncEngine(e,i){return(function(u,h,d,g,y,p,T){const S=new d2(u,h,d,g,y,p);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Tt(i);lt(ma,"RemoteStore shutting down."),s.Ea.add(5),await mu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bd.provider={build:()=>new bd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class V2{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Ke.UNAUTHENTICATED,this.clientId=Ud.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{lt(Cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(lt(Cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=em(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function td(a,e){a.asyncQueue.verifyOperationInProgress(),lt(Cr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async u=>{s.isEqual(u)||(await cE(e.localStore,u),s=u)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function M_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await I2(a);lt(Cr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>C_(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,u)=>C_(e.remoteStore,u))),a._onlineComponents=e}async function I2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){lt(Cr,"Using user provided OfflineComponentProvider");try{await td(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===J.FAILED_PRECONDITION||u.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;Es("Error using user provided cache. Falling back to memory cache: "+i),await td(a,new vc)}}else lt(Cr,"Using default OfflineComponentProvider"),await td(a,new C2(void 0));return a._offlineComponents}async function DE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(lt(Cr,"Using user provided OnlineComponentProvider"),await M_(a,a._uninitializedComponentsProvider._online)):(lt(Cr,"Using default OnlineComponentProvider"),await M_(a,new bd))),a._onlineComponents}function N2(a){return DE(a).then((e=>e.syncEngine))}async function O2(a){const e=await DE(a),i=e.eventManager;return i.onListen=m2.bind(null,e.syncEngine),i.onUnlisten=y2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=g2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=_2.bind(null,e.syncEngine),i}function M2(a,e,i={}){const s=new Er;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,y,p){const T=new D2({next:D=>{T.Nu(),d.enqueueAndForget((()=>s2(h,S))),D.fromCache&&y.source==="server"?p.reject(new ot(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),S=new o2(g,T,{includeMetadataChanges:!0,qa:!0});return a2(h,S)})(await O2(a),a.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="firestore.googleapis.com",U_=!0;class L_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IE,this.ssl=U_}else this.host=e.host,this.ssl=e.ssl??U_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lR)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new xS;switch(s.type){case"firstParty":return new zS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=x_.get(i);s&&(lt("ComponentProvider","Removing Datastore"),x_.delete(i),s.terminate())})(this),Promise.resolve()}}function x2(a,e,i,s={}){a=uc(a,Uc);const u=Od(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;u&&(lA(`https://${g}`),hA("Firestore",!0)),h.host!==IE&&h.host!==g&&Es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:g,ssl:u,emulatorOptions:s};if(!ac(y,d)&&(a._setSettings(y),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=Ke.MOCK_USER;else{p=uA(s.mockUserToken,a._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ke(S)}a._authCredentials=new US(new vv(p,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Lc(this.firestore,e,this._query)}}class je{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new je(this.firestore,e,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(hu(i,je._jsonSchema))return new je(e,s||null,new mt(Wt.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:ve("string",je._jsonSchemaVersion),referencePath:ve("string")};class Tr extends Lc{constructor(e,i,s){super(e,i,zv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new je(this.firestore,null,new mt(e))}withConverter(e){return new Tr(this.firestore,e,this._path)}}function NE(a,e,...i){if(a=Wl(a),Ev("collection","path",e),a instanceof Uc){const s=Wt.fromString(e,...i);return $y(s),new Tr(a,null,s)}{if(!(a instanceof je||a instanceof Tr))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return $y(s),new Tr(a.firestore,null,s)}}function U2(a,e,...i){if(a=Wl(a),arguments.length===1&&(e=Ud.newId()),Ev("doc","path",e),a instanceof Uc){const s=Wt.fromString(e,...i);return Xy(s),new je(a,null,new mt(s))}{if(!(a instanceof je||a instanceof Tr))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return Xy(s),new je(a.firestore,a instanceof Tr?a.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fE(this,"async_queue_retry"),this._c=()=>{const s=Wf();s&&lt(P_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ns(e))throw e;lt(P_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,zi("INTERNAL UNHANDLED ERROR: ",B_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=tm.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&yt(47125,{Pc:B_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function B_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class am extends Uc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new z_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function L2(a,e){const i=typeof a=="object"?a:TS(),s=typeof a=="string"?a:cc,u=pS(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=aA("firestore");h&&x2(u,...h)}return u}function OE(a){if(a._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||P2(a),a._firestoreClient}function P2(a){const e=a._freezeSettings(),i=(function(u,h,d,g){return new eb(u,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,VE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new V2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(He.fromBase64String(e))}catch(i){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Dn(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:ve("string",Dn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ni._jsonSchemaVersion}}static fromJSON(e){if(hu(e,ni._jsonSchema))return new ni(e.latitude,e.longitude)}}ni._jsonSchemaVersion="firestore/geoPoint/1.0",ni._jsonSchema={type:ve("string",ni._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ii(e.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:ve("string",ii._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=/^__.*__$/;class B2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,i,this.fieldTransforms):new fu(e,this.data,i,this.fieldTransforms)}}function xE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:a})}}class lm{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ec(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xE(this.Ac)&&z2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class k2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Oc(e)}Cc(e,i,s,u=!1){return new lm({Ac:e,methodName:i,Dc:s,path:qe.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function q2(a){const e=a._freezeSettings(),i=Oc(a._databaseId);return new k2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function j2(a,e,i,s,u,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,e,i,u);zE("Data must be an object, but it was:",d,s);const g=LE(s,d);let y,p;if(h.merge)y=new Un(d.fieldMask),p=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const S of h.mergeFields){const D=H2(e,S,i);if(!d.contains(D))throw new ot(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);F2(T,D)||T.push(D)}y=new Un(T),p=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,p=d.fieldTransforms;return new B2(new Cn(g),y,p)}function UE(a,e){if(PE(a=Wl(a)))return zE("Unsupported field value:",e,a),LE(a,e);if(a instanceof ME)return(function(s,u){if(!xE(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,u){const h=[];let d=0;for(const g of s){let y=UE(g,u.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}})(a,e)}return(function(s,u){if((s=Wl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Rb(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=te.fromDate(s);return{timestampValue:pc(u.serializer,h)}}if(s instanceof te){const h=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pc(u.serializer,h)}}if(s instanceof ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dn)return{bytesValue:eE(u.serializer,s._byteString)};if(s instanceof je){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Fd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof ii)return(function(d,g){return{mapValue:{fields:{[Vv]:{stringValue:Iv},[hc]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return jd(g.serializer,p)}))}}}}}})(s,u);throw u.Sc(`Unsupported field value: ${Ld(s)}`)})(a,e)}function LE(a,e){const i={};return Sv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(a,((s,u)=>{const h=UE(u,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function PE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof te||a instanceof ni||a instanceof Dn||a instanceof je||a instanceof ME||a instanceof ii)}function zE(a,e,i){if(!PE(i)||!Tv(i)){const s=Ld(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function H2(a,e,i){if((e=Wl(e))instanceof sm)return e._internalPath;if(typeof e=="string")return BE(a,e);throw Ec("Field path arguments must be of type string or ",a,!1,void 0,i)}const G2=new RegExp("[~\\*/\\[\\]]");function BE(a,e,i){if(e.search(G2)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new sm(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Ec(a,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${s}`),d&&(y+=` in document ${u}`),y+=")"),new ot(J.INVALID_ARGUMENT,g+a+y)}function F2(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(qE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Q2 extends kE{data(){return super.data()}}function qE(a,e){return typeof e=="string"?BE(a,e):e instanceof sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K2{convertValue(e,i="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return pa(e,((u,h)=>{s[u]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[hc].arrayValue?.values?.map((s=>de(s.doubleValue)));return new ii(i)}convertGeoPoint(e){return new ni(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Rc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const i=Sr(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);jt(lE(s),9688,{name:e});const u=new ru(s.get(1),s.get(3)),h=new mt(s.popFirst(5));return u.isEqual(i)||zi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class Yo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _s extends kE{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(qE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=_s._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}_s._jsonSchemaVersion="firestore/documentSnapshot/1.0",_s._jsonSchema={type:ve("string",_s._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class ec extends _s{data(e={}){return super.data(e)}}class vs{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Yo(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new ec(this._firestore,this._userDataWriter,s.key,s,new Yo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((g=>{const y=new ec(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Yo(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const y=new ec(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Yo(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let p=-1,T=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:$2(g.type),doc:y,oldIndex:p,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ud.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:a})}}vs._jsonSchemaVersion="firestore/querySnapshot/1.0",vs._jsonSchema={type:ve("string",vs._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class Z2 extends K2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new je(this.firestore,null,i)}}function J2(a){a=uc(a,Lc);const e=uc(a.firestore,am),i=OE(e),s=new Z2(e);return Y2(a._query),M2(i,a._query).then((u=>new vs(e,s,a,u)))}function W2(a,e){const i=uc(a.firestore,am),s=U2(a),u=X2(a.converter,e);return tw(i,[j2(q2(a.firestore),"addDoc",s._key,u,a.converter!==null,{}).toMutation(s._key,Ui.exists(!1))]).then((()=>s))}function tw(a,e){return(function(s,u){const h=new Er;return s.asyncQueue.enqueueAndForget((async()=>v2(await N2(s),u,h))),h.promise})(OE(a),e)}(function(e,i=!0){(function(u){Vs=u})(ES),lc(new tu("firestore",((s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new am(new LS(s.getProvider("auth-internal")),new BS(d,s.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(p.options.projectId,T)})(d,u),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),ps(Fy,Qy,e),ps(Fy,Qy,"esm2020")})();const ew={apiKey:"AIzaSyAnlMs9Mfg_qEF5u9L6WHzLieAk7n4WcZo",authDomain:"personal-blog-f9a04.firebaseapp.com",projectId:"personal-blog-f9a04",storageBucket:"personal-blog-f9a04.firebasestorage.appspot.com",messagingSenderId:"98080344884",appId:"1:98080344884:web:d3f0d79291ce8272933361",measurementId:"G-HS3FR0C1QR"},nw=ov(ew),jE=L2(nw);function iw({onClose:a,onPost:e}){const[i,s]=Y.useState(""),[u,h]=Y.useState(""),[d,g]=Y.useState(""),[y,p]=Y.useState(""),T=async S=>{S.preventDefault();const D={title:i,artist:u,description:d,link:y};try{await W2(NE(jE,"songs"),D),e(D),a()}catch(k){console.error("Error posting song:",k)}};return At.jsx("div",{className:"modal",children:At.jsxs("div",{className:"modal-content",children:[At.jsx("h2",{children:"Post a Song"}),At.jsxs("form",{onSubmit:T,children:[At.jsx("input",{value:i,onChange:S=>s(S.target.value),placeholder:"Song Title",required:!0}),At.jsx("input",{value:u,onChange:S=>h(S.target.value),placeholder:"Artist",required:!0}),At.jsx("textarea",{value:d,onChange:S=>g(S.target.value),placeholder:"Description"}),At.jsx("input",{value:y,onChange:S=>p(S.target.value),placeholder:"YouTube/Spotify Link"}),At.jsx("button",{type:"submit",children:"Post"}),At.jsx("button",{type:"button",onClick:a,children:"Cancel"})]})]})})}function rw({refresh:a}){const[e,i]=Y.useState([]);return Y.useEffect(()=>{(async()=>{const u=await J2(NE(jE,"songs"));i(u.docs.map(h=>({id:h.id,...h.data()})))})()},[a]),At.jsx("div",{className:"song-list",children:e.map(s=>At.jsxs("div",{className:"song-card",children:[At.jsxs("h3",{children:[s.title,"  ",s.artist]}),At.jsx("p",{children:s.description}),s.link&&At.jsx("a",{href:s.link,target:"_blank",rel:"noreferrer",children:"Listen"})]},s.id))})}function aw(){const[a,e]=Y.useState(!1),[i,s]=Y.useState(0),u=()=>{s(h=>h+1),e(!1)};return At.jsxs("div",{className:"music-container",children:[At.jsx("h1",{children:"Music Blog"}),At.jsxs("p",{children:["Click here to add a song you've been listening to: ",At.jsx("button",{onClick:()=>e(!0),children:"Post a Song"})," "]}),At.jsx("br",{}),a&&At.jsx(iw,{onClose:()=>e(!1),onPost:u}),At.jsx(rw,{refresh:i})]})}function sw(){return At.jsxs(L1,{children:[At.jsx(Y1,{}),At.jsxs(d1,{children:[At.jsx(nd,{path:"/",element:At.jsx(K1,{})}),At.jsx(nd,{path:"/music",element:At.jsx(aw,{})})]})]})}AT.createRoot(document.getElementById("root")).render(At.jsx(Y.StrictMode,{children:At.jsx(sw,{})}));
